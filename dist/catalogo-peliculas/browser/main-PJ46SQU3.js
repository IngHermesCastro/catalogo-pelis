var QN=Object.defineProperty,YN=Object.defineProperties;var ZN=Object.getOwnPropertyDescriptors;var gI=Object.getOwnPropertySymbols,JN=Object.getPrototypeOf,XN=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,tx=Reflect.get;var mI=(n,e,t)=>e in n?QN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})XN.call(e,t)&&mI(n,t,e[t]);if(gI)for(var t of gI(e))ex.call(e,t)&&mI(n,t,e[t]);return n},J=(n,e)=>YN(n,ZN(e));var Mr=(n,e,t)=>tx(JN(n),t,e);var y=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Ip(n,e){return Object.is(n,e)}var Ye=null,qu=!1,bp=1,nn=Symbol("SIGNAL");function de(n){let e=Ye;return Ye=n,e}function Tp(){return Ye}var Oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fa(n){if(qu)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(Qu(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&ka(Ye)){let t=Ye.producerNode[e];Ku(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=ka(Ye)?yI(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function vI(){bp++}function Dp(n){if(!(ka(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===bp)){if(!n.producerMustRecompute(n)&&!Rp(n)){Ep(n);return}n.producerRecomputeValue(n),Ep(n)}}function Cp(n){if(n.liveConsumerNode===void 0)return;let e=qu;qu=!0;try{for(let t of n.liveConsumerNode)t.dirty||nx(t)}finally{qu=e}}function Sp(){return Ye?.consumerAllowSignalWrites!==!1}function nx(n){n.dirty=!0,Cp(n),n.consumerMarkedDirty?.(n)}function Ep(n){n.dirty=!1,n.lastCleanEpoch=bp}function Wu(n){return n&&(n.nextProducerIndex=0),de(n)}function Ap(n,e){if(de(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ka(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ku(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rp(n){Qu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Dp(t),r!==t.version))return!0}return!1}function Mp(n){if(Qu(n),ka(n))for(let e=0;e<n.producerNode.length;e++)Ku(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function yI(n,e,t){if(_I(n),n.liveConsumerNode.length===0&&wI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=yI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ku(n,e){if(_I(n),n.liveConsumerNode.length===1&&wI(n))for(let r=0;r<n.producerNode.length;r++)Ku(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Qu(i),i.producerIndexOfThis[r]=e}}function ka(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Qu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function _I(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function wI(n){return n.producerNode!==void 0}function Np(n,e){let t=Object.create(rx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Dp(t),Fa(t),t.value===Gu)throw t.error;return t.value};return r[nn]=t,r}var _p=Symbol("UNSET"),wp=Symbol("COMPUTING"),Gu=Symbol("ERRORED"),rx=J(F({},Oa),{value:_p,dirty:!0,error:null,equal:Ip,kind:"computed",producerMustRecompute(n){return n.value===_p||n.value===wp},producerRecomputeValue(n){if(n.value===wp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=wp;let t=Wu(n),r,i=!1;try{r=n.computation(),de(null),i=e!==_p&&e!==Gu&&r!==Gu&&n.equal(e,r)}catch(o){r=Gu,n.error=o}finally{Ap(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function ix(){throw new Error}var EI=ix;function II(n){EI(n)}function xp(n){EI=n}var ox=null;function Pp(n,e){let t=Object.create(Yu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Fa(t),t.value);return r[nn]=t,r}function La(n,e){Sp()||II(n),n.equal(n.value,e)||(n.value=e,sx(n))}function kp(n,e){Sp()||II(n),La(n,e(n.value))}var Yu=J(F({},Oa),{equal:Ip,value:void 0,kind:"signal"});function sx(n){n.version++,vI(),Cp(n),ox?.()}function Op(n){let e=de(null);try{return n()}finally{de(e)}}var Fp;function Va(){return Fp}function tr(n){let e=Fp;return Fp=n,e}var Zu=Symbol("NotFound");function X(n){return typeof n=="function"}function xo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ju=xo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof Ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bI(o)}catch(s){e=e??[],s instanceof Ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ju(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yi(t,e)}remove(e){let{_finalizers:t}=this;t&&yi(t,e),e instanceof n&&e._removeParent(this)}};ke.EMPTY=(()=>{let n=new ke;return n.closed=!0,n})();var Lp=ke.EMPTY;function Xu(n){return n instanceof ke||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function bI(n){X(n)?n():n.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Po={setTimeout(n,e,...t){let{delegate:r}=Po;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Po;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function el(n){Po.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(n);else throw n})}function ja(){}var TI=Vp("C",void 0,void 0);function DI(n){return Vp("E",void 0,n)}function CI(n){return Vp("N",n,void 0)}function Vp(n,e,t){return{kind:n,value:e,error:t}}var _i=null;function ko(n){if(hn.useDeprecatedSynchronousErrorHandling){let e=!_i;if(e&&(_i={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=_i;if(_i=null,t)throw r}}else n()}function SI(n){hn.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=n)}var wi=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xu(e)&&e.add(this)):this.destination=hx}static create(e,t,r){return new Nr(e,t,r)}next(e){this.isStopped?Up(CI(e),this):this._next(e)}error(e){this.isStopped?Up(DI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Up(TI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lx=Function.prototype.bind;function jp(n,e){return lx.call(n,e)}var Bp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){tl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){tl(r)}else tl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){tl(t)}}},Nr=class extends wi{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jp(e.next,o),error:e.error&&jp(e.error,o),complete:e.complete&&jp(e.complete,o)}):i=e}this.destination=new Bp(i)}};function tl(n){hn.useDeprecatedSynchronousErrorHandling?SI(n):el(n)}function dx(n){throw n}function Up(n,e){let{onStoppedNotification:t}=hn;t&&Po.setTimeout(()=>t(n,e))}var hx={closed:!0,next:ja,error:dx,complete:ja};var Oo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ht(n){return n}function $p(...n){return Hp(n)}function Hp(n){return n.length===0?Ht:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=px(t)?t:new Nr(t,r,i);return ko(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=AI(r),new r((i,o)=>{let s=new Nr({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Oo](){return this}pipe(...t){return Hp(t)(this)}toPromise(t){return t=AI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function AI(n){var e;return(e=n??hn.Promise)!==null&&e!==void 0?e:Promise}function fx(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function px(n){return n&&n instanceof wi||fx(n)&&Xu(n)}function zp(n){return X(n?.lift)}function pe(n){return e=>{if(zp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new qp(n,e,t,r,i)}var qp=class extends wi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fo(){return pe((n,e)=>{let t=null;n._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Lo=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,zp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Fo()(this)}};var RI=xo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new nl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new RI}next(t){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lp:(this.currentObservers=null,o.push(t),new ke(()=>{this.currentObservers=null,yi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new nl(e,t),n})(),nl=class extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Lp}};var Ze=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gp={now(){return(Gp.delegate||Date).now()},delegate:void 0};var rl=class extends ke{constructor(e,t){super()}schedule(e,t=0){return this}};var Ua={setInterval(n,e,...t){let{delegate:r}=Ua;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ua;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Vo=class extends rl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ua.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,yi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var jo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};jo.now=Gp.now;var Uo=class extends jo{constructor(e,t=jo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Wp=new Uo(Vo);var il=class extends Vo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ol=class extends Uo{};var Kp=new ol(il);var Rt=new ce(n=>n.complete());function MI(n){return n&&X(n.schedule)}function NI(n){return n[n.length-1]}function sl(n){return X(NI(n))?n.pop():void 0}function xr(n){return MI(NI(n))?n.pop():void 0}function Qp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function PI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(g){s(g)}}function u(f){try{l(r.throw(f))}catch(g){s(g)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function xI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(n){return this instanceof Ei?(this.v=n,this):new Ei(n)}function kI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(C){return Promise.resolve(C).then(v,g)}}function a(v,C){r[v]&&(i[v]=function(N){return new Promise(function(P,G){o.push([v,N,P,G])>1||u(v,N)})},C&&(i[v]=C(i[v])))}function u(v,C){try{l(r[v](C))}catch(N){m(o[0][3],N)}}function l(v){v.value instanceof Ei?Promise.resolve(v.value.v).then(f,g):m(o[0][2],v)}function f(v){u("next",v)}function g(v){u("throw",v)}function m(v,C){v(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function OI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof xI=="function"?xI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var al=n=>n&&typeof n.length=="number"&&typeof n!="function";function cl(n){return X(n?.then)}function ul(n){return X(n[Oo])}function ll(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function dl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hl=gx();function fl(n){return X(n?.[hl])}function pl(n){return kI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ei(t.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{t.releaseLock()}})}function gl(n){return X(n?.getReader)}function Be(n){if(n instanceof ce)return n;if(n!=null){if(ul(n))return mx(n);if(al(n))return vx(n);if(cl(n))return yx(n);if(ll(n))return FI(n);if(fl(n))return _x(n);if(gl(n))return wx(n)}throw dl(n)}function mx(n){return new ce(e=>{let t=n[Oo]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vx(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function yx(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,el)})}function _x(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function FI(n){return new ce(e=>{Ex(n,e).catch(t=>e.error(t))})}function wx(n){return FI(pl(n))}function Ex(n,e){var t,r,i,o;return PI(this,void 0,void 0,function*(){try{for(t=OI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Mt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Pr(n,e=0){return pe((t,r)=>{t.subscribe(he(r,i=>Mt(r,n,()=>r.next(i),e),()=>Mt(r,n,()=>r.complete(),e),i=>Mt(r,n,()=>r.error(i),e)))})}function kr(n,e=0){return pe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function LI(n,e){return Be(n).pipe(kr(e),Pr(e))}function VI(n,e){return Be(n).pipe(kr(e),Pr(e))}function jI(n,e){return new ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function UI(n,e){return new ce(t=>{let r;return Mt(t,e,()=>{r=n[hl](),Mt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function ml(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{Mt(t,e,()=>{let r=n[Symbol.asyncIterator]();Mt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function BI(n,e){return ml(pl(n),e)}function $I(n,e){if(n!=null){if(ul(n))return LI(n,e);if(al(n))return jI(n,e);if(cl(n))return VI(n,e);if(ll(n))return ml(n,e);if(fl(n))return UI(n,e);if(gl(n))return BI(n,e)}throw dl(n)}function ye(n,e){return e?$I(n,e):Be(n)}function Y(...n){let e=xr(n);return ye(n,e)}function Bo(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new ce(e?i=>e.schedule(r,0,i):r)}function Yp(n){return!!n&&(n instanceof ce||X(n.lift)&&X(n.subscribe))}var fn=xo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ii(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Nr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new fn)}});n.subscribe(o)})}function ie(n,e){return pe((t,r)=>{let i=0;t.subscribe(he(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Ix}=Array;function bx(n,e){return Ix(e)?n(...e):n(e)}function vl(n){return ie(e=>bx(n,e))}var{isArray:Tx}=Array,{getPrototypeOf:Dx,prototype:Cx,keys:Sx}=Object;function yl(n){if(n.length===1){let e=n[0];if(Tx(e))return{args:e,keys:null};if(Ax(e)){let t=Sx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Ax(n){return n&&typeof n=="object"&&Dx(n)===Cx}function _l(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ba(...n){let e=xr(n),t=sl(n),{args:r,keys:i}=yl(n);if(r.length===0)return ye([],e);let o=new ce(Rx(r,e,i?s=>_l(i,s):Ht));return t?o.pipe(vl(t)):o}function Rx(n,e,t=Ht){return r=>{HI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)HI(e,()=>{let l=ye(n[u],e),f=!1;l.subscribe(he(r,g=>{o[u]=g,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function HI(n,e,t){n?Mt(t,n,e):e()}function zI(n,e,t,r,i,o,s,a){let u=[],l=0,f=0,g=!1,m=()=>{g&&!u.length&&!l&&e.complete()},v=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let P=!1;Be(t(N,f++)).subscribe(he(e,G=>{i?.(G),o?v(G):e.next(G)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let G=u.shift();s?Mt(e,s,()=>C(G)):C(G)}m()}catch(G){e.error(G)}}))};return n.subscribe(he(e,v,()=>{g=!0,m()})),()=>{a?.()}}function Ve(n,e,t=1/0){return X(e)?Ve((r,i)=>ie((o,s)=>e(r,o,i,s))(Be(n(r,i))),t):(typeof e=="number"&&(t=e),pe((r,i)=>zI(r,i,n,t)))}function $o(n=1/0){return Ve(Ht,n)}function qI(){return $o(1)}function Ho(...n){return qI()(ye(n,xr(n)))}function wl(n){return new ce(e=>{Be(n()).subscribe(e)})}function Zp(...n){let e=sl(n),{args:t,keys:r}=yl(n),i=new ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let g=!1;Be(t[f]).subscribe(he(o,m=>{g||(g=!0,l--),a[f]=m},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?_l(r,a):a),o.complete())}))}});return e?i.pipe(vl(e)):i}function bt(n,e){return pe((t,r)=>{let i=0;t.subscribe(he(r,o=>n.call(e,o,i++)&&r.next(o)))})}function nr(n){return pe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(he(t,void 0,void 0,s=>{o=Be(n(s,nr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function GI(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(he(s,f=>{let g=l++;u=a?n(u,f,g):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Cn(n,e){return X(e)?Ve(n,e,1):Ve(n,1)}function Or(n){return pe((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function rr(n){return n<=0?()=>Rt:pe((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function El(n=Mx){return pe((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Mx(){return new fn}function bi(n){return pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ir(n,e){let t=arguments.length>=2;return r=>r.pipe(n?bt((i,o)=>n(i,o,r)):Ht,rr(1),t?Or(e):El(()=>new fn))}function zo(n){return n<=0?()=>Rt:pe((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?bt((i,o)=>n(i,o,r)):Ht,zo(1),t?Or(e):El(()=>new fn))}function Xp(n,e){return pe(GI(n,e,arguments.length>=2,!0))}function eg(...n){let e=xr(n);return pe((t,r)=>{(e?Ho(n,t,e):Ho(n,t)).subscribe(r)})}function Je(n,e){return pe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(he(r,u=>{i?.unsubscribe();let l=0,f=o++;Be(n(u,f)).subscribe(i=he(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tg(n){return pe((e,t)=>{Be(n).subscribe(he(t,()=>t.complete(),ja)),!t.closed&&e.subscribe(t)})}function dt(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ht}var O0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(F0(e,t)),this.code=e}};function Nx(n){return`NG0${Math.abs(n)}`}function F0(n,e){return`${Nx(n)}${e?": "+e:""}`}var L0=Symbol("InputSignalNode#UNSET"),xx=J(F({},Yu),{transformFn:void 0,applyValueToInputSignal(n,e){La(n,e)}});function V0(n,e){let t=Object.create(xx);t.value=n,t.transformFn=e?.transform;function r(){if(Fa(t),t.value===L0){let i=null;throw new $(-950,i)}return t.value}return r[nn]=t,r}function Ja(n){return{toString:n}.toString()}var Il="__parameters__";function Px(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function j0(n,e,t){return Ja(()=>{let r=Px(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,f){let g=u.hasOwnProperty(Il)?u[Il]:Object.defineProperty(u,Il,{value:[]})[Il];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var gg=globalThis;function Se(n){for(let e in n)if(n[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function kx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function WI(n,e){return n?e?`${n} ${e}`:n:e||""}var Ox=Se({__forward_ref__:Se});function Li(n){return n.__forward_ref__=Li,n.toString=function(){return xt(this())},n}function Tt(n){return U0(n)?n():n}function U0(n){return typeof n=="function"&&n.hasOwnProperty(Ox)&&n.__forward_ref__===Li}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function rd(n){return KI(n,$0)||KI(n,H0)}function B0(n){return rd(n)!==null}function KI(n,e){return n.hasOwnProperty(e)?n[e]:null}function Fx(n){let e=n&&(n[$0]||n[H0]);return e||null}function QI(n){return n&&(n.hasOwnProperty(YI)||n.hasOwnProperty(Lx))?n[YI]:null}var $0=Se({\u0275prov:Se}),YI=Se({\u0275inj:Se}),H0=Se({ngInjectableDef:Se}),Lx=Se({ngInjectorDef:Se}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function z0(n){return n&&!!n.\u0275providers}var Vx=Se({\u0275cmp:Se}),jx=Se({\u0275dir:Se}),Ux=Se({\u0275pipe:Se}),Bx=Se({\u0275mod:Se}),Ml=Se({\u0275fac:Se}),qa=Se({__NG_ELEMENT_ID__:Se}),ZI=Se({__NG_ENV_ID__:Se});function id(n){return typeof n=="string"?n:n==null?"":String(n)}function $x(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():id(n)}function q0(n,e){throw new $(-200,n)}function rm(n,e){throw new $(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),mg;function G0(){return mg}function Nt(n){let e=mg;return mg=n,e}function W0(n,e,t){let r=rd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;rm(n,"Injector")}var Hx={},Ti=Hx,vg="__NG_DI_FLAG__",Nl=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Zu:Ti,r)}},xl="ngTempTokenPath",zx="ngTokenPath",qx=/\n/gm,Gx="\u0275",JI="__source";function Wx(n,e=ne.Default){if(Va()===void 0)throw new $(-203,!1);if(Va()===null)return W0(n,void 0,e);{let t=Va(),r;return t instanceof Nl?r=t.injector:r=t,r.get(n,e&ne.Optional?null:void 0,e)}}function H(n,e=ne.Default){return(G0()||Wx)(Tt(n),e)}function x(n,e=ne.Default){return H(n,od(e))}function od(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yg(n){let e=[];for(let t=0;t<n.length;t++){let r=Tt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Kx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function K0(n,e){return n[vg]=e,n.prototype[vg]=e,n}function Kx(n){return n[vg]}function Qx(n,e,t,r){let i=n[xl];throw e[JI]&&i.unshift(e[JI]),n.message=Yx(`
`+n.message,i,t,r),n[zx]=i,n[xl]=null,n}function Yx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Gx?n.slice(2):n;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(qx,`
  `)}`}var qt=K0(j0("Optional"),8);var Zx=K0(j0("SkipSelf"),4);function Ci(n,e){let t=n.hasOwnProperty(Ml);return t?n[Ml]:null}function im(n,e){n.forEach(t=>Array.isArray(t)?im(t,e):e(t))}function Q0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Pl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Jx(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Xx(n,e,t){let r=Xa(n,e);return r>=0?n[r|1]=t:(r=~r,Jx(n,r,e,t)),r}function ng(n,e){let t=Xa(n,e);if(t>=0)return n[t|1]}function Xa(n,e){return e1(n,e,1)}function e1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Si={},rn=[],Ga=new j(""),Y0=new j("",-1),Z0=new j(""),kl=class{get(e,t=Ti){if(t===Ti){let r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return t}};function J0(n,e){let t=n[Bx]||null;if(!t&&e===!0)throw new Error(`Type ${xt(n)} does not have '\u0275mod' property.`);return t}function Ai(n){return n[Vx]||null}function t1(n){return n[jx]||null}function n1(n){return n[Ux]||null}function an(n){return{\u0275providers:n}}function r1(...n){return{\u0275providers:X0(!0,n),\u0275fromNgModule:!0}}function X0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return im(e,s=>{let a=s;_g(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&eb(i,o),t}function eb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];om(i,o=>{e(o,r)})}}function _g(n,e,t,r){if(n=Tt(n),!n)return!1;let i=null,o=QI(n),s=!o&&Ai(n);if(!o&&!s){let u=n.ngModule;if(o=QI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)_g(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{im(o.imports,f=>{_g(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&eb(l,e)}if(!a){let l=Ci(i)||(()=>new i);e({provide:i,useFactory:l,deps:rn},i),e({provide:Z0,useValue:i,multi:!0},i),e({provide:Ga,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;om(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function om(n,e){for(let t of n)z0(t)&&(t=t.\u0275providers),Array.isArray(t)?om(t,e):e(t)}var i1=Se({provide:String,useValue:Se});function tb(n){return n!==null&&typeof n=="object"&&i1 in n}function o1(n){return!!(n&&n.useExisting)}function s1(n){return!!(n&&n.useFactory)}function Zo(n){return typeof n=="function"}function a1(n){return!!n.useClass}var sd=new j(""),Dl={},XI={},rg;function sm(){return rg===void 0&&(rg=new kl),rg}var rt=class{},Wa=class extends rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Eg(e,s=>this.processProvider(s)),this.records.set(Y0,qo(void 0,this)),i.has("environment")&&this.records.set(rt,qo(void 0,this));let o=this.records.get(sd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Z0,rn,ne.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Zu:Ti,r)}destroy(){Ha(this),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return Ha(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ha(this);let t=tr(this),r=Nt(void 0),i;try{return e()}finally{tr(t),Nt(r)}}get(e,t=Ti,r=ne.Default){if(Ha(this),e.hasOwnProperty(ZI))return e[ZI](this);r=od(r);let i,o=tr(this),s=Nt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=h1(e)&&rd(e);l&&this.injectableDefInScope(l)?u=qo(wg(e),Dl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ne.Self?sm():this.parent;return t=r&ne.Optional&&t===Ti?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[xl]=a[xl]||[]).unshift(xt(e)),o)throw a;return Qx(a,e,"R3InjectorError",this.source)}else throw a}finally{Nt(s),tr(o)}}resolveInjectorInitializers(){let e=de(null),t=tr(this),r=Nt(void 0),i;try{let o=this.get(Ga,rn,ne.Self);for(let s of o)s()}finally{tr(t),Nt(r),de(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Tt(e);let t=Zo(e)?e:Tt(e&&e.provide),r=u1(e);if(!Zo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=qo(void 0,Dl,!0),i.factory=()=>yg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=de(null);try{return t.value===XI?q0(xt(e)):t.value===Dl&&(t.value=XI,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&d1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{de(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Tt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wg(n){let e=rd(n),t=e!==null?e.factory:Ci(n);if(t!==null)return t;if(n instanceof j)throw new $(204,!1);if(n instanceof Function)return c1(n);throw new $(204,!1)}function c1(n){if(n.length>0)throw new $(204,!1);let t=Fx(n);return t!==null?()=>t.factory(n):()=>new n}function u1(n){if(tb(n))return qo(void 0,n.useValue);{let e=nb(n);return qo(e,Dl)}}function nb(n,e,t){let r;if(Zo(n)){let i=Tt(n);return Ci(i)||wg(i)}else if(tb(n))r=()=>Tt(n.useValue);else if(s1(n))r=()=>n.useFactory(...yg(n.deps||[]));else if(o1(n))r=(i,o)=>H(Tt(n.useExisting),o!==void 0&&o&ne.Optional?ne.Optional:void 0);else{let i=Tt(n&&(n.useClass||n.provide));if(l1(n))r=()=>new i(...yg(n.deps));else return Ci(i)||wg(i)}return r}function Ha(n){if(n.destroyed)throw new $(205,!1)}function qo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function l1(n){return!!n.deps}function d1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function h1(n){return typeof n=="function"||typeof n=="object"&&n instanceof j}function Eg(n,e){for(let t of n)Array.isArray(t)?Eg(t,e):t&&z0(t)?Eg(t.\u0275providers,e):e(t)}function it(n,e){let t;n instanceof Wa?(Ha(n),t=n):t=new Nl(n);let r,i=tr(t),o=Nt(void 0);try{return e()}finally{tr(i),Nt(o)}}function rb(){return G0()!==void 0||Va()!=null}function am(n){if(!rb())throw new $(-203,!1)}function f1(n){return typeof n=="function"}var ar=0,fe=1,ee=2,Dt=3,gn=4,vn=5,Ol=6,Fl=7,Pt=8,Jo=9,or=10,$e=11,Ka=12,e0=13,os=14,An=15,Xo=16,Go=17,es=18,ad=19,ib=20,Fr=21,ig=22,Ll=23,on=24,Qo=25,mn=26,ob=1;var Ri=7,Vl=8,jl=9,sn=10;function Lr(n){return Array.isArray(n)&&typeof n[ob]=="object"}function cr(n){return Array.isArray(n)&&n[ob]===!0}function sb(n){return(n.flags&4)!==0}function ss(n){return n.componentOffset>-1}function cm(n){return(n.flags&1)===1}function Rn(n){return!!n.template}function Ul(n){return(n[ee]&512)!==0}function as(n){return(n[ee]&256)===256}var Ig=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ab(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var yn=(()=>{let n=()=>cb;return n.ngInherit=!0,n})();function cb(n){return n.type.prototype.ngOnChanges&&(n.setInput=g1),p1}function p1(){let n=lb(this),e=n?.current;if(e){let t=n.previous;if(t===Si)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function g1(n,e,t,r,i){let o=this.declaredInputs[r],s=lb(n)||m1(n,{previous:Si,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ig(l&&l.currentValue,t,u===Si),ab(n,e,i,t)}var ub="__ngSimpleChanges__";function lb(n){return n[ub]||null}function m1(n,e){return n[ub]=e}var t0=null;var Te=function(n,e=null,t){t0?.(n,e,t)},db="svg",v1="math";function Mn(n){for(;Array.isArray(n);)n=n[ar];return n}function hb(n,e){return Mn(e[n])}function kn(n,e){return Mn(e[n.index])}function fb(n,e){return n.data[e]}function y1(n,e){return n[e]}function _1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Nn(n,e){let t=e[n];return Lr(t)?t:t[ar]}function um(n){return(n[ee]&128)===128}function w1(n){return cr(n[Dt])}function Bl(n,e){return e==null?null:n[e]}function pb(n){n[Go]=0}function gb(n){n[ee]&1024||(n[ee]|=1024,um(n)&&ec(n))}function E1(n,e){for(;n>0;)e=e[os],n--;return e}function cd(n){return!!(n[ee]&9216||n[on]?.dirty)}function bg(n){n[or].changeDetectionScheduler?.notify(8),n[ee]&64&&(n[ee]|=1024),cd(n)&&ec(n)}function ec(n){n[or].changeDetectionScheduler?.notify(0);let e=Mi(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!um(e)));)e=Mi(e)}function mb(n,e){if(as(n))throw new $(911,!1);n[Fr]===null&&(n[Fr]=[]),n[Fr].push(e)}function I1(n,e){if(n[Fr]===null)return;let t=n[Fr].indexOf(e);t!==-1&&n[Fr].splice(t,1)}function Mi(n){let e=n[Dt];return cr(e)?e[Dt]:e}function vb(n){return n[Fl]??=[]}function yb(n){return n.cleanup??=[]}var ae={lFrame:Sb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Tg=!1;function b1(){return ae.lFrame.elementDepthCount}function T1(){ae.lFrame.elementDepthCount++}function D1(){ae.lFrame.elementDepthCount--}function _b(){return ae.bindingsEnabled}function C1(){return ae.skipHydrationRootTNode!==null}function S1(n){return ae.skipHydrationRootTNode===n}function A1(){ae.skipHydrationRootTNode=null}function be(){return ae.lFrame.lView}function Ct(){return ae.lFrame.tView}function ur(n){return ae.lFrame.contextLView=n,n[Pt]}function lr(n){return ae.lFrame.contextLView=null,n}function kt(){let n=wb();for(;n!==null&&n.type===64;)n=n.parent;return n}function wb(){return ae.lFrame.currentTNode}function R1(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function tc(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Eb(){return ae.lFrame.isParent}function M1(){ae.lFrame.isParent=!1}function Ib(){return Tg}function n0(n){let e=Tg;return Tg=n,e}function bb(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function N1(n){return ae.lFrame.bindingIndex=n}function ud(){return ae.lFrame.bindingIndex++}function x1(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function P1(){return ae.lFrame.inI18n}function k1(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dg(e)}function O1(){return ae.lFrame.currentDirectiveIndex}function Dg(n){ae.lFrame.currentDirectiveIndex=n}function F1(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Tb(n){ae.lFrame.currentQueryIndex=n}function L1(n){let e=n[fe];return e.type===2?e.declTNode:e.type===1?n[vn]:null}function Db(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=L1(o),i===null||(o=o[os],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=Cb();return r.currentTNode=e,r.lView=n,!0}function lm(n){let e=Cb(),t=n[fe];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Cb(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?Sb(n):e}function Sb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ab(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Rb=Ab;function dm(){let n=Ab();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function V1(n){return(ae.lFrame.contextLView=E1(n,ae.lFrame.contextLView))[Pt]}function cs(){return ae.lFrame.selectedIndex}function Ni(n){ae.lFrame.selectedIndex=n}function ld(){let n=ae.lFrame;return fb(n.tView,n.selectedIndex)}function ot(){ae.lFrame.currentNamespace=db}function Ot(){j1()}function j1(){ae.lFrame.currentNamespace=null}function U1(){return ae.lFrame.currentNamespace}var Mb=!0;function hm(){return Mb}function fm(n){Mb=n}function B1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Nb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Cl(n,e,t){xb(n,e,3,t)}function Sl(n,e,t,r){(n[ee]&3)===t&&xb(n,e,t,r)}function og(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function xb(n,e,t,r){let i=r!==void 0?n[Go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Go]+=65536),(a<o||o==-1)&&($1(n,t,e,u),n[Go]=(n[Go]&4294901760)+u+2),u++}function r0(n,e){Te(4,n,e);let t=de(null);try{e.call(n)}finally{de(t),Te(5,n,e)}}function $1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ee]>>14<n[Go]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,r0(a,o)):r0(a,o)}var Yo=-1,xi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function H1(n){return(n.flags&8)!==0}function z1(n){return(n.flags&16)!==0}function q1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];G1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Pb(n){return n===3||n===4||n===6}function G1(n){return n.charCodeAt(0)===64}function Qa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?i0(n,t,i,null,e[++r]):i0(n,t,i,null,null))}}return n}function i0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function kb(n){return n!==Yo}function $l(n){return n&32767}function W1(n){return n>>16}function Hl(n,e){let t=W1(n),r=e;for(;t>0;)r=r[os],t--;return r}var Cg=!0;function zl(n){let e=Cg;return Cg=n,e}var K1=256,Ob=K1-1,Fb=5,Q1=0,Sn={};function Y1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qa)&&(r=t[qa]),r==null&&(r=t[qa]=Q1++);let i=r&Ob,o=1<<i;e.data[n+(i>>Fb)]|=o}function ql(n,e){let t=Lb(n,e);if(t!==-1)return t;let r=e[fe];r.firstCreatePass&&(n.injectorIndex=e.length,sg(r.data,n),sg(e,null),sg(r.blueprint,null));let i=pm(n,e),o=n.injectorIndex;if(kb(i)){let s=$l(i),a=Hl(i,e),u=a[fe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function sg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Lb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function pm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=$b(i),r===null)return Yo;if(t++,i=i[os],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Yo}function Sg(n,e,t){Y1(n,e,t)}function Z1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Pb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Vb(n,e,t){if(t&ne.Optional||n!==void 0)return n;rm(e,"NodeInjector")}function jb(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),(t&(ne.Self|ne.Host))===0){let i=n[Jo],o=Nt(void 0);try{return i?i.get(e,r,t&ne.Optional):W0(e,r,t&ne.Optional)}finally{Nt(o)}}return Vb(r,e,t)}function Ub(n,e,t,r=ne.Default,i){if(n!==null){if(e[ee]&2048&&!(r&ne.Self)){let s=nP(n,e,t,r,Sn);if(s!==Sn)return s}let o=Bb(n,e,t,r,Sn);if(o!==Sn)return o}return jb(e,t,r,i)}function Bb(n,e,t,r,i){let o=eP(t);if(typeof o=="function"){if(!Db(e,n,r))return r&ne.Host?Vb(i,t,r):jb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))rm(t);else return s}finally{Rb()}}else if(typeof o=="number"){let s=null,a=Lb(n,e),u=Yo,l=r&ne.Host?e[An][vn]:null;for((a===-1||r&ne.SkipSelf)&&(u=a===-1?pm(n,e):e[a+8],u===Yo||!s0(r,!1)?a=-1:(s=e[fe],a=$l(u),e=Hl(u,e)));a!==-1;){let f=e[fe];if(o0(o,a,f.data)){let g=J1(a,e,t,s,r,l);if(g!==Sn)return g}u=e[a+8],u!==Yo&&s0(r,e[fe].data[a+8]===l)&&o0(o,a,e)?(s=f,a=$l(u),e=Hl(u,e)):a=-1}}return i}function J1(n,e,t,r,i,o){let s=e[fe],a=s.data[n+8],u=r==null?ss(a)&&Cg:r!=s&&(a.type&3)!==0,l=i&ne.Host&&o===a,f=X1(a,s,t,u,l);return f!==null?Gl(e,s,f,a,i):Sn}function X1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,g=r?a:a+f,m=i?a+f:l;for(let v=g;v<m;v++){let C=s[v];if(v<u&&t===C||v>=u&&C.type===t)return v}if(i){let v=s[u];if(v&&Rn(v)&&v.type===t)return u}return null}function Gl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof xi){let a=o;a.resolving&&q0($x(s[t]));let u=zl(a.canSeeViewProviders);a.resolving=!0;let l,f=a.injectImpl?Nt(a.injectImpl):null,g=Db(n,r,ne.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&B1(t,s[t],e)}finally{f!==null&&Nt(f),zl(u),a.resolving=!1,Rb()}}return o}function eP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(qa)?n[qa]:void 0;return typeof e=="number"?e>=0?e&Ob:tP:e}function o0(n,e,t){let r=1<<n;return!!(t[e+(n>>Fb)]&r)}function s0(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var Di=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ub(this._tNode,this._lView,e,od(r),t)}};function tP(){return new Di(kt(),be())}function nc(n){return Ja(()=>{let e=n.prototype.constructor,t=e[Ml]||Ag(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ml]||Ag(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ag(n){return U0(n)?()=>{let e=Ag(Tt(n));return e&&e()}:Ci(n)}function nP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!Ul(s);){let a=Bb(o,s,t,r|ne.Self,Sn);if(a!==Sn)return a;let u=o.parent;if(!u){let l=s[ib];if(l){let f=l.get(t,Sn,r);if(f!==Sn)return f}u=$b(s),s=s[os]}o=u}return i}function $b(n){let e=n[fe],t=e.type;return t===2?e.declTNode:t===1?n[vn]:null}function gm(n){return Z1(kt(),n)}function a0(n,e=null,t=null,r){let i=Hb(n,e,t,r);return i.resolveInjectorInitializers(),i}function Hb(n,e=null,t=null,r,i=new Set){let o=[t||rn,r1(n)];return r=r||(typeof n=="object"?void 0:xt(n)),new Wa(o,e||sm(),r||null,i)}var He=class n{static THROW_IF_NOT_FOUND=Ti;static NULL=new kl;static create(e,t){if(Array.isArray(e))return a0({name:""},t,e,"");{let r=e.name??"";return a0({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>H(Y0)});static __NG_ELEMENT_ID__=-1};var rP=new j("");rP.__NG_ELEMENT_ID__=n=>{let e=kt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new $(204,!1)};var zb=!1,Vi=(()=>{class n{static __NG_ELEMENT_ID__=iP;static __NG_ENV_ID__=t=>t}return n})(),Rg=class extends Vi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return as(t)?(e(),()=>{}):(mb(t,e),()=>I1(t,e))}};function iP(){return new Rg(be())}var Pi=class{},mm=new j("",{providedIn:"root",factory:()=>!1});var qb=new j(""),Gb=new j(""),dr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ze(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),dd=(()=>{class n{internalPendingTasks=x(dr);scheduler=x(Pi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return y(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Mg=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,rb()&&(this.destroyRef=x(Vi,{optional:!0})??void 0,this.pendingTasks=x(dr,{optional:!0})??void 0)}emit(e){let t=de(null);try{super.next(e)}finally{de(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},De=Mg;function Wl(...n){}function Wb(n){let e,t;function r(){n=Wl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function c0(n){return queueMicrotask(()=>n()),()=>{n=Wl}}var vm="isAngularZone",Kl=vm+"_ID",oP=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new De(!1);onMicrotaskEmpty=new De(!1);onStable=new De(!1);onError=new De(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zb}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,cP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,sP,Wl,Wl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},sP={};function ym(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Wb(()=>{n.callbackScheduled=!1,Ng(n),n.isCheckStableRunning=!0,ym(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ng(n)}function cP(n){let e=()=>{aP(n)},t=oP++;n._inner=n._inner.fork({name:"angular",properties:{[vm]:!0,[Kl]:t,[Kl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(uP(u))return r.invokeTask(o,s,a,u);try{return u0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),l0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return u0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!lP(u)&&e(),l0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ng(n),ym(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ng(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function u0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function l0(n){n._nesting--,ym(n)}var xg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new De;onMicrotaskEmpty=new De;onStable=new De;onError=new De;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function uP(n){return Kb(n,"__ignore_ng_zone__")}function lP(n){return Kb(n,"__scheduler_tick__")}function Kb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},dP=new j("",{providedIn:"root",factory:()=>{let n=x(_e),e=x(xn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function d0(n,e){return V0(n,e)}function hP(n){return V0(L0,n)}var Qb=(d0.required=hP,d0);function fP(){return hd(kt(),be())}function hd(n,e){return new Vr(kn(n,e))}var Vr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=fP}return n})();function pP(n){return typeof n=="function"&&n[nn]!==void 0}function us(n,e){let t=Pp(n,e?.equal),r=t[nn];return t.set=i=>La(r,i),t.update=i=>kp(r,i),t.asReadonly=gP.bind(t),t}function gP(){let n=this[nn];if(n.readonlyFn===void 0){let e=()=>this();e[nn]=n,n.readonlyFn=e}return n.readonlyFn}function Yb(n){return pP(n)&&typeof n.set=="function"}function Zb(n){return(n.flags&128)===128}var Jb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Jb||{}),Xb=new Map,mP=0;function vP(){return mP++}function yP(n){Xb.set(n[ad],n)}function Pg(n){Xb.delete(n[ad])}var h0="__ngContext__";function rc(n,e){Lr(e)?(n[h0]=e[ad],yP(e)):n[h0]=e}function eT(n){return nT(n[Ka])}function tT(n){return nT(n[gn])}function nT(n){for(;n!==null&&!cr(n);)n=n[gn];return n}var kg;function rT(n){kg=n}function _P(){if(kg!==void 0)return kg;if(typeof document<"u")return document;throw new $(210,!1)}var _m=new j("",{providedIn:"root",factory:()=>wP}),wP="ng",wm=new j(""),jr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Em=new j("",{providedIn:"root",factory:()=>_P().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EP="h",IP="b";var iT=!1,bP=new j("",{providedIn:"root",factory:()=>iT});var Im=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Im||{}),ls=new j(""),f0=new Set;function ds(n){f0.has(n)||(f0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var oT=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=TP}return n})();function TP(){return new oT(be(),kt())}var Wo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Wo||{}),sT=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),DP=[Wo.EarlyRead,Wo.Write,Wo.MixedReadWrite,Wo.Read],CP=(()=>{class n{ngZone=x(_e);scheduler=x(Pi);errorHandler=x(xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(ls,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Te(16),this.executing=!0;for(let r of DP)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Te(17)}register(t){let{view:r}=t;r!==void 0?((r[Qo]??=[]).push(t),ec(r),r[ee]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Im.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Og=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Qo];e&&(this.view[Qo]=e.filter(t=>t!==this))}};function bm(n,e){!e?.injector&&am(bm);let t=e?.injector??x(He);return ds("NgAfterNextRender"),AP(n,t,e,!0)}function SP(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function AP(n,e,t,r){let i=e.get(sT);i.impl??=e.get(CP);let o=e.get(ls,null,{optional:!0}),s=t?.phase??Wo.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Vi):null,u=e.get(oT,null,{optional:!0}),l=new Og(i.impl,SP(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var RP=(n,e,t,r)=>{};function MP(n,e,t,r){RP(n,e,t,r)}var NP=()=>null;function aT(n,e,t=!1){return NP(n,e,t)}function cT(n,e){let t=n.contentQueries;if(t!==null){let r=de(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Tb(o),a.contentQueries(2,e[s],s)}}}finally{de(r)}}}function Fg(n,e,t){Tb(0);let r=de(null);try{e(n,t)}finally{de(r)}}function uT(n,e,t){if(sb(e)){let r=de(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{de(r)}}}var Pn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Pn||{});var bl;function xP(){if(bl===void 0&&(bl=null,gg.trustedTypes))try{bl=gg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bl}function p0(n){return xP()?.createScriptURL(n)||n}var Ql=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${O0})`}};function fd(n){return n instanceof Ql?n.changingThisBreaksApplicationSecurity:n}function lT(n,e){let t=PP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${O0})`)}return t===e}function PP(n){return n instanceof Ql&&n.getTypeName()||null}var kP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function OP(n){return n=String(n),n.match(kP)?n:"unsafe:"+n}var Tm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Tm||{});function Ur(n){let e=hT();return e?e.sanitize(Tm.URL,n)||"":lT(n,"URL")?fd(n):OP(id(n))}function FP(n){let e=hT();if(e)return p0(e.sanitize(Tm.RESOURCE_URL,n)||"");if(lT(n,"ResourceURL"))return p0(fd(n));throw new $(904,!1)}function LP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?FP:Ur}function dT(n,e,t){return LP(e,t)(n)}function hT(){let n=be();return n&&n[or].sanitizer}function fT(n){return n instanceof Function?n():n}function VP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var pT="ng-template";function jP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Dm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Dm(n){return n.type===4&&n.value!==pT}function UP(n,e,t){let r=n.type===4&&!t?pT:n.value;return e===r}function BP(n,e,t){let r=4,i=n.attrs,o=i!==null?zP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!pn(r)&&!pn(u))return!1;if(s&&pn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!UP(n,u,t)||u===""&&e.length===1){if(pn(r))return!1;s=!0}}else if(r&8){if(i===null||!jP(n,i,u,t)){if(pn(r))return!1;s=!0}}else{let l=e[++a],f=$P(u,i,Dm(n),t);if(f===-1){if(pn(r))return!1;s=!0;continue}if(l!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(pn(r))return!1;s=!0}}}}return pn(r)||s}function pn(n){return(n&1)===0}function $P(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qP(e,n)}function HP(n,e,t=!1){for(let r=0;r<e.length;r++)if(BP(n,e[r],t))return!0;return!1}function zP(n){for(let e=0;e<n.length;e++){let t=n[e];if(Pb(t))return e}return n.length}function qP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function g0(n,e){return n?":not("+e.trim()+")":e}function GP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!pn(s)&&(e+=g0(o,i),i=""),r=s,o=o||!pn(r);t++}return i!==""&&(e+=g0(o,i)),e}function WP(n){return n.map(GP).join(",")}function KP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!pn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var hr={};function QP(n,e){return n.createText(e)}function YP(n,e,t){n.setValue(e,t)}function gT(n,e,t){return n.createElement(e,t)}function Yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function mT(n,e,t){n.appendChild(e,t)}function m0(n,e,t,r,i){r!==null?Yl(n,e,t,r,i):mT(n,e,t)}function ZP(n,e,t){n.removeChild(null,e,t)}function JP(n,e,t){n.setAttribute(e,"style",t)}function XP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&q1(n,e,r),i!==null&&XP(n,e,i),o!==null&&JP(n,e,o)}function Cm(n,e,t,r,i,o,s,a,u,l,f){let g=mn+r,m=g+i,v=ek(g,m),C=typeof l=="function"?l():l;return v[fe]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:f}}function ek(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:hr);return t}function tk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Cm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Sm(n,e,t,r,i,o,s,a,u,l,f){let g=e.blueprint.slice();return g[ar]=i,g[ee]=r|4|128|8|64|1024,(l!==null||n&&n[ee]&2048)&&(g[ee]|=2048),pb(g),g[Dt]=g[os]=n,g[Pt]=t,g[or]=s||n&&n[or],g[$e]=a||n&&n[$e],g[Jo]=u||n&&n[Jo]||null,g[vn]=o,g[ad]=vP(),g[Ol]=f,g[ib]=l,g[An]=e.type==2?n[An]:g,g}function nk(n,e,t){let r=kn(e,n),i=tk(t),o=n[or].rendererFactory,s=Am(n,Sm(n,i,null,yT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function yT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function _T(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Am(n,e){return n[Ka]?n[e0][gn]=e:n[Ka]=e,n[e0]=e,e}function V(n=1){wT(Ct(),be(),cs()+n,!1)}function wT(n,e,t,r){if(!r)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Cl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Sl(e,o,0,t)}Ni(t)}var pd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(pd||{});function Lg(n,e,t,r){let i=de(null);try{let[o,s,a]=n.inputs[t],u=null;(s&pd.SignalBased)!==0&&(u=e[o][nn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):ab(e,u,o,r)}finally{de(i)}}function ET(n,e,t,r,i){let o=cs(),s=r&2;try{Ni(-1),s&&e.length>mn&&wT(n,e,mn,!1),Te(s?2:0,i),t(r,i)}finally{Ni(o),Te(s?3:1,i)}}function Rm(n,e,t){ck(n,e,t),(t.flags&64)===64&&uk(n,e,t)}function IT(n,e,t=kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function rk(n,e,t,r){let o=r.get(bP,iT)||t===Pn.ShadowDom,s=n.selectRootElement(e,o);return ik(s),s}function ik(n){ok(n)}var ok=()=>null;function sk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Mm(n,e,t,r,i,o,s,a){if(!a&&Nm(e,n,t,r,i)){ss(e)&&ak(t,e.index);return}if(e.type&3){let u=kn(e,t);r=sk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function ak(n,e){let t=Nn(e,n);t[ee]&16||(t[ee]|=64)}function ck(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ss(t)&&nk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ql(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Gl(e,n,s,t);if(rc(u,e),o!==null&&fk(e,s-r,u,a,t,o),Rn(a)){let l=Nn(t.index,e);l[Pt]=Gl(e,n,s,t)}}}function uk(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=O1();try{Ni(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Dg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&lk(u,l)}}finally{Ni(-1),Dg(s)}}function lk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function bT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];HP(e,o.selectors,!1)&&(r??=[],Rn(o)?r.unshift(o):r.push(o))}return r}function dk(n,e,t,r,i,o){let s=kn(n,e);hk(e[$e],s,o,n.value,t,r,i)}function hk(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?id(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function fk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Lg(r,t,u,l)}}function pk(n,e){let t=n[Jo],r=t?t.get(xn,null):null;r&&r.handleError(e)}function Nm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],g=e.data[l];Lg(g,t[l],f,i),a=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];Lg(f,l,r,i),a=!0}return a}function gk(n,e){let t=Nn(e,n),r=t[fe];mk(r,t);let i=t[ar];i!==null&&t[Ol]===null&&(t[Ol]=aT(i,t[Jo])),Te(18),xm(r,t,t[Pt]),Te(19,t[Pt])}function mk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function xm(n,e,t){lm(e);try{let r=n.viewQuery;r!==null&&Fg(1,r,t);let i=n.template;i!==null&&ET(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[es]?.finishViewCreation(n),n.staticContentQueries&&cT(n,e),n.staticViewQueries&&Fg(2,n.viewQuery,t);let o=n.components;o!==null&&vk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ee]&=-5,dm()}}function vk(n,e){for(let t=0;t<e.length;t++)gk(n,e[t])}function yk(n,e,t,r){let i=de(null);try{let o=e.tView,a=n[ee]&4096?4096:16,u=Sm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Xo]=l;let f=n[es];return f!==null&&(u[es]=f.createEmbeddedView(o)),xm(o,u,t),u}finally{de(i)}}function v0(n,e){return!e||e.firstChild===null||Zb(n)}var _k;function Pm(n,e){return _k(n,e)}var sr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(sr||{});function TT(n){return(n.flags&32)===32}function Ko(n,e,t,r,i){if(r!=null){let o,s=!1;cr(r)?o=r:Lr(r)&&(s=!0,r=r[ar]);let a=Mn(r);n===0&&t!==null?i==null?mT(e,t,a):Yl(e,t,a,i||null,!0):n===1&&t!==null?Yl(e,t,a,i||null,!0):n===2?ZP(e,a,s):n===3&&e.destroyNode(a),o!=null&&Nk(e,n,o,t,i)}}function wk(n,e){DT(n,e),e[ar]=null,e[vn]=null}function Ek(n,e,t,r,i,o){r[ar]=i,r[vn]=e,gd(n,r,t,1,i,o)}function DT(n,e){e[or].changeDetectionScheduler?.notify(9),gd(n,e,e[$e],2,null,null)}function Ik(n){let e=n[Ka];if(!e)return ag(n[fe],n);for(;e;){let t=null;if(Lr(e))t=e[Ka];else{let r=e[sn];r&&(t=r)}if(!t){for(;e&&!e[gn]&&e!==n;)Lr(e)&&ag(e[fe],e),e=e[Dt];e===null&&(e=n),Lr(e)&&ag(e[fe],e),t=e&&e[gn]}e=t}}function km(n,e){let t=n[jl],r=t.indexOf(e);t.splice(r,1)}function CT(n,e){if(as(e))return;let t=e[$e];t.destroyNode&&gd(n,e,t,3,null,null),Ik(e)}function ag(n,e){if(as(e))return;let t=de(null);try{e[ee]&=-129,e[ee]|=256,e[on]&&Mp(e[on]),Tk(n,e),bk(n,e),e[fe].type===1&&e[$e].destroy();let r=e[Xo];if(r!==null&&cr(e[Dt])){r!==e[Dt]&&km(r,e);let i=e[es];i!==null&&i.detachView(n)}Pg(e)}finally{de(t)}}function bk(n,e){let t=n.cleanup,r=e[Fl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Fl]=null);let i=e[Fr];if(i!==null){e[Fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ll];if(o!==null){e[Ll]=null;for(let s of o)s.destroy()}}function Tk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof xi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function Dk(n,e,t){return Ck(n,e.parent,t)}function Ck(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ar];if(ss(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Pn.None||i===Pn.Emulated)return null}return kn(r,t)}function Sk(n,e,t){return Rk(n,e,t)}function Ak(n,e,t){return n.type&40?kn(n,t):null}var Rk=Ak,y0;function Om(n,e,t,r){let i=Dk(n,r,e),o=e[$e],s=r.parent||e[vn],a=Sk(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)m0(o,i,t[u],a,!1);else m0(o,i,t,a,!1);y0!==void 0&&y0(o,r,e,t,i)}function za(n,e){if(e!==null){let t=e.type;if(t&3)return kn(e,n);if(t&4)return Vg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return za(n,r);{let i=n[e.index];return cr(i)?Vg(-1,i):Mn(i)}}else{if(t&128)return za(n,e.next);if(t&32)return Pm(e,n)()||Mn(n[e.index]);{let r=ST(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mi(n[An]);return za(i,r)}else return za(n,e.next)}}}return null}function ST(n,e){if(e!==null){let r=n[An][vn],i=e.projection;return r.projection[i]}return null}function Vg(n,e){let t=sn+n+1;if(t<e.length){let r=e[t],i=r[fe].firstChild;if(i!==null)return za(r,i)}return e[Ri]}function Fm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&rc(Mn(a),r),t.flags|=2),!TT(t))if(u&8)Fm(n,e,t.child,r,i,o,!1),Ko(e,n,i,a,o);else if(u&32){let l=Pm(t,r),f;for(;f=l();)Ko(e,n,i,f,o);Ko(e,n,i,a,o)}else u&16?Mk(n,e,r,t,i,o):Ko(e,n,i,a,o);t=s?t.projectionNext:t.next}}function gd(n,e,t,r,i,o){Fm(t,r,n.firstChild,e,i,o,!1)}function Mk(n,e,t,r,i,o){let s=t[An],u=s[vn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Ko(e,n,i,f,o)}else{let l=u,f=s[Dt];Zb(r)&&(l.flags|=128),Fm(n,e,l,f,i,o,!0)}}function Nk(n,e,t,r,i){let o=t[Ri],s=Mn(t);o!==s&&Ko(e,n,r,o,i);for(let a=sn;a<t.length;a++){let u=t[a];gd(u[fe],u,n,e,r,o)}}function xk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:sr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sr.Important),n.setStyle(t,r,i,o))}}function Zl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Mn(o)),cr(o)&&Pk(o,r);let s=t.type;if(s&8)Zl(n,e,t.child,r);else if(s&32){let a=Pm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=ST(e,t);if(Array.isArray(a))r.push(...a);else{let u=Mi(e[An]);Zl(u[fe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Pk(n,e){for(let t=sn;t<n.length;t++){let r=n[t],i=r[fe].firstChild;i!==null&&Zl(r[fe],r,i,e)}n[Ri]!==n[ar]&&e.push(n[Ri])}function AT(n){if(n[Qo]!==null){for(let e of n[Qo])e.impl.addSequence(e);n[Qo].length=0}}var RT=[];function kk(n){return n[on]??Ok(n)}function Ok(n){let e=RT.pop()??Object.create(Lk);return e.lView=n,e}function Fk(n){n.lView[on]!==n&&(n.lView=null,RT.push(n))}var Lk=J(F({},Oa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ec(n.lView)},consumerOnSignalRead(){this.lView[on]=this}});function Vk(n){let e=n[on]??Object.create(jk);return e.lView=n,e}var jk=J(F({},Oa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Mi(n.lView);for(;e&&!MT(e[fe]);)e=Mi(e);e&&gb(e)},consumerOnSignalRead(){this.lView[on]=this}});function MT(n){return n.type!==2}function NT(n){if(n[Ll]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ll])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ee]&8192)}}var Uk=100;function xT(n,e=!0,t=0){let i=n[or].rendererFactory,o=!1;o||i.begin?.();try{Bk(n,t)}catch(s){throw e&&pk(n,s),s}finally{o||i.end?.()}}function Bk(n,e){let t=Ib();try{n0(!0),jg(n,e);let r=0;for(;cd(n);){if(r===Uk)throw new $(103,!1);r++,jg(n,1)}}finally{n0(t)}}function $k(n,e,t,r){if(as(e))return;let i=e[ee],o=!1,s=!1;lm(e);let a=!0,u=null,l=null;o||(MT(n)?(l=kk(e),u=Wu(l)):Tp()===null?(a=!1,l=Vk(e),u=Wu(l)):e[on]&&(Mp(e[on]),e[on]=null));try{pb(e),N1(n.bindingStartIndex),t!==null&&ET(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let v=n.preOrderCheckHooks;v!==null&&Cl(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Sl(e,v,0,null),og(e,0)}if(s||Hk(e),NT(e),PT(e,0),n.contentQueries!==null&&cT(n,e),!o)if(f){let v=n.contentCheckHooks;v!==null&&Cl(e,v)}else{let v=n.contentHooks;v!==null&&Sl(e,v,1),og(e,1)}qk(n,e);let g=n.components;g!==null&&OT(e,g,0);let m=n.viewQuery;if(m!==null&&Fg(2,m,r),!o)if(f){let v=n.viewCheckHooks;v!==null&&Cl(e,v)}else{let v=n.viewHooks;v!==null&&Sl(e,v,2),og(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ig]){for(let v of e[ig])v();e[ig]=null}o||(AT(e),e[ee]&=-73)}catch(f){throw o||ec(e),f}finally{l!==null&&(Ap(l,u),a&&Fk(l)),dm()}}function PT(n,e){for(let t=eT(n);t!==null;t=tT(t))for(let r=sn;r<t.length;r++){let i=t[r];kT(i,e)}}function Hk(n){for(let e=eT(n);e!==null;e=tT(e)){if(!(e[ee]&2))continue;let t=e[jl];for(let r=0;r<t.length;r++){let i=t[r];gb(i)}}}function zk(n,e,t){Te(18);let r=Nn(e,n);kT(r,t),Te(19,r[Pt])}function kT(n,e){um(n)&&jg(n,e)}function jg(n,e){let r=n[fe],i=n[ee],o=n[on],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Rp(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)$k(r,n,r.template,n[Pt]);else if(i&8192){NT(n),PT(n,1);let a=r.components;a!==null&&OT(n,a,1),AT(n)}}function OT(n,e,t){for(let r=0;r<e.length;r++)zk(n,e[r],t)}function qk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ni(~i);else{let o=i,s=t[++r],a=t[++r];k1(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{Ni(-1)}}function Lm(n,e){let t=Ib()?64:1088;for(n[or].changeDetectionScheduler?.notify(e);n;){n[ee]|=t;let r=Mi(n);if(Ul(n)&&!r)return n;n=r}return null}function FT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Gk(n,e,t,r=!0){let i=e[fe];if(Wk(i,e,n,t),r){let s=Vg(t,n),a=e[$e],u=a.parentNode(n[Ri]);u!==null&&Ek(i,n[vn],a,e,u,s)}let o=e[Ol];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ug(n,e){if(n.length<=sn)return;let t=sn+e,r=n[t];if(r){let i=r[Xo];i!==null&&i!==n&&km(i,r),e>0&&(n[t-1][gn]=r[gn]);let o=Pl(n,sn+e);wk(r[fe],r);let s=o[es];s!==null&&s.detachView(o[fe]),r[Dt]=null,r[gn]=null,r[ee]&=-129}return r}function Wk(n,e,t,r){let i=sn+r,o=t.length;r>0&&(t[i-1][gn]=e),r<o-sn?(e[gn]=t[i],Q0(t,sn+r,e)):(t.push(e),e[gn]=null),e[Dt]=t;let s=e[Xo];s!==null&&t!==s&&LT(s,e);let a=e[es];a!==null&&a.insertView(n),bg(e),e[ee]|=128}function LT(n,e){let t=n[jl],r=e[Dt];if(Lr(r))n[ee]|=2;else{let i=r[Dt][An];e[An]!==i&&(n[ee]|=2)}t===null?n[jl]=[e]:t.push(e)}var Ya=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[fe];return Zl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Pt]}set context(e){this._lView[Pt]=e}get destroyed(){return as(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Dt];if(cr(e)){let t=e[Vl],r=t?t.indexOf(this):-1;r>-1&&(Ug(e,r),Pl(t,r))}this._attachedToViewContainer=!1}CT(this._lView[fe],this._lView)}onDestroy(e){mb(this._lView,e)}markForCheck(){Lm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){bg(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,xT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ul(this._lView),t=this._lView[Xo];t!==null&&!e&&km(t,this._lView),DT(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=Ul(this._lView),r=this._lView[Xo];r!==null&&!t&&LT(r,this._lView),bg(this._lView)}};var md=(()=>{class n{static __NG_ELEMENT_ID__=Yk}return n})(),Kk=md,Qk=class extends Kk{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=yk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ya(i)}};function Yk(){return Zk(kt(),be())}function Zk(n,e){return n.type&4?new Qk(e,n,hd(n,e)):null}function Vm(n,e,t,r,i){let o=n.data[e];if(o===null)o=Jk(n,e,t,r,i),P1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=R1();o.injectorIndex=s===null?-1:s.injectorIndex}return tc(o,!0),o}function Jk(n,e,t,r,i){let o=wb(),s=Eb(),a=s?o:o&&o.parent,u=n.data[e]=eO(n,a,t,e,r,i);return Xk(n,u,o,s),u}function Xk(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function eO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return C1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var xG=new RegExp(`^(\\d+)*(${IP}|${EP})*(.*)`);var tO=()=>null;function _0(n,e){return tO(n,e)}var nO=class{},VT=class{},Bg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${xt(e)}.`)}},vd=class{static NULL=new Bg},ts=class{},ji=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>rO()}return n})();function rO(){let n=be(),e=kt(),t=Nn(e.index,n);return(Lr(t)?t:n)[$e]}var iO=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var cg={},$g=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=od(r);let i=this.injector.get(e,cg,r);return i!==cg||t===cg?i:this.parentInjector.get(e,t,r)}};function w0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=WI(i,a);else if(o==2){let u=a,l=e[++s];r=WI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function W(n,e=ne.Default){let t=be();if(t===null)return H(n,e);let r=kt();return Ub(r,t,Tt(n),e)}function jT(){let n="invalid";throw new Error(n)}function UT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,f=sO(s);f===null?a=s:[a,u,l]=f,uO(n,e,t,a,o,u,l)}o!==null&&r!==null&&oO(t,r,o)}function oO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function sO(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Rn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,aO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function aO(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function cO(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uO(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let v=r[m];!u&&Rn(v)&&(u=!0,cO(n,t,m)),Sg(ql(t,e),n,v.type)}gO(t,n.data.length,a);for(let m=0;m<a;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let l=!1,f=!1,g=_T(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let v=r[m];if(t.mergedAttrs=Qa(t.mergedAttrs,v.hostAttrs),dO(n,t,e,g,v),pO(g,v,i),s!==null&&s.has(v)){let[N,P]=s.get(v);t.directiveToIndex.set(v.type,[g,N+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,g);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let C=v.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),g++}lO(n,t,o)}function lO(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))E0(0,e,i,r),E0(1,e,i,r),b0(e,r,!1);else{let o=t.get(i);I0(0,e,o,r),I0(1,e,o,r),b0(e,r,!0)}}}function E0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),BT(e,o)}}function I0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),BT(e,s)}}function BT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function b0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Dm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function dO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ci(i.type,!0)),s=new xi(o,Rn(i),W);n.blueprint[r]=s,t[r]=s,hO(n,e,r,_T(n,t,i.hostVars,hr),i)}function hO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;fO(s)!=a&&s.push(a),s.push(t,r,o)}}function fO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function pO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Rn(e)&&(t[""]=n)}}function gO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function $T(n,e,t,r,i,o,s,a){let u=e.consts,l=Bl(u,s),f=Vm(e,n,2,r,l);return o&&UT(e,t,f,Bl(u,a),i),f.mergedAttrs=Qa(f.mergedAttrs,f.attrs),f.attrs!==null&&w0(f,f.attrs,!1),f.mergedAttrs!==null&&w0(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function HT(n,e){Nb(n,e),sb(e)&&n.queries.elementEnd(e)}var Jl=class extends vd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ai(e);return new ns(t,this.ngModule)}};function mO(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&pd.SignalBased)!==0};return i&&(o.transform=i),o})}function vO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function yO(n,e,t){let r=e instanceof rt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new $g(t,r):t}function _O(n){let e=n.get(ts,null);if(e===null)throw new $(407,!1);let t=n.get(iO,null),r=n.get(Pi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function wO(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return gT(e,t,t==="svg"?db:t==="math"?v1:null)}var ns=class extends VT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=WP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Te(22);let o=de(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:KP(this.componentDef.selectors[0]),u=Cm(0,null,null,1,0,null,null,null,null,[a],null),l=yO(s,i||this.ngModule,e),f=_O(l),g=f.rendererFactory.createRenderer(null,s),m=r?rk(g,r,s.encapsulation,l):wO(s,g),v=Sm(null,u,null,512|yT(s),null,null,f,g,l,null,aT(m,l,!0));v[mn]=m,lm(v);let C=null;try{let N=$T(mn,u,v,"#host",()=>[this.componentDef],!0,0);m&&(vT(g,m,N),rc(m,v)),Rm(u,v,N),uT(u,N,v),HT(u,N),t!==void 0&&EO(N,this.ngContentSelectors,t),C=Nn(N.index,v),v[Pt]=C[Pt],xm(u,v,null)}catch(N){throw C!==null&&Pg(C),Pg(v),N}finally{Te(23),dm()}return new Hg(this.componentType,v)}finally{de(o)}}},Hg=class extends nO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=fb(t[fe],mn),this.location=hd(this._tNode,t),this.instance=Nn(this._tNode.index,t)[Pt],this.hostView=this.changeDetectorRef=new Ya(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Nm(r,i[fe],i,e,t);this.previousInputValues.set(e,t);let s=Nn(r.index,i);Lm(s,1)}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var hs=(()=>{class n{static __NG_ELEMENT_ID__=IO}return n})();function IO(){let n=kt();return TO(n,be())}var bO=hs,zT=class extends bO{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){let e=pm(this._hostTNode,this._hostLView);if(kb(e)){let t=Hl(e,this._hostLView),r=$l(e),i=t[fe].data[r+8];return new Di(i,t)}else return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=T0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,v0(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!f1(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new ns(Ai(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(rt,null);N&&(o=N)}let f=Ai(u.componentType??{}),g=_0(this._lContainer,f?.id??null),m=g?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,v0(this._hostTNode,g)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(w1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Dt],l=new zT(u,u[vn],u[Dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Gk(s,i,o,r),e.attachToViewContainerRef(),Q0(ug(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=T0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ug(this._lContainer,t);r&&(Pl(ug(this._lContainer),t),CT(r[fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ug(this._lContainer,t);return r&&Pl(ug(this._lContainer),t)!=null?new Ya(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function T0(n){return n[Vl]}function ug(n){return n[Vl]||(n[Vl]=[])}function TO(n,e){let t,r=e[n.index];return cr(r)?t=r:(t=FT(r,e,null,n),e[n.index]=t,Am(e,t)),CO(t,e,n,r),new zT(t,n,e)}function DO(n,e){let t=n[$e],r=t.createComment(""),i=kn(e,n),o=t.parentNode(i);return Yl(t,o,r,t.nextSibling(i),!1),r}var CO=RO,SO=()=>!1;function AO(n,e,t){return SO(n,e,t)}function RO(n,e,t,r){if(n[Ri])return;let i;t.type&8?i=Mn(r):i=DO(e,t),n[Ri]=i}var rs=class{},jm=class{};var zg=class extends rs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=J0(e);this._bootstrapComponents=fT(o.bootstrap),this._r3Injector=Hb(e,t,[{provide:rs,useValue:this},{provide:vd,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qg=class extends jm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new zg(this.moduleType,e,[])}};var Xl=class extends rs{injector;componentFactoryResolver=new Jl(this);instance=null;constructor(e){super();let t=new Wa([...e.providers,{provide:rs,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],e.parent||sm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ic(n,e,t=null){return new Xl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var MO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=X0(!1,t.type),i=r.length>0?ic([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(H(rt))})}return n})();function ze(n){return Ja(()=>{let e=GT(n),t=J(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Jb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(MO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pn.Emulated,styles:n.styles||rn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ds("NgStandalone"),WT(t);let r=n.dependencies;return t.directiveDefs=D0(r,!1),t.pipeDefs=D0(r,!0),t.id=OO(t),t})}function NO(n){return Ai(n)||t1(n)}function xO(n){return n!==null}function Gt(n){return Ja(()=>({type:n.type,bootstrap:n.bootstrap||rn,declarations:n.declarations||rn,imports:n.imports||rn,exports:n.exports||rn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function PO(n,e){if(n==null)return Si;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=pd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function kO(n){if(n==null)return Si;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ht(n){return Ja(()=>{let e=GT(n);return WT(e),e})}function qT(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function GT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Si,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||rn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:PO(n.inputs,e),outputs:kO(n.outputs),debugInfo:null}}function WT(n){n.features?.forEach(e=>e(n))}function D0(n,e){if(!n)return null;let t=e?n1:NO;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(xO)}function OO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function FO(n){return Object.getPrototypeOf(n.prototype).constructor}function fr(n){let e=FO(n.type),t=!0,r=[n];for(;e;){let i;if(Rn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=lg(n.inputs),s.declaredInputs=lg(n.declaredInputs),s.outputs=lg(n.outputs);let a=i.hostBindings;a&&BO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&jO(n,u),l&&UO(n,l),LO(n,i),kx(n.outputs,i.outputs),Rn(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===fr&&(t=!1)}}e=Object.getPrototypeOf(e)}VO(r)}function LO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function VO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qa(i.hostAttrs,t=Qa(t,i.hostAttrs))}}function lg(n){return n===Si?{}:n===rn?[]:n}function jO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function UO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function BO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function KT(n){return HO(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function $O(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function HO(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function QT(n,e,t){return n[e]=t}function zO(n,e){return n[e]}function fs(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function qO(n,e,t,r,i,o,s,a,u){let l=e.consts,f=Vm(e,n,4,s||null,a||null);_b()&&UT(e,t,f,Bl(l,u),bT),f.mergedAttrs=Qa(f.mergedAttrs,f.attrs),Nb(e,f);let g=f.tView=Cm(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function GO(n,e,t,r,i,o,s,a,u,l){let f=t+mn,g=e.firstCreatePass?qO(f,e,n,r,i,o,s,a,u):e.data[f];tc(g,!1);let m=WO(e,n,g,t);hm()&&Om(e,n,m,g),rc(m,n);let v=FT(m,n,m,g);return n[f]=v,Am(n,v),AO(v,g,n),cm(g)&&Rm(e,n,g),u!=null&&IT(n,g,l),g}function we(n,e,t,r,i,o,s,a){let u=be(),l=Ct(),f=Bl(l.consts,o);return GO(u,l,n,e,t,r,i,f,s,a),we}var WO=KO;function KO(n,e,t,r){return fm(!0),e[$e].createComment("")}var YT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var ZT=new j("");var QO=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Gg})}return n})(),Gg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ui(n){return!!n&&typeof n.then=="function"}function JT(n){return!!n&&typeof n.subscribe=="function"}var XT=new j("");function Um(n){return an([{provide:XT,multi:!0,useValue:n}])}var eD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(XT,{optional:!0})??[];injector=x(He);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=it(this.injector,i);if(Ui(o))t.push(o);else if(JT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yd=new j("");function YO(){xp(()=>{throw new $(600,!1)})}function ZO(n){return n.isBoundToModule}var JO=10;var ki=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(dP);afterRenderManager=x(sT);zonelessEnabled=x(mm);rootEffectScheduler=x(QO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ue;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(dr).hasPendingTasks.pipe(ie(t=>!t));constructor(){x(ls,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=He.NULL){Te(10);let o=t instanceof VT;if(!this._injector.get(eD).done){let v="";throw new $(405,v)}let a;o?a=t:a=this._injector.get(vd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=ZO(a)?void 0:this._injector.get(rs),l=r||a.selector,f=a.create(i,[],l,u),g=f.location.nativeElement,m=f.injector.get(ZT,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),Al(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),Te(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Im.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,de(t),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ts,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<JO;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)XO(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Al(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Al(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Al(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XO(n,e,t,r){if(!t&&!cd(n))return;xT(n,e,t&&!r?0:1)}function _d(n,e,t,r){let i=be(),o=ud();if(fs(i,o,e)){let s=Ct(),a=ld();dk(a,i,n,e,t,r)}return _d}function tD(n,e,t,r){return fs(n,ud(),t)?e+id(t)+r:hr}function Tl(n,e){return n<<17|e<<2}function Oi(n){return n>>17&32767}function eF(n){return(n&2)==2}function tF(n,e){return n&131071|e<<17}function Wg(n){return n|2}function is(n){return(n&131068)>>2}function dg(n,e){return n&-131069|e<<2}function nF(n){return(n&1)===1}function Kg(n){return n|1}function rF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oi(s),u=is(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let g=t;f=g[1],(f===null||Xa(g,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let m=Oi(n[a+1]);n[r+1]=Tl(m,a),m!==0&&(n[m+1]=dg(n[m+1],r)),n[a+1]=tF(n[a+1],r)}else n[r+1]=Tl(a,0),a!==0&&(n[a+1]=dg(n[a+1],r)),a=r;else n[r+1]=Tl(u,0),a===0?a=r:n[u+1]=dg(n[u+1],r),u=r;l&&(n[r+1]=Wg(n[r+1])),C0(n,f,r,!0),C0(n,f,r,!1),iF(e,f,n,r,o),s=Tl(a,u),o?e.classBindings=s:e.styleBindings=s}function iF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xa(o,e)>=0&&(t[r+1]=Kg(t[r+1]))}function C0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Oi(i):is(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];oF(u,e)&&(a=!0,n[s+1]=r?Kg(l):Wg(l)),s=r?Oi(l):is(l)}a&&(n[t+1]=r?Wg(i):Kg(i))}function oF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xa(n,e)>=0:!1}function z(n,e,t){let r=be(),i=ud();if(fs(r,i,e)){let o=Ct(),s=ld();Mm(o,s,r,n,e,r[$e],t,!1)}return z}function S0(n,e,t,r,i){Nm(e,n,t,i?"class":"style",r)}function wd(n,e){return sF(n,e,null,!0),wd}function sF(n,e,t,r){let i=be(),o=Ct(),s=x1(2);if(o.firstUpdatePass&&cF(o,n,s,r),e!==hr&&fs(i,s,e)){let a=o.data[cs()];fF(o,a,i,i[$e],n,i[s+1]=pF(e,t),r,s)}}function aF(n,e){return e>=n.expandoStartIndex}function cF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[cs()],s=aF(n,t);gF(o,r)&&e===null&&!s&&(e=!1),e=uF(i,o,e,r),rF(i,o,e,t,s,r)}}function uF(n,e,t,r){let i=F1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=hg(null,n,e,t,r),t=Za(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=hg(i,n,e,t,r),o===null){let u=lF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=hg(null,n,e,u[1],r),u=Za(u,e.attrs,r),dF(n,e,r,u))}else o=hF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function lF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(is(r)!==0)return n[Oi(r)]}function dF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Oi(i)]=r}function hF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Za(r,s,t)}return Za(r,e.attrs,t)}function hg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Za(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Za(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Xx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function fF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],f=nF(l)?A0(u,e,t,i,is(l),s):void 0;if(!ed(f)){ed(o)||eF(l)&&(o=A0(u,null,t,i,a,s));let g=hb(cs(),t);xk(r,s,g,i,o)}}function A0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,m=t[i+1];m===hr&&(m=g?rn:void 0);let v=g?ng(m,r):f===r?m:void 0;if(l&&!ed(v)&&(v=ng(u,r)),ed(v)&&(a=v,s))return a;let C=n[i+1];i=s?Oi(C):is(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ng(u,r))}return a}function ed(n){return n!==void 0}function pF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xt(fd(n)))),n}function gF(n,e){return(n.flags&(e?8:16))!==0}function M(n,e,t,r){let i=be(),o=Ct(),s=mn+n,a=i[$e],u=o.firstCreatePass?$T(s,o,i,e,bT,_b(),t,r):o.data[s],l=mF(o,i,u,a,e,n);i[s]=l;let f=cm(u);return tc(u,!0),vT(a,l,u),!TT(u)&&hm()&&Om(o,i,l,u),(b1()===0||f)&&rc(l,i),T1(),f&&(Rm(o,i,u),uT(o,u,i)),r!==null&&IT(i,u),M}function R(){let n=kt();Eb()?M1():(n=n.parent,tc(n,!1));let e=n;S1(e)&&A1(),D1();let t=Ct();return t.firstCreatePass&&HT(t,e),e.classesWithoutHost!=null&&H1(e)&&S0(t,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&z1(e)&&S0(t,e,be(),e.stylesWithoutHost,!1),R}function re(n,e,t,r){return M(n,e,t,r),R(),re}var mF=(n,e,t,r,i,o)=>(fm(!0),gT(r,i,U1()));function ps(){return be()}var td="en-US";var vF=td;function yF(n){typeof n=="string"&&(vF=n.toLowerCase().replace(/_/g,"-"))}function R0(n,e,t){return function r(i){if(i===Function)return t;let o=ss(n)?Nn(n.index,e):e;Lm(o,5);let s=e[Pt],a=M0(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=M0(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function M0(n,e,t,r){let i=de(null);try{return Te(6,e,t),t(r)!==!1}catch(o){return _F(n,o),!1}finally{Te(7,e,t),de(i)}}function _F(n,e){let t=n[Jo],r=t?t.get(xn,null):null;r&&r.handleError(e)}function N0(n,e,t,r,i,o){let s=e[t],a=e[fe],l=a.data[t].outputs[r],f=s[l],g=a.firstCreatePass?yb(a):null,m=vb(e),v=f.subscribe(o),C=m.length;m.push(o,v),g&&g.push(i,n.index,C,-(C+1))}function Ie(n,e,t,r){let i=be(),o=Ct(),s=kt();return nD(o,i,i[$e],s,n,e,r),Ie}function wF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Fl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function nD(n,e,t,r,i,o,s){let a=cm(r),l=n.firstCreatePass?yb(n):null,f=vb(e),g=!0;if(r.type&3||s){let m=kn(r,e),v=s?s(m):m,C=f.length,N=s?G=>s(Mn(G[r.index])):r.index,P=null;if(!s&&a&&(P=wF(n,e,i,r.index)),P!==null){let G=P.__ngLastListenerFn__||P;G.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,g=!1}else{o=R0(r,e,o),MP(e,v,i,o);let G=t.listen(v,i,o);f.push(o,G),l&&l.push(i,N,C,C+1)}}else o=R0(r,e,o);if(g){let m=r.outputs?.[i],v=r.hostDirectiveOutputs?.[i];if(v&&v.length)for(let C=0;C<v.length;C+=2){let N=v[C],P=v[C+1];N0(r,e,N,P,i,o)}if(m&&m.length)for(let C of m)N0(r,e,C,i,i,o)}}function Ne(n=1){return V1(n)}function Bm(n,e,t){return rD(n,"",e,"",t),Bm}function rD(n,e,t,r,i){let o=be(),s=tD(o,e,t,r);if(s!==hr){let a=Ct(),u=ld();Mm(a,u,o,n,s,o[$e],i,!1)}return rD}function B(n,e=""){let t=be(),r=Ct(),i=n+mn,o=r.firstCreatePass?Vm(r,i,1,e,null):r.data[i],s=EF(r,t,o,e,n);t[i]=s,hm()&&Om(r,t,s,o),tc(o,!1)}var EF=(n,e,t,r,i)=>(fm(!0),QP(e[$e],r));function Wt(n){return St("",n,""),Wt}function St(n,e,t){let r=be(),i=tD(r,n,e,t);return i!==hr&&IF(r,cs(),i),St}function IF(n,e,t){let r=hb(e,n);YP(n[$e],r,t)}function $m(n,e,t){Yb(e)&&(e=e());let r=be(),i=ud();if(fs(r,i,e)){let o=Ct(),s=ld();Mm(o,s,r,n,e,r[$e],t,!1)}return $m}function iD(n,e){let t=Yb(n);return t&&n.set(e),t}function Hm(n,e){let t=be(),r=Ct(),i=kt();return nD(r,t,t[$e],i,n,e),Hm}function bF(n,e,t){let r=Ct();if(r.firstCreatePass){let i=Rn(n);Qg(t,r.data,r.blueprint,i,!0),Qg(e,r.data,r.blueprint,i,!1)}}function Qg(n,e,t,r,i){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Qg(n[o],e,t,r,i);else{let o=Ct(),s=be(),a=kt(),u=Zo(n)?n:Tt(n.provide),l=nb(n),f=a.providerIndexes&1048575,g=a.directiveStart,m=a.providerIndexes>>20;if(Zo(n)||!n.multi){let v=new xi(l,i,W),C=pg(u,e,i?f:f+m,g);C===-1?(Sg(ql(a,s),o,u),fg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[C]=v,s[C]=v)}else{let v=pg(u,e,f+m,g),C=pg(u,e,f,f+m),N=v>=0&&t[v],P=C>=0&&t[C];if(i&&!P||!i&&!N){Sg(ql(a,s),o,u);let G=CF(i?DF:TF,t.length,i,r,l);!i&&P&&(t[C].providerFactory=G),fg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(G),s.push(G)}else{let G=oD(t[i?C:v],l,!i&&r);fg(o,n,v>-1?v:C,G)}!i&&r&&P&&t[C].componentProviders++}}}function fg(n,e,t,r){let i=Zo(e),o=a1(e);if(i||o){let u=(o?Tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(t);f===-1?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function oD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function pg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function TF(n,e,t,r,i){return Yg(this.multi,[])}function DF(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Gl(r,r[fe],this.providerFactory.index,i);s=u.slice(0,a),Yg(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Yg(o,s);return s}function Yg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function CF(n,e,t,r,i){let o=new xi(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,oD(o,i,r&&!t),o}function oc(n,e=[]){return t=>{t.providersResolver=(r,i)=>bF(r,i?i(n):n,e)}}function Br(n,e,t){let r=bb()+n,i=be();return i[r]===hr?QT(i,r,t?e.call(t):e()):zO(i,r)}function SF(n,e){let t=n[e];return t===hr?void 0:t}function AF(n,e,t,r,i,o){let s=e+t;return fs(n,s,i)?QT(n,s+1,o?r.call(o,i):r(i)):SF(n,s+1)}function sD(n,e){let t=Ct(),r,i=n+mn;t.firstCreatePass?(r=RF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ci(r.type,!0)),s,a=Nt(W);try{let u=zl(!1),l=o();return zl(u),_1(t,be(),i,l),l}finally{Nt(a)}}function RF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function aD(n,e,t){let r=n+mn,i=be(),o=y1(i,r);return MF(i,r)?AF(i,bb(),e,o.transform,t,o):o.transform(t)}function MF(n,e){return n[fe].data[e].pure}var Fi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},cD=new Fi("19.2.14"),Zg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},uD=(()=>{class n{compileModuleSync(t){return new qg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=J0(t),o=fT(i.declarations).reduce((s,a)=>{let u=Ai(a);return u&&s.push(new ns(u)),s},[]);return new Zg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NF=(()=>{class n{zone=x(_e);changeDetectionScheduler=x(Pi);applicationRef=x(ki);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xF=new j("",{factory:()=>!1});function lD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(J(F({},hD()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:Ga,multi:!0,useFactory:()=>{let r=x(NF,{optional:!0});return()=>r.initialize()}},{provide:Ga,multi:!0,useFactory:()=>{let r=x(PF);return()=>{r.initialize()}}},e===!0?{provide:qb,useValue:!0}:[],{provide:Gb,useValue:t??zb}]}function dD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=lD({ngZoneFactory:()=>{let i=hD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ds("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return an([{provide:xF,useValue:!0},{provide:mm,useValue:!1},r])}function hD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var PF=(()=>{class n{subscription=new ke;initialized=!1;zone=x(_e);pendingTasks=x(dr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kF=(()=>{class n{appRef=x(ki);taskService=x(dr);ngZone=x(_e);zonelessEnabled=x(mm);tracing=x(ls,{optional:!0});disableScheduling=x(qb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Kl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Gb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?c0:Wb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Kl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,c0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OF(){return typeof $localize<"u"&&$localize.locale||td}var zm=new j("",{providedIn:"root",factory:()=>x(zm,ne.Optional|ne.SkipSelf)||OF()});var Jg=new j(""),FF=new j("");function $a(n){return!n.moduleRef}function LF(n){let e=$a(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{$a(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(xn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),$a(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Jg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Jg);s.add(o),n.moduleRef.onDestroy(()=>{Al(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return jF(r,t,()=>{let o=e.get(eD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(zm,td);if(yF(s||td),!e.get(FF,!0))return $a(n)?e.get(ki):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if($a(n)){let u=e.get(ki);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return VF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function VF(n,e){let t=n.injector.get(ki);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}function jF(n,e,t){try{let r=t();return Ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Rl=null;function UF(n=[],e){return He.create({name:e,providers:[{provide:sd,useValue:"platform"},{provide:Jg,useValue:new Set([()=>Rl=null])},...n]})}function BF(n=[]){if(Rl)return Rl;let e=UF(n);return Rl=e,YO(),$F(e),e}function $F(n){let e=n.get(wm,null);it(n,()=>{e?.forEach(t=>t())})}function qm(){return!1}var Bi=(()=>{class n{static __NG_ELEMENT_ID__=HF}return n})();function HF(n){return zF(kt(),be(),(n&16)===16)}function zF(n,e,t){if(ss(n)&&!t){let r=Nn(n.index,e);return new Ya(r,r)}else if(n.type&175){let r=e[An];return new Ya(r,e)}return null}var Xg=class{constructor(){}supports(e){return KT(e)}create(e){return new em(e)}},qF=(n,e)=>e,em=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||qF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<x0(r,i,o)?t:r,a=x0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,C=v+m;f<=C&&C<l&&(o[m]=v+1)}let g=s.previousIndex;o[g]=f-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!KT(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,$O(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new tm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new nd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},tm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},nm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new nm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function x0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function P0(){return new Gm([new Xg])}var Gm=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:P0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||P0()),deps:[[n,new Zx,new qt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function fD(n){Te(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=BF(r),o=[lD({}),{provide:Pi,useExisting:kF},...t||[]],s=new Xl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return LF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}function $i(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function On(n){return Op(n)}function gs(n,e){return Np(n,e?.equal)}var k0=class{[nn];constructor(e){this[nn]=e}destroy(){this[nn].destroy()}};function pD(n){let e=Ai(n);if(!e)return null;let t=new ns(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qe=new j("");var vD=null;function cn(){return vD}function Wm(n){vD??=n}var sc=class{},ac=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(yD),providedIn:"platform"})}return n})(),Km=new j(""),yD=(()=>{class n extends ac{_location;_history;_doc=x(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ed(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function gD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function _n(n){return n&&n[0]!=="?"?`?${n}`:n}var wn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(bd),providedIn:"root"})}return n})(),Id=new j(""),bd=(()=>{class n extends wn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ed(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+_n(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(ac),H(Id,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$r=(()=>{class n{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=KF(gD(mD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_n(r))}normalize(t){return n.stripTrailingSlash(WF(this._basePath,mD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=_n;static joinWithSlash=Ed;static stripTrailingSlash=gD;static \u0275fac=function(r){return new(r||n)(H(wn))};static \u0275prov=U({token:n,factory:()=>GF(),providedIn:"root"})}return n})();function GF(){return new $r(H(wn))}function WF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function mD(n){return n.replace(/\/index.html$/,"")}function KF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Qm=(()=>{class n extends wn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Ed(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(ac),H(Id,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var Td=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Hr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Td(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),_D(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);_D(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(hs),W(md),W(Gm))};static \u0275dir=ht({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function _D(n,e){n.context.$implicit=e.item}var Kt=(()=>{class n{_viewContainer;_context=new Dd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(hs),W(md))};static \u0275dir=ht({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Dd=class{$implicit=null;ngIf=null};function wD(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}function QF(n,e){return new $(2100,!1)}var YF=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Ym=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw QF(n,t);return t.replace(YF,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=qT({name:"titlecase",type:n,pure:!0})}return n})();var Ft=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=zt({})}return n})();function cc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zm="browser",ED="server";function Cd(n){return n===ED}var Hi=class{};var ID=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Jm(x(qe),window)})}return n})(),Jm=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=ZF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function ZF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Rd=new j(""),nv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(H(Rd),H(_e))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),uc=class{_doc;constructor(e){this._doc=e}manager},Sd="ng-app-id";function bD(n){for(let e of n)e.remove()}function TD(n,e){let t=e.createElement("style");return t.textContent=n,t}function JF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Sd}="${e}"],link[${Sd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Sd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ev(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var rv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Cd(o),JF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,TD);r?.forEach(i=>this.addUsage(i,this.external,ev))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(bD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])bD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,TD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ev(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(qe),H(_m),H(Em,8),H(jr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Xm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},iv=/%COMP%/g;var CD="%COMP%",XF=`_nghost-${CD}`,eL=`_ngcontent-${CD}`,tL=!0,nL=new j("",{providedIn:"root",factory:()=>tL});function rL(n){return eL.replace(iv,n)}function iL(n){return XF.replace(iv,n)}function SD(n,e){return e.map(t=>t.replace(iv,n))}var ov=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=Cd(a),this.defaultRenderer=new lc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pn.ShadowDom&&(r=J(F({},r),{encapsulation:Pn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ad?i.applyToHost(t):i instanceof dc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Pn.Emulated:o=new Ad(u,l,r,this.appId,f,s,a,g,m);break;case Pn.ShadowDom:return new tv(u,l,t,r,s,a,this.nonce,g,m);default:o=new dc(u,l,r,f,s,a,g,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(H(nv),H(rv),H(_m),H(nL),H(qe),H(jr),H(_e),H(Em),H(ls,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),lc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Xm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(DD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(DD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Xm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Xm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(sr.DashCase|sr.Important)?e.style.setProperty(t,r,i&sr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&sr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function DD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tv=class extends lc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=SD(i.id,f);for(let m of f){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=m,this.shadowRoot.appendChild(v)}let g=i.getExternalStyles?.();if(g)for(let m of g){let v=ev(m,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends lc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?SD(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ad=class extends dc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,a,u,l,f),this.contentAttr=rL(f),this.hostAttr=iL(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Md=class n extends sc{supportsDOMEvents=!0;static makeCurrent(){Wm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=oL();return t==null?null:sL(t)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cc(document.cookie,e)}},hc=null;function oL(){return hc=hc||document.head.querySelector("base"),hc?hc.getAttribute("href"):null}function sL(n){return new URL(n,document.baseURI).pathname}var aL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),RD=(()=>{class n extends uc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(qe))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),AD=["alt","control","meta","shift"],cL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},MD=(()=>{class n extends uc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AD.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=cL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),AD.forEach(s=>{if(s!==i){let a=uL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(H(qe))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function sv(n,e){return fD(F({rootComponent:n},lL(e)))}function lL(n){return{appProviders:[...gL,...n?.providers??[]],platformProviders:pL}}function dL(){Md.makeCurrent()}function hL(){return new xn}function fL(){return rT(document),document}var pL=[{provide:jr,useValue:Zm},{provide:wm,useValue:dL,multi:!0},{provide:qe,useFactory:fL}];var gL=[{provide:sd,useValue:"root"},{provide:xn,useFactory:hL},{provide:Rd,useClass:RD,multi:!0,deps:[qe]},{provide:Rd,useClass:MD,multi:!0,deps:[qe]},ov,rv,nv,{provide:ts,useExisting:ov},{provide:Hi,useClass:aL},[]];var vs=class{},fc=class{},Lt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var xd=class{encodeKey(e){return ND(e)}encodeValue(e){return ND(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function mL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var vL=/%(\d[a-f0-9])/gi,yL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ND(n){return encodeURIComponent(n).replace(vL,(e,t)=>yL[t]??e)}function Nd(n){return`${n}`}var pr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new xd,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=mL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Nd):[Nd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Nd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Nd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Pd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _L(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function PD(n){return typeof Blob<"u"&&n instanceof Blob}function kD(n){return typeof FormData<"u"&&n instanceof FormData}function wL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var OD="Content-Type",FD="Accept",LD="X-Request-URL",VD="text/plain",jD="application/json",EL=`${jD}, ${VD}, */*`,ms=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(_L(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Lt,this.context??=new Pd,!this.params)this.params=new pr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xD(this.body)||PD(this.body)||kD(this.body)||wL(this.body)?this.body:this.body instanceof pr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||kD(this.body)?null:PD(this.body)?this.body.type||null:xD(this.body)?null:typeof this.body=="string"?VD:this.body instanceof pr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?jD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),f)),new n(t,r,s,{params:f,headers:l,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},qi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(qi||{}),ys=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Lt,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kd=class n extends ys{constructor(e={}){super(e)}type=qi.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pc=class n extends ys{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=qi.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gc=class extends ys{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},IL=200,bL=204;function av(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var _s=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ms)o=t;else{let u;i.headers instanceof Lt?u=i.headers:u=new Lt(i.headers);let l;i.params&&(i.params instanceof pr?l=i.params:l=new pr({fromObject:i.params})),o=new ms(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Y(o).pipe(Cn(u=>this.handler.handle(u)));if(t instanceof ms||i.observe==="events")return s;let a=s.pipe(bt(u=>u instanceof pc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new $(2806,!1);return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new $(2807,!1);return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new $(2808,!1);return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new $(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new pr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,av(i,r))}post(t,r,i={}){return this.request("POST",t,av(i,r))}put(t,r,i={}){return this.request("PUT",t,av(i,r))}static \u0275fac=function(r){return new(r||n)(H(vs))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var TL=new j("");function DL(n,e){return e(n)}function CL(n,e,t){return(r,i)=>it(t,()=>e(r,o=>n(o,i)))}var UD=new j(""),BD=new j(""),$D=new j("",{providedIn:"root",factory:()=>!0});var Od=(()=>{class n extends vs{backend;injector;chain=null;pendingTasks=x(dr);contributeToStability=x($D);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(UD),...this.injector.get(BD,[])]));this.chain=r.reduceRight((i,o)=>CL(i,o,this.injector),DL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(bi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(H(fc),H(rt))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var SL=/^\)\]\}',?\n/,AL=RegExp(`^${LD}:`,"m");function RL(n){return"responseURL"in n&&n.responseURL?n.responseURL:AL.test(n.getAllResponseHeaders())?n.getResponseHeader(LD):null}var cv=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ye(r.\u0275loadImpl()):Y(null)).pipe(Je(()=>new ce(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,P)=>s.setRequestHeader(N,P.join(","))),t.headers.has(FD)||s.setRequestHeader(FD,EL),!t.headers.has(OD)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(OD,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",P=new Lt(s.getAllResponseHeaders()),G=RL(s)||t.url;return u=new kd({headers:P,status:s.status,statusText:N,url:G}),u},f=()=>{let{headers:N,status:P,statusText:G,url:se}=l(),Q=null;P!==bL&&(Q=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=Q?IL:0);let Re=P>=200&&P<300;if(t.responseType==="json"&&typeof Q=="string"){let tn=Q;Q=Q.replace(SL,"");try{Q=Q!==""?JSON.parse(Q):null}catch(je){Q=tn,Re&&(Re=!1,Q={error:je,text:Q})}}Re?(o.next(new pc({body:Q,headers:N,status:P,statusText:G,url:se||void 0})),o.complete()):o.error(new gc({error:Q,headers:N,status:P,statusText:G,url:se||void 0}))},g=N=>{let{url:P}=l(),G=new gc({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(G)},m=!1,v=N=>{m||(o.next(l()),m=!0);let P={type:qi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(P.total=N.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},C=N=>{let P={type:qi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(P.total=N.total),o.next(P)};return s.addEventListener("load",f),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:qi.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",f),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(H(Hi))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),HD=new j(""),ML="XSRF-TOKEN",NL=new j("",{providedIn:"root",factory:()=>ML}),xL="X-XSRF-TOKEN",PL=new j("",{providedIn:"root",factory:()=>xL}),mc=class{},kL=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(H(qe),H(NL))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function OL(n,e){let t=n.url.toLowerCase();if(!x(HD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(mc).getToken(),i=x(PL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function uv(...n){let e=[_s,cv,Od,{provide:vs,useExisting:Od},{provide:fc,useFactory:()=>x(TL,{optional:!0})??x(cv)},{provide:UD,useValue:OL,multi:!0},{provide:HD,useValue:!0},{provide:mc,useClass:kL}];for(let t of n)e.push(...t.\u0275providers);return an(e)}var qD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(H(qe))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",Rc=Symbol("RouteTitle"),pv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ki(n){return new pv(n)}function XD(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function LL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fn(n[t],e[t]))return!1;return!0}function Fn(n,e){let t=n?gv(n):void 0,r=e?gv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!eC(n[i],e[i]))return!1;return!0}function gv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function eC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function tC(n){return n.length>0?n[n.length-1]:null}function Kr(n){return Yp(n)?n:Ui(n)?ye(Promise.resolve(n)):Y(n)}var VL={exact:rC,subset:iC},nC={exact:jL,subset:UL,ignored:()=>!0};function GD(n,e,t){return VL[t.paths](n.root,e.root,t.matrixParams)&&nC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function jL(n,e){return Fn(n,e)}function rC(n,e,t){if(!Gi(n.segments,e.segments)||!Vd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!rC(n.children[r],e.children[r],t))return!1;return!0}function UL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eC(n[t],e[t]))}function iC(n,e,t){return oC(n,e,e.segments,t)}function oC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gi(i,t)||e.hasChildren()||!Vd(i,t,r))}else if(n.segments.length===t.length){if(!Gi(n.segments,t)||!Vd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!iC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gi(n.segments,i)||!Vd(n.segments,i,r)||!n.children[te]?!1:oC(n.children[te],e,o,r)}}function Vd(n,e,t){return e.every((r,i)=>nC[t](n[i].parameters,r.parameters))}var Vn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ee([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return HL.serialize(this)}},Ee=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jd(this)}},zr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return aC(this)}};function BL(n,e){return Gi(n,e)&&n.every((t,r)=>Fn(t.parameters,e[r].parameters))}function Gi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $L(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var Qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new qr,providedIn:"root"})}return n})(),qr=class{parse(e){let t=new vv(e);return new Vn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${vc(e.root,!0)}`,r=GL(e.queryParams),i=typeof e.fragment=="string"?`#${zL(e.fragment)}`:"";return`${t}${r}${i}`}},HL=new qr;function jd(n){return n.segments.map(e=>aC(e)).join("/")}function vc(n,e){if(!n.hasChildren())return jd(n);if(e){let t=n.children[te]?vc(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${vc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$L(n,(r,i)=>i===te?[vc(n.children[te],!1)]:[`${i}:${vc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${jd(n)}/${t[0]}`:`${jd(n)}/(${t.join("//")})`}}function sC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fd(n){return sC(n).replace(/%3B/gi,";")}function zL(n){return encodeURI(n)}function mv(n){return sC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ud(n){return decodeURIComponent(n)}function WD(n){return Ud(n.replace(/\+/g,"%20"))}function aC(n){return`${mv(n.path)}${qL(n.parameters)}`}function qL(n){return Object.entries(n).map(([e,t])=>`;${mv(e)}=${mv(t)}`).join("")}function GL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Fd(t)}=${Fd(i)}`).join("&"):`${Fd(t)}=${Fd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var WL=/^[^\/()?;#]+/;function lv(n){let e=n.match(WL);return e?e[0]:""}var KL=/^[^\/()?;=#]+/;function QL(n){let e=n.match(KL);return e?e[0]:""}var YL=/^[^=?&#]+/;function ZL(n){let e=n.match(YL);return e?e[0]:""}var JL=/^[^&#]+/;function XL(n){let e=n.match(JL);return e?e[0]:""}var vv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new Ee(e,t)),r}parseSegment(){let e=lv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new zr(Ud(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=QL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=lv(this.remaining);i&&(r=i,this.capture(r))}e[Ud(t)]=Ud(r)}parseQueryParam(e){let t=ZL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=XL(this.remaining);s&&(r=s,this.capture(r))}let i=WD(t),o=WD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function cC(n){return n.segments.length>0?new Ee([],{[te]:n}):n}function uC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=uC(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ee(n.segments,e);return eV(t)}function eV(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new Ee(n.segments.concat(e.segments),e.children)}return n}function Gr(n){return n instanceof Vn}function lC(n,e,t=null,r=null){let i=dC(n);return hC(i,e,t,r)}function dC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ee(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=cC(r);return e??i}function hC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return dv(i,i,i,t,r);let o=tV(e);if(o.toRoot())return dv(i,i,new Ee([],{}),t,r);let s=nV(o,i,n),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):pC(s.segmentGroup,s.index,o.commands);return dv(i,s.segmentGroup,a,t,r)}function $d(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ec(n){return typeof n=="object"&&n!=null&&n.outlets}function dv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=fC(n,e,t);let a=cC(uC(s));return new Vn(a,o,i)}function fC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=fC(o,e,t)}),new Ee(n.segments,r)}var Hd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$d(r[0]))throw new $(4003,!1);let i=r.find(Ec);if(i&&i!==tC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Hd(t,e,r)}var Is=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function nV(n,e,t){if(n.isAbsolute)return new Is(e,!0,0);if(!t)return new Is(e,!1,NaN);if(t.parent===null)return new Is(t,!0,0);let r=$d(n.commands[0])?0:1,i=t.segments.length-1+r;return rV(t,i,n.numberOfDoubleDots)}function rV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Is(r,!1,i-o)}function iV(n){return Ec(n[0])?n[0].outlets:{[te]:n}}function pC(n,e,t){if(n??=new Ee([],{}),n.segments.length===0&&n.hasChildren())return _c(n,e,t);let r=oV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ee(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new Ee(n.segments.slice(r.pathIndex),n.children),_c(o,0,i)}else return r.match&&i.length===0?new Ee(n.segments,{}):r.match&&!n.hasChildren()?yv(n,e,t):r.match?_c(n,0,i):yv(n,e,t)}function _c(n,e,t){if(t.length===0)return new Ee(n.segments,{});{let r=iV(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=_c(n.children[te],e,t);return new Ee(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=pC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(n.segments,i)}}function oV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ec(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!QD(u,l,s))return o;r+=2}else{if(!QD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ec(o)){let u=sV(o.outlets);return new Ee(r,u)}if(i===0&&$d(t[0])){let u=n.segments[e];r.push(new zr(u.path,KD(t[0]))),i++;continue}let s=Ec(o)?o.outlets[te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$d(a)?(r.push(new zr(s,KD(a))),i+=2):(r.push(new zr(s,{})),i++)}return new Ee(r,{})}function sV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=yv(new Ee([],{}),0,r))}),e}function KD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function QD(n,e,t){return n==t.path&&Fn(e,t.parameters)}var Bd="imperative",Xe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Xe||{}),Yt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wr=class extends Yt{type=Xe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends Yt{urlAfterRedirects;type=Xe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Vt||{}),Ts=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ts||{}),Ln=class extends Yt{reason;code;type=Xe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jn=class extends Yt{reason;code;type=Xe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ds=class extends Yt{error;target;type=Xe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ic=class extends Yt{urlAfterRedirects;state;type=Xe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class extends Yt{urlAfterRedirects;state;type=Xe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class extends Yt{urlAfterRedirects;state;shouldActivate;type=Xe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gd=class extends Yt{urlAfterRedirects;state;type=Xe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends Yt{urlAfterRedirects;state;type=Xe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kd=class{route;type=Xe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qd=class{route;type=Xe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yd=class{snapshot;type=Xe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{snapshot;type=Xe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jd=class{snapshot;type=Xe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{snapshot;type=Xe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cs=class{routerEvent;position;anchor;type=Xe.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},bc=class{},Ss=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function aV(n,e){return n.providers&&!n._injector&&(n._injector=ic(n.providers,e,`Route: ${n.path}`)),n._injector??e}function En(n){return n.outlet||te}function cV(n,e){let t=n.filter(r=>En(r)===e);return t.push(...n.filter(r=>En(r)!==e)),t}function Mc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var eh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Yi(this.rootInjector)}},Yi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new eh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(H(rt))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),th=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=_v(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=_v(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=wv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wv(e,this._root).map(t=>t.value)}};function _v(n,e){if(n===e.value)return e;for(let t of e.children){let r=_v(n,t);if(r)return r}return null}function wv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=wv(n,t);if(r.length)return r.unshift(e),r}return[]}var Qt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Es(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Tc=class extends th{snapshot;constructor(e,t){super(e),this.snapshot=t,Av(this,e)}toString(){return this.snapshot.toString()}};function gC(n){let e=uV(n),t=new Ze([new zr("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),a=new Un(t,r,o,s,i,te,n,e.root);return a.snapshot=e.root,new Tc(new Qt(a,[]),e)}function uV(n){let e={},t={},r={},i="",o=new Wi([],e,r,i,t,te,n,null,{});return new Dc("",new Qt(o,[]))}var Un=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Rc]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ki(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ki(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&vC(i)&&(r.resolve[Rc]=i.title),r}var Wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Rc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Dc=class extends th{url;constructor(e,t){super(t),this.url=e,Av(this,t)}toString(){return mC(this._root)}};function Av(n,e){e.value._routerState=n,e.children.forEach(t=>Av(n,t))}function mC(n){let e=n.children.length>0?` { ${n.children.map(mC).join(", ")} } `:"";return`${n.value}${e}`}function hv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Fn(e.params,t.params)||n.paramsSubject.next(t.params),LL(e.url,t.url)||n.urlSubject.next(t.url),Fn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ev(n,e){let t=Fn(n.params,e.params)&&BL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ev(n.parent,e.parent))}function vC(n){return typeof n.title=="string"||n.title===null}var yC=new j(""),Nc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new De;deactivateEvents=new De;attachEvents=new De;detachEvents=new De;routerOutletData=Qb(void 0);parentContexts=x(Yi);location=x(hs);changeDetector=x(Bi);inputBinder=x(xc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Iv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ht({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[yn]})}return n})(),Iv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Un?this.route:e===Yi?this.childContexts:e===yC?this.outletData:this.parent.get(e,t)}},xc=new j(""),Rv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ba([r.queryParams,r.params,r.data]).pipe(Je(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=pD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Mv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[Nc],encapsulation:2})}return n})();function Nv(n){let e=n.children&&n.children.map(Nv),t=e?J(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=Mv),t}function lV(n,e,t){let r=Cc(n,e._root,t?t._root:void 0);return new Tc(r,e)}function Cc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=dV(n,e,t);return new Qt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cc(n,a)),s}}let r=hV(e.value),i=e.children.map(o=>Cc(n,o));return new Qt(r,i)}}function dV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cc(n,r,i);return Cc(n,r)})}function hV(n){return new Un(new Ze(n.url),new Ze(n.params),new Ze(n.queryParams),new Ze(n.fragment),new Ze(n.data),n.outlet,n.component,n)}var As=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},_C="ngNavigationCancelingError";function rh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Gr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wC(!1,Vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function wC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[_C]=!0,t.cancellationCode=e,t}function fV(n){return EC(n)&&Gr(n.url)}function EC(n){return!!n&&n[_C]}var pV=(n,e,t,r)=>ie(i=>(new bv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),bv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Es(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Es(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(hv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ih=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function gV(n,e,t){let r=n._root,i=e?e._root:null;return yc(r,i,t,[r.value])}function mV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ms(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!B0(n)?n:e.get(n):r}function yc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Es(e);return n.children.forEach(s=>{vV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wc(a,t.getContext(s),i)),i}function vV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=yV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ih(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yc(n,e,a?a.children:null,r,i):yc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bs(a.outlet.component,s))}else s&&wc(e,a,i),i.canActivateChecks.push(new ih(r)),o.component?yc(n,null,a?a.children:null,r,i):yc(n,null,t,r,i);return i}function yV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!Fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ev(n,e)||!Fn(n.queryParams,e.queryParams);case"paramsChange":default:return!Ev(n,e)}}function wc(n,e,t){let r=Es(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wc(s,e.children.getContext(o),t):wc(s,null,t):wc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new bs(e.outlet.component,i)):t.canDeactivateChecks.push(new bs(null,i)):t.canDeactivateChecks.push(new bs(null,i))}function Pc(n){return typeof n=="function"}function _V(n){return typeof n=="boolean"}function wV(n){return n&&Pc(n.canLoad)}function EV(n){return n&&Pc(n.canActivate)}function IV(n){return n&&Pc(n.canActivateChild)}function bV(n){return n&&Pc(n.canDeactivate)}function TV(n){return n&&Pc(n.canMatch)}function IC(n){return n instanceof fn||n?.name==="EmptyError"}var Ld=Symbol("INITIAL_VALUE");function Rs(){return Je(n=>Ba(n.map(e=>e.pipe(rr(1),eg(Ld)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Ld)return Ld;if(t===!1||DV(t))return t}return!0}),bt(e=>e!==Ld),rr(1)))}function DV(n){return Gr(n)||n instanceof As}function CV(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Y(J(F({},t),{guardsResult:!0})):SV(s,r,i,n).pipe(Ve(a=>a&&_V(a)?AV(r,o,n,e):Y(a)),ie(a=>J(F({},t),{guardsResult:a})))})}function SV(n,e,t,r){return ye(n).pipe(Ve(i=>PV(i.component,i.route,t,e,r)),ir(i=>i!==!0,!0))}function AV(n,e,t,r){return ye(e).pipe(Cn(i=>Ho(MV(i.route.parent,r),RV(i.route,r),xV(n,i.path,t),NV(n,i.route,t))),ir(i=>i!==!0,!0))}function RV(n,e){return n!==null&&e&&e(new Jd(n)),Y(!0)}function MV(n,e){return n!==null&&e&&e(new Yd(n)),Y(!0)}function NV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>wl(()=>{let s=Mc(e)??t,a=Ms(o,s),u=EV(a)?a.canActivate(e,n):it(s,()=>a(e,n));return Kr(u).pipe(ir())}));return Y(i).pipe(Rs())}function xV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>mV(s)).filter(s=>s!==null).map(s=>wl(()=>{let a=s.guards.map(u=>{let l=Mc(s.node)??t,f=Ms(u,l),g=IV(f)?f.canActivateChild(r,n):it(l,()=>f(r,n));return Kr(g).pipe(ir())});return Y(a).pipe(Rs())}));return Y(o).pipe(Rs())}function PV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=Mc(e)??i,l=Ms(a,u),f=bV(l)?l.canDeactivate(n,e,t,r):it(u,()=>l(n,e,t,r));return Kr(f).pipe(ir())});return Y(s).pipe(Rs())}function kV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ms(s,n),u=wV(a)?a.canLoad(e,t):it(n,()=>a(e,t));return Kr(u)});return Y(o).pipe(Rs(),bC(r))}function bC(n){return $p(dt(e=>{if(typeof e!="boolean")throw rh(n,e)}),ie(e=>e===!0))}function OV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ms(s,n),u=TV(a)?a.canMatch(e,t):it(n,()=>a(e,t));return Kr(u)});return Y(o).pipe(Rs(),bC(r))}var Sc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ws(n){return Bo(new Sc(n))}function FV(n){return Bo(new $(4e3,!1))}function LV(n){return Bo(wC(!1,Vt.GuardRejected))}var Tv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[te])return FV(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:m,params:v,data:C,title:N}=i,P=it(o,()=>a({params:v,data:C,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:m,title:N}));if(P instanceof Vn)throw new Ac(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ac(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Vn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Dv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VV(n,e,t,r,i){let o=TC(n,e,t);return o.matched?(r=aV(e,r),OV(r,e,t,i).pipe(ie(s=>s===!0?o:F({},Dv)))):Y(o)}function TC(n,e,t){if(e.path==="**")return jV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},Dv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||XD)(t,n,e);if(!i)return F({},Dv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jV(n){return{matched:!0,parameters:n.length>0?tC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function YD(n,e,t,r){return t.length>0&&$V(n,t,r)?{segmentGroup:new Ee(e,BV(r,new Ee(t,n.children))),slicedSegments:[]}:t.length===0&&HV(n,t,r)?{segmentGroup:new Ee(n.segments,UV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ee(n.segments,n.children),slicedSegments:t}}function UV(n,e,t,r){let i={};for(let o of t)if(sh(n,e,o)&&!r[En(o)]){let s=new Ee([],{});i[En(o)]=s}return F(F({},r),i)}function BV(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&En(r)!==te){let i=new Ee([],{});t[En(r)]=i}return t}function $V(n,e,t){return t.some(r=>sh(n,e,r)&&En(r)!==te)}function HV(n,e,t){return t.some(r=>sh(n,e,r))}function sh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zV(n,e,t){return e.length===0&&!n.children[t]}var Cv=class{};function qV(n,e,t,r,i,o,s="emptyOnly"){return new Sv(n,e,t,r,i,s,o).recognize()}var GV=31,Sv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Tv(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=YD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new Qt(r,t),o=new Dc("",i),s=lC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Wi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(ie(r=>({children:r,rootSnapshot:t})),nr(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Qt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ye(o).pipe(Cn(s=>{let a=r.children[s],u=cV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Xp((s,a)=>(s.push(...a),s)),Or(null),Jp(),Ve(s=>{if(s===null)return ws(r);let a=DC(s);return WV(a),Y(a)}))}processSegment(e,t,r,i,o,s,a){return ye(t).pipe(Cn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(nr(l=>{if(l instanceof Sc)return Y(null);throw l}))),ir(u=>!!u),nr(u=>{if(IC(u))return zV(r,i,o)?Y(new Cv):ws(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return En(r)!==s&&(s===te||!sh(i,o,r))?ws(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ws(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:m}=TC(t,i,o);if(!u)return ws(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GV&&(this.allowRedirects=!1));let v=new Wi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ZD(i),En(i),i.component??i._loadedComponent??null,i,JD(i)),C=nh(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,v,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ve(P=>this.processSegment(e,r,t,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=VV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Je(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Je(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:m,remainingSegments:v}=u,C=new Wi(m,g,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ZD(r),En(r),r.component??r._loadedComponent??null,r,JD(r)),N=nh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:P,slicedSegments:G}=YD(t,m,v,l);if(G.length===0&&P.hasChildren())return this.processChildren(f,l,P,C).pipe(ie(Q=>new Qt(C,Q)));if(l.length===0&&G.length===0)return Y(new Qt(C,[]));let se=En(r)===o;return this.processSegment(f,l,P,G,se?te:o,!0,C).pipe(ie(Q=>new Qt(C,Q instanceof Qt?[Q]:[])))}))):ws(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):kV(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(dt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):LV(t))):Y({routes:[],injector:e})}};function WV(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function KV(n){let e=n.value.routeConfig;return e&&e.path===""}function DC(n){let e=[],t=new Set;for(let r of n){if(!KV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=DC(r.children);e.push(new Qt(r.value,i))}return e.filter(r=>!t.has(r))}function ZD(n){return n.data||{}}function JD(n){return n.resolve||{}}function QV(n,e,t,r,i,o){return Ve(s=>qV(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>J(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function YV(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of CC(u))s.add(l);let a=0;return ye(s).pipe(Cn(u=>o.has(u)?ZV(u,r,n,e):(u.data=nh(u,u.parent,n).resolve,Y(void 0))),dt(()=>a++),zo(1),Ve(u=>a===s.size?Y(t):Rt))})}function CC(n){let e=n.children.map(t=>CC(t)).flat();return[n,...e]}function ZV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!vC(i)&&(o[Rc]=i.title),JV(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=nh(n,n.parent,t).resolve,null)))}function JV(n,e,t,r){let i=gv(n);if(i.length===0)return Y({});let o={};return ye(i).pipe(Ve(s=>XV(n[s],e,t,r).pipe(ir(),dt(a=>{if(a instanceof As)throw rh(new qr,a);o[s]=a}))),zo(1),ie(()=>o),nr(s=>IC(s)?Rt:Bo(s)))}function XV(n,e,t,r){let i=Mc(e)??r,o=Ms(n,i),s=o.resolve?o.resolve(e,t):it(i,()=>o(e,t));return Kr(s)}function fv(n){return Je(e=>{let t=n(e);return t?ye(t).pipe(ie(()=>e)):Y(e)})}var xv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[Rc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(SC),providedIn:"root"})}return n})(),SC=(()=>{class n extends xv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(qD))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zi=new j("",{providedIn:"root",factory:()=>({})}),Ji=new j(""),ah=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(uD);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Kr(t.loadComponent()).pipe(ie(RC),dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bi(()=>{this.componentLoaders.delete(t)})),i=new Lo(r,()=>new Ue).pipe(Fo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=AC(r,this.compiler,t,this.onLoadEndListener).pipe(bi(()=>{this.childrenLoaders.delete(r)})),s=new Lo(o,()=>new Ue).pipe(Fo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AC(n,e,t,r){return Kr(n.loadChildren()).pipe(ie(RC),Ve(i=>i instanceof jm||Array.isArray(i)?Y(i):ye(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ji,[],{optional:!0,self:!0}).flat()),{routes:s.map(Nv),injector:o}}))}function e2(n){return n&&typeof n=="object"&&"default"in n}function RC(n){return e2(n)?n.default:n}var ch=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(t2),providedIn:"root"})}return n})(),t2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pv=new j(""),kv=new j("");function MC(n,e,t){let r=n.get(kv),i=n.get(qe);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),n2(n))),{onViewTransitionCreated:u}=r;return u&&it(n,()=>u({transition:a,from:e,to:t})),s})}function n2(n){return new Promise(e=>{bm({read:()=>setTimeout(e)},{injector:n})})}var Ov=new j(""),uh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortSubject=new Ue;configLoader=x(ah);environmentInjector=x(rt);destroyRef=x(Vi);urlSerializer=x(Qi);rootContexts=x(Yi);location=x($r);inputBindingEnabled=x(xc,{optional:!0})!==null;titleStrategy=x(xv);options=x(Zi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(ch);createViewTransition=x(Pv,{optional:!0});navigationErrorHandler=x(Ov,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Kd(i)),r=i=>this.events.next(new Qd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(J(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Ze(null),this.transitions.pipe(bt(r=>r!==null),Je(r=>{let i=!1,o=!1;return Y(r).pipe(Je(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),Rt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?J(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new jn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ts.IgnoredSameUrlNavigation)),s.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Y(s).pipe(Je(l=>(this.events.next(new Wr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Rt:Promise.resolve(l))),QV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=J(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new Ic(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:g,restoredState:m,extras:v}=s,C=new Wr(l,this.urlSerializer.serialize(f),g,m);this.events.next(C);let N=gC(this.rootComponentType).snapshot;return this.currentTransition=r=J(F({},s),{targetSnapshot:N,urlAfterRedirects:f,extras:J(F({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Y(r)}else{let l="";return this.events.next(new jn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ts.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rt}}),dt(s=>{let a=new zd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ie(s=>(this.currentTransition=r=J(F({},s),{guards:gV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),CV(this.environmentInjector,s=>this.events.next(s)),dt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw rh(this.urlSerializer,s.guardsResult);let a=new qd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),bt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Vt.GuardRejected),!1)),fv(s=>{if(s.guards.canActivateChecks.length!==0)return Y(s).pipe(dt(a=>{let u=new Gd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Je(a=>{let u=!1;return Y(a).pipe(YV(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Vt.NoDataFromResolver)}}))}),dt(a=>{let u=new Wd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),fv(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(dt(f=>{u.component=f}),ie(()=>{})));for(let f of u.children)l.push(...a(f));return l};return Ba(a(s.targetSnapshot.root)).pipe(Or(null),rr(1))}),fv(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?ye(u).pipe(ie(()=>r)):Y(r)}),ie(s=>{let a=lV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=J(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),dt(()=>{this.events.next(new bc)}),pV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),rr(1),dt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),tg(this.transitionAbortSubject.pipe(dt(s=>{throw s}))),bi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(s=>{if(this.destroyed)return r.resolve(!1),Rt;if(o=!0,EC(s))this.events.next(new Ln(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),fV(s)?this.events.next(new Ss(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ds(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=it(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof As){let{message:l,cancellationCode:f}=rh(this.urlSerializer,u);this.events.next(new Ln(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new Ss(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Rt}))}))}cancelNavigationTransition(t,r,i){let o=new Ln(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function r2(n){return n!==Bd}var NC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(i2),providedIn:"root"})}return n})(),oh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},i2=(()=>{class n extends oh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=nc(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xC=(()=>{class n{urlSerializer=x(Qi);options=x(Zi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x($r);urlHandlingStrategy=x(ch);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Vn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=gC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(o2),providedIn:"root"})}return n})(),o2=(()=>{class n extends xC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wr?this.updateStateMemento():t instanceof jn?this.commitTransition(r):t instanceof Ic?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ln&&(t.code===Vt.GuardRejected||t.code===Vt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ds?this.restoreHistory(r,!0):t instanceof un&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=nc(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lh(n,e){n.events.pipe(bt(t=>t instanceof un||t instanceof Ln||t instanceof Ds||t instanceof jn),ie(t=>t instanceof un||t instanceof jn?0:(t instanceof Ln?t.code===Vt.Redirect||t.code===Vt.SupersededByNewNavigation:!1)?2:1),bt(t=>t!==2),rr(1)).subscribe(()=>{e()})}var s2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},st=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(YT);stateManager=x(xC);options=x(Zi,{optional:!0})||{};pendingTasks=x(dr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(uh);urlSerializer=x(Qi);location=x($r);urlHandlingStrategy=x(ch);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(NC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ji,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(xc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ln&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof un)this.navigated=!0;else if(r instanceof Ss){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||r2(i.source)},s);this.scheduleNavigation(a,Bd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}u2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Nv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let m=i?i.snapshot:this.routerState.snapshot.root;g=dC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return hC(g,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Gr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bd,null,r)}navigate(t,r={skipLocationChange:!1}){return c2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},s2):r===!1?i=F({},a2):i=r,Gr(t))return GD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return GD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((g,m)=>{a=g,u=m});let f=this.pendingTasks.add();return lh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function c2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function u2(n){return!(n instanceof bc)&&!(n instanceof Ss)}var Qr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Gr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:dT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Gr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(W(st),W(Un),gm("tabindex"),W(ji),W(Vr),W(wn))};static \u0275dir=ht({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&_d("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$i],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$i],replaceUrl:[2,"replaceUrl","replaceUrl",$i],routerLink:"routerLink"},features:[yn]})}return n})();var kc=class{};var PC=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(bt(t=>t instanceof un),Cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ic(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ye(i).pipe($o())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Y(null);let o=i.pipe(Ve(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ye([o,s]).pipe($o())}else return o})}static \u0275fac=function(r){return new(r||n)(H(st),H(rt),H(kc),H(ah))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kC=new j(""),l2=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof un?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jn&&t.code===Ts.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cs&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){jT()};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function Lv(n,...e){return an([{provide:Ji,multi:!0,useValue:n},[],{provide:Un,useFactory:OC,deps:[st]},{provide:yd,multi:!0,useFactory:FC},e.map(t=>t.\u0275providers)])}function OC(n){return n.routerState.root}function Oc(n,e){return{\u0275kind:n,\u0275providers:e}}function FC(){let n=x(He);return e=>{let t=n.get(ki);if(e!==t.components[0])return;let r=n.get(st),i=n.get(LC);n.get(Vv)===1&&r.initialNavigation(),n.get(UC,null,ne.Optional)?.setUpPreloading(),n.get(kC,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LC=new j("",{factory:()=>new Ue}),Vv=new j("",{providedIn:"root",factory:()=>1});function VC(){let n=[{provide:Vv,useValue:0},Um(()=>{let e=x(He);return e.get(Km,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(st),o=e.get(LC);lh(i,()=>{r(!0)}),e.get(uh).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))})];return Oc(2,n)}function jC(){let n=[Um(()=>{x(st).setUpLocationChangeListener()}),{provide:Vv,useValue:2}];return Oc(3,n)}var UC=new j("");function BC(n){return Oc(0,[{provide:UC,useExisting:PC},{provide:kc,useExisting:n}])}function $C(){return Oc(8,[Rv,{provide:xc,useExisting:Rv}])}function HC(n){ds("NgRouterViewTransitions");let e=[{provide:Pv,useValue:MC},{provide:kv,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return Oc(9,e)}var zC=[$r,{provide:Qi,useClass:qr},st,Yi,{provide:Un,useFactory:OC,deps:[st]},ah,[]],dh=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[zC,[],{provide:Ji,multi:!0,useValue:t},[],r?.errorHandler?{provide:Ov,useValue:r.errorHandler}:[],{provide:Zi,useValue:r||{}},r?.useHash?h2():f2(),d2(),r?.preloadingStrategy?BC(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?p2(r):[],r?.bindToComponentInputs?$C().\u0275providers:[],r?.enableViewTransitions?HC().\u0275providers:[],g2()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ji,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=zt({})}return n})();function d2(){return{provide:kC,useFactory:()=>{let n=x(ID),e=x(_e),t=x(Zi),r=x(uh),i=x(Qi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new l2(i,r,n,e,t)}}}function h2(){return{provide:wn,useClass:Qm}}function f2(){return{provide:wn,useClass:bd}}function p2(n){return[n.initialNavigation==="disabled"?jC().\u0275providers:[],n.initialNavigation==="enabledBlocking"?VC().\u0275providers:[]]}var Fv=new j("");function g2(){return[{provide:Fv,useFactory:FC},{provide:yd,multi:!0,useExisting:Fv}]}var qC=()=>{};var KC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},m2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,g=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(t[f],t[g],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):m2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||g==null)throw new Uv;let m=o<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),g!==64){let C=l<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Uv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},v2=function(n){let e=KC(n);return fh.encodeByteArray(e,!0)},Lc=function(n){return v2(n).replace(/\./g,"")},ph=function(n){try{return fh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $v(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var y2=()=>$v().__FIREBASE_DEFAULTS__,_2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},w2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ph(n[1]);return e&&JSON.parse(e)},gh=()=>{try{return qC()||y2()||_2()||w2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hv=n=>{var e,t;return(t=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QC=n=>{let e=Hv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zv=()=>{var n;return(n=gh())===null||n===void 0?void 0:n.config},qv=n=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${n}`]};var Xi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Yr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function mh(n){return y(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function YC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Lc(JSON.stringify(t)),Lc(JSON.stringify(s)),""].join(".")}var Fc={};function E2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Fc))Fc[e]?n.emulator.push(e):n.prod.push(e);return n}function I2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var GC=!1;function vh(n,e){if(typeof window>"u"||typeof document>"u"||!Yr(window.location.host)||Fc[n]===e||Fc[n]||GC)return;Fc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=E2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{GC=!0,s()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){let m=I2(r),v=t("text"),C=document.getElementById(v)||document.createElement("span"),N=t("learnmore"),P=document.getElementById(N)||document.createElement("a"),G=t("preprendIcon"),se=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;a(Q),f(P,N);let Re=l();u(se,G),Q.append(se,C,P,Re),document.body.appendChild(Q)}o?(C.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function b2(){var n;let e=(n=gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){let n=at();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nS(){return!b2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vc(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var T2="FirebaseError",Zt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=T2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?D2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zt(i,a,r)}};function D2(n,e){return n.replace(C2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var C2=/\{\$([^}]+)}/g;function iS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(WC(o)&&WC(s)){if(!Bn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function WC(n){return n!==null&&typeof n=="object"}function jc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ns(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function xs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function oS(n,e){let t=new Bv(n,e);return t.subscribe.bind(t)}var Bv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=jv),i.error===void 0&&(i.error=jv),i.complete===void 0&&(i.complete=jv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function S2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jv(){}var jQ=4*60*60*1e3;function ft(n){return n&&n._delegate?n._delegate:n}var At=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var eo="[DEFAULT]";var Gv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Xi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R2(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A2(n){return n===eo?void 0:n}function R2(n){return n.instantiationMode==="EAGER"}var yh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Gv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var M2=[],le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(le||{}),N2={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},x2=le.INFO,P2={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},k2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=P2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$n=class{constructor(e){this.name=e,this._logLevel=x2,this._logHandler=k2,this._userLogHandler=null,M2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var O2=(n,e)=>e.some(t=>n instanceof t),sS,aS;function F2(){return sS||(sS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return aS||(aS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cS=new WeakMap,Kv=new WeakMap,uS=new WeakMap,Wv=new WeakMap,Yv=new WeakMap;function V2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Hn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&cS.set(t,n)}).catch(()=>{}),Yv.set(e,n),e}function j2(n){if(Kv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Kv.set(n,e)}var Qv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lS(n){Qv=n(Qv)}function U2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(_h(this),e,...t);return uS.set(r,e.sort?e.sort():[e]),Hn(r)}:L2().includes(n)?function(...e){return n.apply(_h(this),e),Hn(cS.get(this))}:function(...e){return Hn(n.apply(_h(this),e))}}function B2(n){return typeof n=="function"?U2(n):(n instanceof IDBTransaction&&j2(n),O2(n,F2())?new Proxy(n,Qv):n)}function Hn(n){if(n instanceof IDBRequest)return V2(n);if(Wv.has(n))return Wv.get(n);let e=B2(n);return e!==n&&(Wv.set(n,e),Yv.set(e,n)),e}var _h=n=>Yv.get(n);function hS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Hn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Hn(s.result),u.oldVersion,u.newVersion,Hn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var $2=["get","getKey","getAll","getAllKeys","count"],H2=["put","add","delete","clear"],Zv=new Map;function dS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zv.get(e))return Zv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=H2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$2.includes(t)))return;let o=function(s,...a){return y(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Zv.set(e,o),o}lS(n=>J(F({},n),{get:(e,t,r)=>dS(e,t)||n.get(e,t,r),has:(e,t)=>!!dS(e,t)||n.has(e,t)}));var Xv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(z2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function z2(n){let e=n.getComponent();return e?.type==="VERSION"}var ey="@firebase/app",fS="0.13.2";var gr=new $n("@firebase/app"),q2="@firebase/app-compat",G2="@firebase/analytics-compat",W2="@firebase/analytics",K2="@firebase/app-check-compat",Q2="@firebase/app-check",Y2="@firebase/auth",Z2="@firebase/auth-compat",J2="@firebase/database",X2="@firebase/data-connect",ej="@firebase/database-compat",tj="@firebase/functions",nj="@firebase/functions-compat",rj="@firebase/installations",ij="@firebase/installations-compat",oj="@firebase/messaging",sj="@firebase/messaging-compat",aj="@firebase/performance",cj="@firebase/performance-compat",uj="@firebase/remote-config",lj="@firebase/remote-config-compat",dj="@firebase/storage",hj="@firebase/storage-compat",fj="@firebase/firestore",pj="@firebase/ai",gj="@firebase/firestore-compat",mj="firebase",vj="11.10.0";var ty="[DEFAULT]",yj={[ey]:"fire-core",[q2]:"fire-core-compat",[W2]:"fire-analytics",[G2]:"fire-analytics-compat",[Q2]:"fire-app-check",[K2]:"fire-app-check-compat",[Y2]:"fire-auth",[Z2]:"fire-auth-compat",[J2]:"fire-rtdb",[X2]:"fire-data-connect",[ej]:"fire-rtdb-compat",[tj]:"fire-fn",[nj]:"fire-fn-compat",[rj]:"fire-iid",[ij]:"fire-iid-compat",[oj]:"fire-fcm",[sj]:"fire-fcm-compat",[aj]:"fire-perf",[cj]:"fire-perf-compat",[uj]:"fire-rc",[lj]:"fire-rc-compat",[dj]:"fire-gcs",[hj]:"fire-gcs-compat",[fj]:"fire-fst",[gj]:"fire-fst-compat",[pj]:"fire-vertex","fire-js":"fire-js",[mj]:"fire-js-all"};var Uc=new Map,_j=new Map,ny=new Map;function pS(n,e){try{n.container.addComponent(e)}catch(t){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bn(n){let e=n.name;if(ny.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,n);for(let t of Uc.values())pS(t,n);for(let t of _j.values())pS(t,n);return!0}function Ps(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jt(n){return n==null?!1:n.settings!==void 0}var wj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new In("app","Firebase",wj);var ry=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}};var Jr=vj;function $c(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ty,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(t||(t=zv()),!t)throw Zr.create("no-options");let o=Uc.get(i);if(o){if(Bn(t,o.options)&&Bn(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}let s=new yh(i);for(let u of ny.values())s.addComponent(u);let a=new ry(t,r,s);return Uc.set(i,a),a}function to(n=ty){let e=Uc.get(n);if(!e&&n===ty&&zv())return $c();if(!e)throw Zr.create("no-app",{appName:n});return e}function wh(){return Array.from(Uc.values())}function Oe(n,e,t){var r;let i=(r=yj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(a.join(" "));return}bn(new At(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ej="firebase-heartbeat-database",Ij=1,Bc="firebase-heartbeat-store",Jv=null;function yS(){return Jv||(Jv=hS(Ej,Ij,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zr.create("idb-open",{originalErrorMessage:n.message})})),Jv}function bj(n){return y(this,null,function*(){try{let t=(yield yS()).transaction(Bc),r=yield t.objectStore(Bc).get(_S(n));return yield t.done,r}catch(e){if(e instanceof Zt)gr.warn(e.message);else{let t=Zr.create("idb-get",{originalErrorMessage:e?.message});gr.warn(t.message)}}})}function gS(n,e){return y(this,null,function*(){try{let r=(yield yS()).transaction(Bc,"readwrite");yield r.objectStore(Bc).put(e,_S(n)),yield r.done}catch(t){if(t instanceof Zt)gr.warn(t.message);else{let r=Zr.create("idb-set",{originalErrorMessage:t?.message});gr.warn(r.message)}}})}function _S(n){return`${n.name}!${n.options.appId}`}var Tj=1024,Dj=30,iy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new oy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Dj){let s=Sj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gr.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=mS(),{heartbeatsToSend:r,unsentEntries:i}=Cj(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return gr.warn(t),""}})}};function mS(){return new Date().toISOString().substring(0,10)}function Cj(n,e=Tj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var oy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Vc()?rS().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield bj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vS(n){return Lc(JSON.stringify({version:2,heartbeats:n})).length}function Sj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Aj(n){bn(new At("platform-logger",e=>new Xv(e),"PRIVATE")),bn(new At("heartbeat",e=>new iy(e),"PRIVATE")),Oe(ey,fS,n),Oe(ey,fS,"esm2017"),Oe("fire-js","")}Aj("");var Rj="firebase",Mj="11.10.0";Oe(Rj,Mj,"app");function sy(n){n===void 0&&(am(sy),n=x(He));let e=n.get(dd);return t=>new ce(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Xr=new Fi("ANGULARFIRE2_VERSION");function Hc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Os=(n,e)=>{let t=e?[e]:wh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ks=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ks||{}),wS=qm()&&typeof Zone<"u"?ks.WARN:ks.SILENT;var Eh=class{zone;delegate;constructor(e,t=Kp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ei=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(_e);this.outsideAngular=t.runOutsideAngular(()=>new Eh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Eh(typeof Zone>"u"?void 0:Zone.current,Wp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ES=!1;function Nj(n,e){!ES&&(wS>ks.SILENT||qm())&&(ES=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),wS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function xj(n){let e=x(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function no(n){let e=x(_e,{optional:!0});return e?e.run(()=>n()):n()}var Pj=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),it(t,()=>no(()=>n.apply(void 0,r)))),Ut=(n,e,t)=>(t||=e?ks.WARN:ks.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(ei),s=x(dd),a=x(rt)}catch{return Nj(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=no(()=>s.add())),i[l]=Pj(i[l],r,a));let u=xj(()=>n.apply(this,i));return e?u instanceof ce?u.pipe(kr(o.outsideAngular),Pr(o.insideAngular),sy(a)):u instanceof Promise?no(()=>new Promise((l,f)=>{s.run(()=>u).then(g=>it(a,()=>no(()=>l(g))),g=>it(a,()=>no(()=>f(g))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:no(()=>u):u instanceof ce?u.pipe(kr(o.outsideAngular),Pr(o.insideAngular)):no(()=>u)});var mr=class{constructor(e){return e}},ro=class{constructor(){return wh()}};function kj(n){return n&&n.length===1?n[0]:new mr(to())}var ay=new j("angularfire2._apps"),Oj={provide:mr,useFactory:kj,deps:[[new qt,ay]]},Fj={provide:ro,deps:[[new qt,ay]]};function Lj(n){return(e,t)=>{let r=t.get(jr);Oe("angularfire",Xr.full,"core"),Oe("angularfire",Xr.full,"app"),Oe("angular",cD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new mr(i)}}function IS(n,...e){return an([Oj,Fj,{provide:ay,useFactory:Lj(n),multi:!0,deps:[_e,He,ei,...e]}])}var bS=Ut($c,!0);var Vj=new Map,jj={activated:!1,tokenObservers:[]},Uj={initialized:!1,enabled:!1};function Tn(n){return Vj.get(n)||Object.assign({},jj)}function SS(){return Uj}var Bj="https://content-firebaseappcheck.googleapis.com/v1";var $j="exchangeDebugToken",TS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},qY=24*60*60*1e3;var ly=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return y(this,null,function*(){this.stop();try{this.pending=new Xi,this.pending.promise.catch(t=>{}),yield Hj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Xi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Hj(n){return new Promise(e=>{setTimeout(e,n)})}var zj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ti=new In("appCheck","AppCheck",zj);function AS(n){if(!Tn(n).activated)throw ti.create("use-before-activation",{appName:n.name})}function RS(r,i){return y(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(v){throw ti.create("fetch-network-error",{originalErrorMessage:v?.message})}if(u.status!==200)throw ti.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(v){throw ti.create("fetch-parse-error",{originalErrorMessage:v?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let g=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+g,issuedAtTimeMillis:m}})}function MS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Bj}/projects/${t}/apps/${r}:${$j}?key=${i}`,body:{debug_token:e}}}var qj="firebase-app-check-database",Gj=1,dy="firebase-app-check-store";var Ih=null;function Wj(){return Ih||(Ih=new Promise((n,e)=>{try{let t=indexedDB.open(qj,Gj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(dy,{keyPath:"compositeKey"})}}}catch(t){e(ti.create("storage-open",{originalErrorMessage:t?.message}))}}),Ih)}function Kj(n,e){return Qj(Yj(n),e)}function Qj(n,e){return y(this,null,function*(){let r=(yield Wj()).transaction(dy,"readwrite"),o=r.objectStore(dy).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ti.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Yj(n){return`${n.options.appId}-${n.name}`}var zc=new $n("@firebase/app-check");function cy(n,e){return Vc()?Kj(n,e).catch(t=>{zc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function NS(){return SS().enabled}function xS(){return y(this,null,function*(){let n=SS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Zj={error:"UNKNOWN_ERROR"};function Jj(n){return fh.encodeString(JSON.stringify(n),!1)}function hy(n,e=!1,t=!1){return y(this,null,function*(){let r=n.app;AS(r);let i=Tn(r),o=i.token,s;if(o&&!qc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(qc(l)?o=l:yield cy(r,void 0))}if(!e&&o&&qc(o))return{token:o.token};let a=!1;if(NS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=RS(MS(r,yield xS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield cy(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zc.warn(l.message):t&&zc.error(l),uy(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Tn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zc.warn(l.message):t&&zc.error(l),s=l}let u;return o?s?qc(o)?u={token:o.token,internalError:s}:u=uy(s):(u={token:o.token},i.token=o,yield cy(r,o)):u=uy(s),a&&nU(r,u),u})}function Xj(n){return y(this,null,function*(){let e=n.app;AS(e);let{provider:t}=Tn(e);if(NS()){let r=yield xS(),{token:i}=yield RS(MS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function eU(n,e,t,r){let{app:i}=n,o=Tn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),DS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>DS(n))}function PS(n,e){let t=Tn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function DS(n){let{app:e}=n,t=Tn(e),r=t.tokenRefresher;r||(r=tU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function tU(n){let{app:e}=n;return new ly(()=>y(null,null,function*(){let t=Tn(e),r;if(t.token?r=yield hy(n,!0):r=yield hy(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Tn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},TS.RETRIAL_MIN_WAIT,TS.RETRIAL_MAX_WAIT)}function nU(n,e){let t=Tn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qc(n){return n.expireTimeMillis-Date.now()>0}function uy(n){return{token:Jj(Zj),error:n}}var fy=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Tn(this.app);for(let t of e)PS(this.app,t.next);return Promise.resolve()}};function rU(n,e){return new fy(n,e)}function iU(n){return{getToken:e=>hy(n,e),getLimitedUseToken:()=>Xj(n),addTokenListener:e=>eU(n,"INTERNAL",e),removeTokenListener:e=>PS(n.app,e)}}var oU="@firebase/app-check",sU="0.10.1";var aU="app-check",CS="app-check-internal";function cU(){bn(new At(aU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return rU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CS).initialize()})),bn(new At(CS,n=>{let e=n.getProvider("app-check").getImmediate();return iU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oe(oU,sU)}cU();var uU="app-check";var Fs=class{constructor(){return Os(uU)}};var lU=["localhost","0.0.0.0","127.0.0.1"],iZ=typeof window<"u"&&lU.includes(window.location.hostname);function QS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var YS=QS,ZS=new In("auth","Firebase",QS());var Ah=new $n("@firebase/auth");function dU(n,...e){Ah.logLevel<=le.WARN&&Ah.warn(`Auth (${Jr}): ${n}`,...e)}function Th(n,...e){Ah.logLevel<=le.ERROR&&Ah.error(`Auth (${Jr}): ${n}`,...e)}function qn(n,...e){throw Vy(n,...e)}function io(n,...e){return Vy(n,...e)}function JS(n,e,t){let r=Object.assign(Object.assign({},YS()),{[e]:t});return new In("auth","Firebase",r).create(e,{appName:n.name})}function _r(n){return JS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZS.create(n,...e)}function Z(n,e,...t){if(!n)throw Vy(e,...t)}function vr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Th(e),new Error(e)}function ii(n,e){n||vr(e)}function vy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hU(){return kS()==="http:"||kS()==="https:"}function kS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function fU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hU()||XC()||"connection"in navigator)?navigator.onLine:!0}function pU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var oo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=ZC()||eS()}get(){return fU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function jy(n,e){ii(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vU=new oo(3e4,6e4);function oi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wr(o,s,a,u){return y(this,arguments,function*(n,e,t,r,i={}){return XS(n,i,()=>y(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=jc(Object.assign({key:n.config.apiKey},f)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:m},l);return JC()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Yr(n.emulatorConfig.host)&&(v.credentials="include"),Rh.fetch()(yield eA(n,n.config.apiHost,t,g),v)}))})}function XS(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},gU),e);try{let i=new yy(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw bh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw bh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw bh(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JS(n,f,l);qn(n,f)}}catch(i){if(i instanceof Zt)throw i;qn(n,"network-request-failed",{message:String(i)})}})}function Xc(o,s,a,u){return y(this,arguments,function*(n,e,t,r,i={}){let l=yield wr(n,e,t,r,i);return"mfaPendingCredential"in l&&qn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function eA(n,e,t,r){return y(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?jy(n.config,i):`${n.config.apiScheme}://${i}`;return mU.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function yU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var yy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(io(this.auth,"network-request-failed")),vU.get())})}};function bh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=io(n,e,r);return i.customData._tokenResponse=t,i}function OS(n){return n!==void 0&&n.enterprise!==void 0}var _y=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function _U(n,e){return y(this,null,function*(){return wr(n,"GET","/v2/recaptchaConfig",oi(n,e))})}function wU(n,e){return y(this,null,function*(){return wr(n,"POST","/v1/accounts:delete",e)})}function Mh(n,e){return y(this,null,function*(){return wr(n,"POST","/v1/accounts:lookup",e)})}function Wc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uy(n,e=!1){return y(this,null,function*(){let t=ft(n),r=yield t.getIdToken(e),i=By(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Wc(py(i.auth_time)),issuedAtTime:Wc(py(i.iat)),expirationTime:Wc(py(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function py(n){return Number(n)*1e3}function By(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{let i=ph(t);return i?JSON.parse(i):(Th("Failed to decode base64 JWT payload"),null)}catch(i){return Th("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FS(n){let e=By(n);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ls(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Zt&&EU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function EU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var wy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nh(n){return y(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ls(n,Mh(t,{idToken:r}));Z(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tA(o.providerUserInfo):[],a=IU(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,f=u?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function $y(n){return y(this,null,function*(){let e=ft(n);yield Nh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function IU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tA(n){return n.map(e=>{var{providerId:t}=e,r=Qp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bU(n,e){return y(this,null,function*(){let t=yield XS(n,{},()=>y(null,null,function*(){let r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield eA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Yr(n.emulatorConfig.host)&&(u.credentials="include"),Rh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function TU(n,e){return y(this,null,function*(){return wr(n,"POST","/v2/accounts:revokeToken",oi(n,e))})}var Kc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let t=FS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield bU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return vr("not implemented")}};function ni(n,e){Z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ri=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield Ls(this,this.stsTokenManager.getToken(this.auth,e));return Z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Uy(this,e)}reload(){return $y(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Nh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(jt(this.auth.app))return Promise.reject(_r(this.auth));let e=yield this.getIdToken();return yield Ls(this,wU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,G=(l=t.createdAt)!==null&&l!==void 0?l:void 0,se=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Q,emailVerified:Re,isAnonymous:tn,providerData:je,stsTokenManager:T}=t;Z(Q&&T,e,"internal-error");let _=Kc.fromJSON(this.name,T);Z(typeof Q=="string",e,"internal-error"),ni(g,e.name),ni(m,e.name),Z(typeof Re=="boolean",e,"internal-error"),Z(typeof tn=="boolean",e,"internal-error"),ni(v,e.name),ni(C,e.name),ni(N,e.name),ni(P,e.name),ni(G,e.name),ni(se,e.name);let E=new n({uid:Q,auth:e,email:m,emailVerified:Re,displayName:g,isAnonymous:tn,photoURL:C,phoneNumber:v,tenantId:N,stsTokenManager:_,createdAt:G,lastLoginAt:se});return je&&Array.isArray(je)&&(E.providerData=je.map(I=>Object.assign({},I))),P&&(E._redirectEventId=P),E}static _fromIdTokenResponse(e,t,r=!1){return y(this,null,function*(){let i=new Kc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return y(this,null,function*(){let i=t.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Kc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var LS=new Map;function yr(n){ii(n instanceof Function,"Expected a class definition");let e=LS.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LS.set(n,e),e)}var DU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(t,r){return y(this,null,function*(){this.storage[t]=r})}_get(t){return y(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return y(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ey=DU;function Dh(n,e,t){return`firebase:${n}:${e}:${t}`}var xh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Dh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Mh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(this,null,function*(){if(!t.length)return new n(yr(Ey),e,r);let i=(yield Promise.all(t.map(l=>y(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||yr(Ey),s=Dh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let f=yield l._get(s);if(f){let g;if(typeof f=="string"){let m=yield Mh(e,{idToken:f}).catch(()=>{});if(!m)break;g=yield ri._fromGetAccountInfoResponse(e,m,f)}else g=ri._fromJSON(e,f);l!==o&&(a=g),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>y(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function VS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aA(e))return"Blackberry";if(cA(e))return"Webos";if(rA(e))return"Safari";if((e.includes("chrome/")||iA(e))&&!e.includes("edge/"))return"Chrome";if(sA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function nA(n=at()){return/firefox\//i.test(n)}function rA(n=at()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iA(n=at()){return/crios\//i.test(n)}function oA(n=at()){return/iemobile/i.test(n)}function sA(n=at()){return/android/i.test(n)}function aA(n=at()){return/blackberry/i.test(n)}function cA(n=at()){return/webos/i.test(n)}function Hy(n=at()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CU(n=at()){var e;return Hy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SU(){return tS()&&document.documentMode===10}function uA(n=at()){return Hy(n)||sA(n)||cA(n)||aA(n)||/windows phone/i.test(n)||oA(n)}function lA(n,e=[]){let t;switch(n){case"Browser":t=VS(at());break;case"Worker":t=`${VS(at())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jr}/${r}`}var Iy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function AU(t){return y(this,arguments,function*(n,e={}){return wr(n,"GET","/v2/passwordPolicy",oi(n,e))})}var RU=6,by=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:RU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ty=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ph(this),this.idTokenSubscription=new Ph(this),this.beforeStateQueue=new Iy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield xh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield Mh(this,{idToken:e}),r=yield ri._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var t;if(jt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield Nh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pU()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(jt(this.app))return Promise.reject(_r(this));let t=e?ft(e):null;return t&&Z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return jt(this.app)?Promise.reject(_r(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jt(this.app)?Promise.reject(_r(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(yr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield AU(this),t=new by(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield TU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&yr(e)||this._popupRedirectResolver;Z(t,this,"argument-error"),this.redirectPersistenceManager=yield xh.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return y(this,null,function*(){var e;if(jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&dU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ao(n){return ft(n)}var Ph=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oS(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Uh={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MU(n){Uh=n}function dA(n){return Uh.loadJS(n)}function NU(){return Uh.recaptchaEnterpriseScript}function xU(){return Uh.gapiScript}function hA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Dy=class{constructor(){this.enterprise=new Cy}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Cy=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var PU="recaptcha-enterprise",fA="NO_RECAPTCHA",Sy=class{constructor(e){this.type=PU,this.auth=ao(e)}verify(e="verify",t=!1){return y(this,null,function*(){function r(o){return y(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>y(null,null,function*(){_U(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new _y(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;OS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(fA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Dy().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&OS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=NU();u.length!==0&&(u+=a),dA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Gc(n,e,t,r=!1,i=!1){return y(this,null,function*(){let o=new Sy(n),s;if(i)s=fA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Ay(n,e,t,r,i){return y(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Gc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>y(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Gc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Gc(n,e,t);return r(n,a).catch(u=>y(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let f=yield Gc(n,e,t,!1,!0);return r(n,f)}return Promise.reject(u)}))}else{let a=yield Gc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function zy(n,e){let t=Ps(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Bn(o,e??{}))return i;qn(i,"already-initialized")}return t.initialize({options:e})}function kU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(yr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function qy(n,e,t){let r=ao(n);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=pA(e),{host:s,port:a}=OU(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Bn(l,r.config.emulator)&&Bn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Yr(s)?(mh(`${o}//${s}${u}`),vh("Auth",!0)):i||FU()}function pA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OU(n){let e=pA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:jS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:jS(s)}}}function jS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function FU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Yc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,t){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}};function LU(n,e){return y(this,null,function*(){return wr(n,"POST","/v1/accounts:signUp",e)})}function VU(n,e){return y(this,null,function*(){return Xc(n,"POST","/v1/accounts:signInWithPassword",oi(n,e))})}function jU(n,e){return y(this,null,function*(){return Xc(n,"POST","/v1/accounts:signInWithEmailLink",oi(n,e))})}function UU(n,e){return y(this,null,function*(){return Xc(n,"POST","/v1/accounts:signInWithEmailLink",oi(n,e))})}var Zc=class n extends Yc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,t,"signInWithPassword",VU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jU(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_linkToIdToken(e,t){return y(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,r,"signUpPassword",LU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return UU(e,{idToken:t,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function gy(n,e){return y(this,null,function*(){return Xc(n,"POST","/v1/accounts:signInWithIdp",oi(n,e))})}function BU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $U(n){let e=Ns(xs(n)).link,t=e?Ns(xs(e)).deep_link_id:null,r=Ns(xs(n)).deep_link_id;return(r?Ns(xs(r)).link:null)||r||t||e||n}var kh=class n{constructor(e){var t,r,i,o,s,a;let u=Ns(xs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=BU((i=u.mode)!==null&&i!==void 0?i:null);Z(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=$U(e);try{return new n(t)}catch{return null}}};var gA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Zc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=kh.parseLink(r);return Z(i,"argument-error"),Zc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Oh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ry=class extends Oh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function HU(n,e){return y(this,null,function*(){return Xc(n,"POST","/v1/accounts:signUp",oi(n,e))})}var Vs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(this,null,function*(){let o=yield ri._fromIdTokenResponse(e,r,i),s=US(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=US(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function US(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var My=class n extends Zt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function mA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?My._fromErrorAndOperation(n,o,e,r):o})}function zU(n,e,t=!1){return y(this,null,function*(){let r=yield Ls(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Vs._forOperation(n,"link",r)})}function qU(n,e,t=!1){return y(this,null,function*(){let{auth:r}=n;if(jt(r.app))return Promise.reject(_r(r));let i="reauthenticate";try{let o=yield Ls(n,mA(r,i,e,n),t);Z(o.idToken,r,"internal-error");let s=By(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(n.uid===a,r,"user-mismatch"),Vs._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qn(r,"user-mismatch"),o}})}function vA(n,e,t=!1){return y(this,null,function*(){if(jt(n.app))return Promise.reject(_r(n));let r="signIn",i=yield mA(n,r,e),o=yield Vs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Gy(n,e){return y(this,null,function*(){return vA(ao(n),e)})}function yA(n){return y(this,null,function*(){let e=ao(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wy(n,e,t){return y(this,null,function*(){if(jt(n.app))return Promise.reject(_r(n));let r=ao(n),s=yield Ay(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HU,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&yA(n),u}),a=yield Vs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Ky(n,e,t){return jt(n.app)?Promise.reject(_r(n)):Gy(ft(n),gA.credential(e,t)).catch(r=>y(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&yA(n),r}))}function GU(n,e){return y(this,null,function*(){return wr(n,"POST","/v1/accounts:update",e)})}function Qy(r,i){return y(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=ft(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield Ls(o,GU(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:f})=>f==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Yy(n,e,t,r){return ft(n).onIdTokenChanged(e,t,r)}function Zy(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}function Jy(n,e,t,r){return ft(n).onAuthStateChanged(e,t,r)}function Xy(n){return ft(n).signOut()}var Fh="__sak";var Lh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var WU=1e3,KU=10,QU=(()=>{class n extends Lh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);SU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,KU):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},WU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return y(this,null,function*(){yield Mr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return y(this,null,function*(){let r=yield Mr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return y(this,null,function*(){yield Mr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),_A=QU;var YU=(()=>{class n extends Lh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),e_=YU;function ZU(n){return Promise.all(n.map(e=>y(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var JU=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return y(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(f=>y(this,null,function*(){return f(r.origin,s)})),l=yield ZU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function wA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Ny=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=wA("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let m=g;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function zn(){return window}function XU(n){zn().location.href=n}function EA(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}function eB(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nB(){return EA()?self:null}var IA="firebaseLocalStorageDb",rB=1,Vh="firebaseLocalStorage",bA="fbase_key",so=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Bh(n,e){return n.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function iB(){let n=indexedDB.deleteDatabase(IA);return new so(n).toPromise()}function xy(){let n=indexedDB.open(IA,rB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Vh,{keyPath:bA})}catch(i){t(i)}}),n.addEventListener("success",()=>y(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),yield iB(),e(yield xy()))}))})}function BS(n,e,t){return y(this,null,function*(){let r=Bh(n,!0).put({[bA]:e,value:t});return new so(r).toPromise()})}function oB(n,e){return y(this,null,function*(){let t=Bh(n,!1).get(e),r=yield new so(t).toPromise();return r===void 0?null:r.value})}function $S(n,e){let t=Bh(n,!0).delete(e);return new so(t).toPromise()}var sB=800,aB=3,cB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield xy(),this.db)})}_withRetries(t){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>aB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return EA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=JU._getInstance(nB()),this.receiver._subscribe("keyChanged",(t,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var t,r;if(this.activeServiceWorker=yield eB(),!this.activeServiceWorker)return;this.sender=new Ny(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let t=yield xy();return yield BS(t,Fh,"1"),yield $S(t,Fh),!0}catch{}return!1})}_withPendingWrite(t){return y(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>BS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return y(this,null,function*(){let r=yield this._withRetries(i=>oB(i,t));return this.localCache[t]=r,r})}_remove(t){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>$S(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return y(this,null,function*(){let t=yield this._withRetries(o=>{let s=Bh(o,!1).getAll();return new so(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),sB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),TA=cB;var hZ=hA("rcb"),fZ=new oo(3e4,6e4);function uB(n,e){return e?yr(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Jc=class extends Yc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function lB(n){return vA(n.auth,new Jc(n),n.bypassAuthState)}function dB(n){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),qU(t,new Jc(n),n.bypassAuthState)}function hB(n){return y(this,null,function*(){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),zU(t,new Jc(n),n.bypassAuthState)})}var Py=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lB;case"linkViaPopup":case"linkViaRedirect":return hB;case"reauthViaPopup":case"reauthViaRedirect":return dB;default:qn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var pZ=new oo(2e3,1e4);var fB="pendingRedirect",Ch=new Map,ky=class n extends Py{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=Ch.get(this.auth._key());if(!e){try{let r=(yield pB(this.resolver,this.auth))?yield Mr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return Mr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Mr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function pB(n,e){return y(this,null,function*(){let t=vB(e),r=mB(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function gB(n,e){Ch.set(n._key(),e)}function mB(n){return yr(n._redirectPersistence)}function vB(n){return Dh(fB,n.config.apiKey,n.name)}function yB(n,e,t=!1){return y(this,null,function*(){if(jt(n.app))return Promise.reject(_r(n));let r=ao(n),i=uB(r,e),s=yield new ky(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var _B=10*60*1e3,Oy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!DA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(io(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_B&&this.cachedEventUids.clear(),this.cachedEventUids.has(HS(e))}saveEventToCache(e){this.cachedEventUids.add(HS(e)),this.lastProcessedEventTime=Date.now()}};function HS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(n);default:return!1}}function EB(t){return y(this,arguments,function*(n,e={}){return wr(n,"GET","/v1/projects",e)})}var IB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bB=/^https?/;function TB(n){return y(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield EB(n);for(let t of e)try{if(DB(t))return}catch{}qn(n,"unauthorized-domain")})}function DB(n){let e=vy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!bB.test(t))return!1;if(IB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var CB=new oo(3e4,6e4);function zS(){let n=zn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SB(n){return new Promise((e,t)=>{var r,i,o;function s(){zS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zS(),t(io(n,"network-request-failed"))},timeout:CB.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)s();else{let a=hA("iframefcb");return zn()[a]=()=>{gapi.load?s():t(io(n,"network-request-failed"))},dA(`${xU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Sh=null,e})}var Sh=null;function AB(n){return Sh=Sh||SB(n),Sh}var RB=new oo(5e3,15e3),MB="__/auth/iframe",NB="emulator/auth/iframe",xB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kB(n){let e=n.config;Z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?jy(e,NB):`https://${n.config.authDomain}/${MB}`,r={apiKey:e.apiKey,appName:n.name,v:Jr},i=PB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${jc(r).slice(1)}`}function OB(n){return y(this,null,function*(){let e=yield AB(n),t=zn().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:kB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xB,dontclear:!0},r=>new Promise((i,o)=>y(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=io(n,"network-request-failed"),a=zn().setTimeout(()=>{o(s)},RB.get());function u(){zn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var FB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LB=500,VB=600,jB="_blank",UB="http://localhost",jh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function BB(n,e,t,r=LB,i=VB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},FB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=at().toLowerCase();t&&(a=iA(l)?jB:t),nA(l)&&(e=e||UB,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[v,C])=>`${m}${v}=${C},`,"");if(CU(l)&&a!=="_self")return $B(e||"",a),new jh(null);let g=window.open(e||"",a,f);Z(g,n,"popup-blocked");try{g.focus()}catch{}return new jh(g)}function $B(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var HB="__/auth/handler",zB="emulator/auth/handler",qB=encodeURIComponent("fac");function qS(n,e,t,r,i,o){return y(this,null,function*(){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jr,eventId:i};if(e instanceof Oh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",iS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(o||{}))s[f]=g}if(e instanceof Ry){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield n._getAppCheckToken(),l=u?`#${qB}=${encodeURIComponent(u)}`:"";return`${GB(n)}?${jc(a).slice(1)}${l}`})}function GB({config:n}){return n.emulator?jy(n,zB):`https://${n.authDomain}/${HB}`}var my="webStorageSupport",Fy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e_,this._completeRedirectFn=yB,this._overrideRedirectResult=gB}_openPopup(e,t,r,i){return y(this,null,function*(){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield qS(e,t,r,vy(),i);return BB(e,s,wA())})}_openRedirect(e,t,r,i){return y(this,null,function*(){yield this._originValidation(e);let o=yield qS(e,t,r,vy(),i);return XU(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return y(this,null,function*(){let t=yield OB(e),r=new Oy(e);return t.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(my,{type:my},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[my];s!==void 0&&t(!!s),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uA()||rA()||Hy()}},CA=Fy;var GS="@firebase/auth",WS="1.10.8";var Ly=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KB(n){bn(new At("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lA(n)},l=new Ty(r,i,o,u);return kU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),bn(new At("auth-internal",e=>{let t=ao(e.getProvider("auth").getImmediate());return(r=>new Ly(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(GS,WS,WB(n)),Oe(GS,WS,"esm2017")}var QB=5*60,YB=qv("authIdTokenMaxAge")||QB,KS=null,ZB=n=>e=>y(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YB)return;let i=t?.token;KS!==i&&(KS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function t_(n=to()){let e=Ps(n,"auth");if(e.isInitialized())return e.getImmediate();let t=zy(n,{popupRedirectResolver:CA,persistence:[TA,_A,e_]}),r=qv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=ZB(o.toString());Zy(t,s,()=>s(t.currentUser)),Yy(t,a=>s(a))}}let i=Hv("auth");return i&&qy(t,`http://${i}`),t}function JB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}MU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=io("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",JB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KB("Browser");var SA="auth",Dn=class{constructor(e){return e}},eu=class{constructor(){return Os(SA)}};var n_=new j("angularfire2.auth-instances");function j$(n,e){let t=Hc(SA,n,e);return t&&new Dn(t)}function U$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Dn(r)}}var B$={provide:eu,deps:[[new qt,n_]]},$$={provide:Dn,useFactory:j$,deps:[[new qt,n_],mr]};function AA(n,...e){return Oe("angularfire",Xr.full,"auth"),an([$$,B$,{provide:n_,useFactory:U$(n),multi:!0,deps:[_e,He,ei,ro,[new qt,Fs],...e]}])}var RA=Ut(Wy,!0,2);var MA=Ut(t_,!0);var NA=Ut(Jy,!0);var xA=Ut(Ky,!0,2);var PA=Ut(Xy,!0,2);var kA=Ut(Qy,!0,2);var OA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FA={};var $h,LA;(function(){var n;function e(T,_){function E(){}E.prototype=_.prototype,T.D=_.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(I,b,S){for(var w=Array(arguments.length-2),Jn=2;Jn<arguments.length;Jn++)w[Jn-2]=arguments[Jn];return _.prototype[b].apply(I,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,E){E||(E=0);var I=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)I[b]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(b=0;16>b;++b)I[b]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=T.g[0],E=T.g[1],b=T.g[2];var S=T.g[3],w=_+(S^E&(b^S))+I[0]+3614090360&4294967295;_=E+(w<<7&4294967295|w>>>25),w=S+(b^_&(E^b))+I[1]+3905402710&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(E^S&(_^E))+I[2]+606105819&4294967295,b=S+(w<<17&4294967295|w>>>15),w=E+(_^b&(S^_))+I[3]+3250441966&4294967295,E=b+(w<<22&4294967295|w>>>10),w=_+(S^E&(b^S))+I[4]+4118548399&4294967295,_=E+(w<<7&4294967295|w>>>25),w=S+(b^_&(E^b))+I[5]+1200080426&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(E^S&(_^E))+I[6]+2821735955&4294967295,b=S+(w<<17&4294967295|w>>>15),w=E+(_^b&(S^_))+I[7]+4249261313&4294967295,E=b+(w<<22&4294967295|w>>>10),w=_+(S^E&(b^S))+I[8]+1770035416&4294967295,_=E+(w<<7&4294967295|w>>>25),w=S+(b^_&(E^b))+I[9]+2336552879&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(E^S&(_^E))+I[10]+4294925233&4294967295,b=S+(w<<17&4294967295|w>>>15),w=E+(_^b&(S^_))+I[11]+2304563134&4294967295,E=b+(w<<22&4294967295|w>>>10),w=_+(S^E&(b^S))+I[12]+1804603682&4294967295,_=E+(w<<7&4294967295|w>>>25),w=S+(b^_&(E^b))+I[13]+4254626195&4294967295,S=_+(w<<12&4294967295|w>>>20),w=b+(E^S&(_^E))+I[14]+2792965006&4294967295,b=S+(w<<17&4294967295|w>>>15),w=E+(_^b&(S^_))+I[15]+1236535329&4294967295,E=b+(w<<22&4294967295|w>>>10),w=_+(b^S&(E^b))+I[1]+4129170786&4294967295,_=E+(w<<5&4294967295|w>>>27),w=S+(E^b&(_^E))+I[6]+3225465664&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^E&(S^_))+I[11]+643717713&4294967295,b=S+(w<<14&4294967295|w>>>18),w=E+(S^_&(b^S))+I[0]+3921069994&4294967295,E=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(E^b))+I[5]+3593408605&4294967295,_=E+(w<<5&4294967295|w>>>27),w=S+(E^b&(_^E))+I[10]+38016083&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^E&(S^_))+I[15]+3634488961&4294967295,b=S+(w<<14&4294967295|w>>>18),w=E+(S^_&(b^S))+I[4]+3889429448&4294967295,E=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(E^b))+I[9]+568446438&4294967295,_=E+(w<<5&4294967295|w>>>27),w=S+(E^b&(_^E))+I[14]+3275163606&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^E&(S^_))+I[3]+4107603335&4294967295,b=S+(w<<14&4294967295|w>>>18),w=E+(S^_&(b^S))+I[8]+1163531501&4294967295,E=b+(w<<20&4294967295|w>>>12),w=_+(b^S&(E^b))+I[13]+2850285829&4294967295,_=E+(w<<5&4294967295|w>>>27),w=S+(E^b&(_^E))+I[2]+4243563512&4294967295,S=_+(w<<9&4294967295|w>>>23),w=b+(_^E&(S^_))+I[7]+1735328473&4294967295,b=S+(w<<14&4294967295|w>>>18),w=E+(S^_&(b^S))+I[12]+2368359562&4294967295,E=b+(w<<20&4294967295|w>>>12),w=_+(E^b^S)+I[5]+4294588738&4294967295,_=E+(w<<4&4294967295|w>>>28),w=S+(_^E^b)+I[8]+2272392833&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^E)+I[11]+1839030562&4294967295,b=S+(w<<16&4294967295|w>>>16),w=E+(b^S^_)+I[14]+4259657740&4294967295,E=b+(w<<23&4294967295|w>>>9),w=_+(E^b^S)+I[1]+2763975236&4294967295,_=E+(w<<4&4294967295|w>>>28),w=S+(_^E^b)+I[4]+1272893353&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^E)+I[7]+4139469664&4294967295,b=S+(w<<16&4294967295|w>>>16),w=E+(b^S^_)+I[10]+3200236656&4294967295,E=b+(w<<23&4294967295|w>>>9),w=_+(E^b^S)+I[13]+681279174&4294967295,_=E+(w<<4&4294967295|w>>>28),w=S+(_^E^b)+I[0]+3936430074&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^E)+I[3]+3572445317&4294967295,b=S+(w<<16&4294967295|w>>>16),w=E+(b^S^_)+I[6]+76029189&4294967295,E=b+(w<<23&4294967295|w>>>9),w=_+(E^b^S)+I[9]+3654602809&4294967295,_=E+(w<<4&4294967295|w>>>28),w=S+(_^E^b)+I[12]+3873151461&4294967295,S=_+(w<<11&4294967295|w>>>21),w=b+(S^_^E)+I[15]+530742520&4294967295,b=S+(w<<16&4294967295|w>>>16),w=E+(b^S^_)+I[2]+3299628645&4294967295,E=b+(w<<23&4294967295|w>>>9),w=_+(b^(E|~S))+I[0]+4096336452&4294967295,_=E+(w<<6&4294967295|w>>>26),w=S+(E^(_|~b))+I[7]+1126891415&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~E))+I[14]+2878612391&4294967295,b=S+(w<<15&4294967295|w>>>17),w=E+(S^(b|~_))+I[5]+4237533241&4294967295,E=b+(w<<21&4294967295|w>>>11),w=_+(b^(E|~S))+I[12]+1700485571&4294967295,_=E+(w<<6&4294967295|w>>>26),w=S+(E^(_|~b))+I[3]+2399980690&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~E))+I[10]+4293915773&4294967295,b=S+(w<<15&4294967295|w>>>17),w=E+(S^(b|~_))+I[1]+2240044497&4294967295,E=b+(w<<21&4294967295|w>>>11),w=_+(b^(E|~S))+I[8]+1873313359&4294967295,_=E+(w<<6&4294967295|w>>>26),w=S+(E^(_|~b))+I[15]+4264355552&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~E))+I[6]+2734768916&4294967295,b=S+(w<<15&4294967295|w>>>17),w=E+(S^(b|~_))+I[13]+1309151649&4294967295,E=b+(w<<21&4294967295|w>>>11),w=_+(b^(E|~S))+I[4]+4149444226&4294967295,_=E+(w<<6&4294967295|w>>>26),w=S+(E^(_|~b))+I[11]+3174756917&4294967295,S=_+(w<<10&4294967295|w>>>22),w=b+(_^(S|~E))+I[2]+718787259&4294967295,b=S+(w<<15&4294967295|w>>>17),w=E+(S^(b|~_))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var E=_-this.blockSize,I=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=E;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(I[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,I),b=0;break}}else for(;S<_;)if(I[b++]=T[S++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var E=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=E&255,E/=256;for(this.u(T),T=Array(16),_=E=0;4>_;++_)for(var I=0;32>I;I+=8)T[E++]=this.g[_]>>>I&255;return T};function o(T,_){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=_(T)}function s(T,_){this.h=_;for(var E=[],I=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;I&&S==_||(E[b]=S,I=!1)}this.g=E}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return P(l(-T));for(var _=[],E=1,I=0;T>=E;I++)_[I]=T/E|0,E*=4294967296;return new s(_,0)}function f(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return P(f(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(_,8)),I=g,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),w=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),I=I.j(S).add(l(w))):(I=I.j(E),I=I.add(l(w)))}return I}var g=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-P(this).m();for(var T=0,_=1,E=0;E<this.g.length;E++){var I=this.i(E);T+=(0<=I?I:4294967296+I)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+P(this).toString(T);for(var _=l(Math.pow(T,6)),E=this,I="";;){var b=Re(E,_).g;E=G(E,b.j(_));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=b,C(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function N(T){return T.h==-1}n.l=function(T){return T=G(this,T),N(T)?-1:C(T)?0:1};function P(T){for(var _=T.g.length,E=[],I=0;I<_;I++)E[I]=~T.g[I];return new s(E,~T.h).add(m)}n.abs=function(){return N(this)?P(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],I=0,b=0;b<=_;b++){var S=I+(this.i(b)&65535)+(T.i(b)&65535),w=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);I=w>>>16,S&=65535,w&=65535,E[b]=w<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function G(T,_){return T.add(P(_))}n.j=function(T){if(C(this)||C(T))return g;if(N(this))return N(T)?P(this).j(P(T)):P(P(this).j(T));if(N(T))return P(this.j(P(T)));if(0>this.l(v)&&0>T.l(v))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,E=[],I=0;I<2*_;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<T.g.length;b++){var S=this.i(I)>>>16,w=this.i(I)&65535,Jn=T.i(b)>>>16,ga=T.i(b)&65535;E[2*I+2*b]+=w*ga,se(E,2*I+2*b),E[2*I+2*b+1]+=S*ga,se(E,2*I+2*b+1),E[2*I+2*b+1]+=w*Jn,se(E,2*I+2*b+1),E[2*I+2*b+2]+=S*Jn,se(E,2*I+2*b+2)}for(I=0;I<_;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=_;I<2*_;I++)E[I]=0;return new s(E,0)};function se(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function Q(T,_){this.g=T,this.h=_}function Re(T,_){if(C(_))throw Error("division by zero");if(C(T))return new Q(g,g);if(N(T))return _=Re(P(T),_),new Q(P(_.g),P(_.h));if(N(_))return _=Re(T,P(_)),new Q(P(_.g),_.h);if(30<T.g.length){if(N(T)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=_;0>=I.l(T);)E=tn(E),I=tn(I);var b=je(E,1),S=je(I,1);for(I=je(I,2),E=je(E,2);!C(I);){var w=S.add(I);0>=w.l(T)&&(b=b.add(E),S=w),I=je(I,1),E=je(E,1)}return _=G(T,b.j(_)),new Q(b,_)}for(b=g;0<=T.l(_);){for(E=Math.max(1,Math.floor(T.m()/_.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(E),w=S.j(_);N(w)||0<w.l(T);)E-=I,S=l(E),w=S.j(_);C(S)&&(S=m),b=b.add(S),T=G(T,w)}return new Q(b,T)}n.A=function(T){return Re(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],I=0;I<_;I++)E[I]=this.i(I)&T.i(I);return new s(E,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],I=0;I<_;I++)E[I]=this.i(I)|T.i(I);return new s(E,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],I=0;I<_;I++)E[I]=this.i(I)^T.i(I);return new s(E,this.h^T.h)};function tn(T){for(var _=T.g.length+1,E=[],I=0;I<_;I++)E[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(E,T.h)}function je(T,_){var E=_>>5;_%=32;for(var I=T.g.length-E,b=[],S=0;S<I;S++)b[S]=0<_?T.i(S+E)>>>_|T.i(S+E+1)<<32-_:T.i(S+E);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LA=FA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,$h=FA.Integer=s}).apply(typeof OA<"u"?OA:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Er={};var i_,H$,js,o_,tu,zh,s_,a_,c_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var p=0;p<c.length-1;p++){var D=c[p];if(!(D in h))break e;h=h[D]}c=c[c.length-1],p=h[c],d=d(p),d!=p&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var h=0,p=!1,D={next:function(){if(!p&&h<c.length){var A=h++;return{value:d(A,c[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,h){return h})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function g(c,d,h){if(!c)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,m.apply(null,arguments)}function v(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),c.apply(this,p)}}function C(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(p,D,A){for(var L=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)L[Ce-2]=arguments[Ce];return d.prototype[D].apply(p,L)}}function N(c){let d=c.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=c[p];return h}return[]}function P(c,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let D=c.length||0,A=p.length||0;c.length=D+A;for(let L=0;L<A;L++)c[D+L]=p[L]}else c.push(p)}}class G{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function se(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var tn=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function je(c,d,h){for(let p in c)d.call(h,c[p],p,c)}function T(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function _(c){let d={};for(let h in c)d[h]=c[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let h,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(h in p)c[h]=p[h];for(let A=0;A<E.length;A++)h=E[A],Object.prototype.hasOwnProperty.call(p,h)&&(c[h]=p[h])}}function b(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Kf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Jn{constructor(){this.h=this.g=null}add(d,h){let p=ga.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ga=new G(()=>new gN,c=>c.reset());class gN{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ma,va=!1,Kf=new Jn,pE=()=>{let c=a.Promise.resolve(void 0);ma=()=>{c.then(mN)}};var mN=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(h){S(h)}var d=ga;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}va=!1};function Cr(){this.s=this.s,this.C=this.C}Cr.prototype.s=!1,Cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var vN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function ya(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,p=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(tn){e:{try{Re(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:yN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ya.aa.h.call(this)}}C(ya,pt);var yN={2:"touch",3:"pen",4:"mouse"};ya.prototype.h=function(){ya.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _a="closure_listenable_"+(1e6*Math.random()|0),_N=0;function wN(c,d,h,p,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=D,this.key=++_N,this.da=this.fa=!1}function Au(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ru(c){this.src=c,this.g={},this.h=0}Ru.prototype.add=function(c,d,h,p,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=Yf(c,d,p,D);return-1<L?(d=c[L],h||(d.fa=!1)):(d=new wN(d,this.src,A,!!p,D),d.fa=h,c.push(d)),d};function Qf(c,d){var h=d.type;if(h in c.g){var p=c.g[h],D=Array.prototype.indexOf.call(p,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(p,D,1),A&&(Au(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Yf(c,d,h,p){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==p)return D}return-1}var Zf="closure_lm_"+(1e6*Math.random()|0),Jf={};function gE(c,d,h,p,D){if(p&&p.once)return vE(c,d,h,p,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)gE(c,d[A],h,p,D);return null}return h=np(h),c&&c[_a]?c.K(d,h,l(p)?!!p.capture:!!p,D):mE(c,d,h,!1,p,D)}function mE(c,d,h,p,D,A){if(!d)throw Error("Invalid event type");var L=l(D)?!!D.capture:!!D,Ce=ep(c);if(Ce||(c[Zf]=Ce=new Ru(c)),h=Ce.add(d,h,p,L,A),h.proxy)return h;if(p=EN(),h.proxy=p,p.src=c,p.listener=h,c.addEventListener)vN||(D=L),D===void 0&&(D=!1),c.addEventListener(d.toString(),p,D);else if(c.attachEvent)c.attachEvent(_E(d.toString()),p);else if(c.addListener&&c.removeListener)c.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function EN(){function c(h){return d.call(c.src,c.listener,h)}let d=IN;return c}function vE(c,d,h,p,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)vE(c,d[A],h,p,D);return null}return h=np(h),c&&c[_a]?c.L(d,h,l(p)?!!p.capture:!!p,D):mE(c,d,h,!0,p,D)}function yE(c,d,h,p,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)yE(c,d[A],h,p,D);else p=l(p)?!!p.capture:!!p,h=np(h),c&&c[_a]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],h=Yf(A,h,p,D),-1<h&&(Au(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=ep(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Yf(d,h,p,D)),(h=-1<c?d[c]:null)&&Xf(h))}function Xf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[_a])Qf(d.i,c);else{var h=c.type,p=c.proxy;d.removeEventListener?d.removeEventListener(h,p,c.capture):d.detachEvent?d.detachEvent(_E(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=ep(d))?(Qf(h,c),h.h==0&&(h.src=null,d[Zf]=null)):Au(c)}}}function _E(c){return c in Jf?Jf[c]:Jf[c]="on"+c}function IN(c,d){if(c.da)c=!0;else{d=new ya(d,this);var h=c.listener,p=c.ha||c.src;c.fa&&Xf(c),c=h.call(p,d)}return c}function ep(c){return c=c[Zf],c instanceof Ru?c:null}var tp="__closure_events_fn_"+(1e9*Math.random()>>>0);function np(c){return typeof c=="function"?c:(c[tp]||(c[tp]=function(d){return c.handleEvent(d)}),c[tp])}function gt(){Cr.call(this),this.i=new Ru(this),this.M=this,this.F=null}C(gt,Cr),gt.prototype[_a]=!0,gt.prototype.removeEventListener=function(c,d,h,p){yE(this,c,d,h,p)};function Et(c,d){var h,p=c.F;if(p)for(h=[];p;p=p.F)h.push(p);if(c=c.M,p=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var D=d;d=new pt(p,c),I(d,D)}if(D=!0,h)for(var A=h.length-1;0<=A;A--){var L=d.g=h[A];D=Mu(L,p,!0,d)&&D}if(L=d.g=c,D=Mu(L,p,!0,d)&&D,D=Mu(L,p,!1,d)&&D,h)for(A=0;A<h.length;A++)L=d.g=h[A],D=Mu(L,p,!1,d)&&D}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],p=0;p<h.length;p++)Au(h[p]);delete c.g[d],c.h--}}this.F=null},gt.prototype.K=function(c,d,h,p){return this.i.add(String(c),d,!1,h,p)},gt.prototype.L=function(c,d,h,p){return this.i.add(String(c),d,!0,h,p)};function Mu(c,d,h,p){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==h){var Ce=L.listener,lt=L.ha||L.src;L.fa&&Qf(c.i,L),D=Ce.call(lt,p)!==!1&&D}}return D&&!p.defaultPrevented}function wE(c,d,h){if(typeof c=="function")h&&(c=m(c,h));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function EE(c){c.g=wE(()=>{c.g=null,c.i&&(c.i=!1,EE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class bN extends Cr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:EE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(c){Cr.call(this),this.h=c,this.g={}}C(wa,Cr);var IE=[];function bE(c){je(c.g,function(d,h){this.g.hasOwnProperty(h)&&Xf(d)},c),c.g={}}wa.prototype.N=function(){wa.aa.N.call(this),bE(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rp=a.JSON.stringify,TN=a.JSON.parse,DN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ip(){}ip.prototype.h=null;function TE(c){return c.h||(c.h=c.i())}function DE(){}var Ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function op(){pt.call(this,"d")}C(op,pt);function sp(){pt.call(this,"c")}C(sp,pt);var pi={},CE=null;function Nu(){return CE=CE||new gt}pi.La="serverreachability";function SE(c){pt.call(this,pi.La,c)}C(SE,pt);function Ia(c){let d=Nu();Et(d,new SE(d))}pi.STAT_EVENT="statevent";function AE(c,d){pt.call(this,pi.STAT_EVENT,c),this.stat=d}C(AE,pt);function It(c){let d=Nu();Et(d,new AE(d,c))}pi.Ma="timingevent";function RE(c,d){pt.call(this,pi.Ma,c),this.size=d}C(RE,pt);function ba(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ta(){this.g=!0}Ta.prototype.xa=function(){this.g=!1};function CN(c,d,h,p,D,A){c.info(function(){if(c.g)if(A)for(var L="",Ce=A.split("&"),lt=0;lt<Ce.length;lt++){var ve=Ce[lt].split("=");if(1<ve.length){var mt=ve[0];ve=ve[1];var vt=mt.split("_");L=2<=vt.length&&vt[1]=="type"?L+(mt+"="+ve+"&"):L+(mt+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+d+`
`+h+`
`+L})}function SN(c,d,h,p,D,A,L){c.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+d+`
`+h+`
`+A+" "+L})}function Ao(c,d,h,p){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+RN(c,h)+(p?" "+p:"")})}function AN(c,d){c.info(function(){return"TIMEOUT: "+d})}Ta.prototype.info=function(){};function RN(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var p=h[c];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<D.length;L++)D[L]=""}}}}return rp(h)}catch{return d}}var xu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ME={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ap;function Pu(){}C(Pu,ip),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},ap=new Pu;function Sr(c,d,h,p){this.j=c,this.i=d,this.l=h,this.R=p||1,this.U=new wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new NE}function NE(){this.i=null,this.g="",this.h=!1}var xE={},cp={};function up(c,d,h){c.L=1,c.v=Lu(Xn(d)),c.m=h,c.P=!0,PE(c,null)}function PE(c,d){c.F=Date.now(),ku(c),c.A=Xn(c.v);var h=c.A,p=c.R;Array.isArray(p)||(p=[String(p)]),WE(h.i,"t",p),c.C=0,h=c.j.J,c.h=new NE,c.g=dI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new bN(m(c.Y,c,c.g),c.O)),d=c.U,h=c.g,p=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(IE[0]=D.toString()),D=IE);for(var A=0;A<D.length;A++){var L=gE(h,D[A],p||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ia(),CN(c.i,c.u,c.A,c.l,c.R,c.m)}Sr.prototype.ca=function(c){c=c.target;let d=this.M;d&&er(c)==3?d.j():this.Y(c)},Sr.prototype.Y=function(c){try{if(c==this.g)e:{let vt=er(this.g);var d=this.g.Ba();let No=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||eI(this.g)))){this.J||vt!=4||d==7||(d==8||0>=No?Ia(3):Ia(2)),lp(this);var h=this.g.Z();this.X=h;t:if(kE(this)){var p=eI(this.g);c="";var D=p.length,A=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Da(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(p[d],{stream:!(A&&d==D-1)});p.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,SN(this.i,this.u,this.A,this.l,this.R,vt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,lt=this.g;if((Ce=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Ce)){var ve=Ce;break t}}ve=null}if(h=ve)Ao(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dp(this,h);else{this.o=!1,this.s=3,It(12),gi(this),Da(this);break e}}if(this.P){h=!0;let dn;for(;!this.J&&this.C<L.length;)if(dn=MN(this,L),dn==cp){vt==4&&(this.s=4,It(14),h=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==xE){this.s=4,It(15),Ao(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else Ao(this.i,this.l,dn,null),dp(this,dn);if(kE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||L.length!=0||this.h.h||(this.s=1,It(16),h=!1),this.o=this.o&&h,!h)Ao(this.i,this.l,L,"[Invalid Chunked Response]"),gi(this),Da(this);else if(0<L.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),vp(mt),mt.M=!0,It(11))}}else Ao(this.i,this.l,L,null),dp(this,L);vt==4&&gi(this),this.o&&!this.J&&(vt==4?aI(this.j,this):(this.o=!1,ku(this)))}else WN(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),gi(this),Da(this)}}}catch{}finally{}};function kE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function MN(c,d){var h=c.C,p=d.indexOf(`
`,h);return p==-1?cp:(h=Number(d.substring(h,p)),isNaN(h)?xE:(p+=1,p+h>d.length?cp:(d=d.slice(p,p+h),c.C=p+h,d)))}Sr.prototype.cancel=function(){this.J=!0,gi(this)};function ku(c){c.S=Date.now()+c.I,OE(c,c.I)}function OE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ba(m(c.ba,c),d)}function lp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Sr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(AN(this.i,this.A),this.L!=2&&(Ia(),It(17)),gi(this),this.s=2,Da(this)):OE(this,this.S-c)};function Da(c){c.j.G==0||c.J||aI(c.j,c)}function gi(c){lp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,bE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function dp(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||hp(h.h,c))){if(!c.K&&hp(h.h,c)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)$u(h),Uu(h);else break e;mp(h),It(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=ba(m(h.Za,h),6e3));if(1>=VE(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else vi(h,11)}else if((c.K||h.g==c)&&$u(h),!se(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let ve=D[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let mt=ve[3];mt!=null&&(h.la=mt,h.j.info("VER="+h.la));let vt=ve[4];vt!=null&&(h.Aa=vt,h.j.info("SVER="+h.Aa));let No=ve[5];No!=null&&typeof No=="number"&&0<No&&(p=1.5*No,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let dn=c.g;if(dn){let zu=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zu){var A=p.h;A.g||zu.indexOf("spdy")==-1&&zu.indexOf("quic")==-1&&zu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(fp(A,A.h),A.h=null))}if(p.D){let yp=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;yp&&(p.ya=yp,Me(p.I,p.D,yp))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var L=c;if(p.qa=lI(p,p.J?p.ia:null,p.W),L.K){jE(p.h,L);var Ce=L,lt=p.L;lt&&(Ce.I=lt),Ce.B&&(lp(Ce),ku(Ce)),p.g=L}else oI(p);0<h.i.length&&Bu(h)}else ve[0]!="stop"&&ve[0]!="close"||vi(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?vi(h,7):gp(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}Ia(4)}catch{}}var NN=class{constructor(c,d){this.g=c,this.map=d}};function FE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function VE(c){return c.h?1:c.g?c.g.size:0}function hp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function fp(c,d){c.g?c.g.add(d):c.h=d}function jE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}FE.prototype.cancel=function(){if(this.i=UE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function UE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return N(c.i)}function xN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,p=0;p<h;p++)d.push(c[p]);return d}d=[],h=0;for(p in c)d[h++]=c[p];return d}function PN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let p in c)d[h++]=p;return d}}}function BE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=PN(c),p=xN(c),D=p.length,A=0;A<D;A++)d.call(void 0,p[A],h&&h[A],c)}var $E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kN(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var p=c[h].indexOf("="),D=null;if(0<=p){var A=c[h].substring(0,p);D=c[h].substring(p+1)}else A=c[h];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mi){this.h=c.h,Ou(this,c.j),this.o=c.o,this.g=c.g,Fu(this,c.s),this.l=c.l;var d=c.i,h=new Aa;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),HE(this,h),this.m=c.m}else c&&(d=String(c).match($E))?(this.h=!1,Ou(this,d[1]||"",!0),this.o=Ca(d[2]||""),this.g=Ca(d[3]||"",!0),Fu(this,d[4]),this.l=Ca(d[5]||"",!0),HE(this,d[6]||"",!0),this.m=Ca(d[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}mi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Sa(d,zE,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Sa(d,zE,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Sa(h,h.charAt(0)=="/"?LN:FN,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Sa(h,jN)),c.join("")};function Xn(c){return new mi(c)}function Ou(c,d,h){c.j=h?Ca(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Fu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function HE(c,d,h){d instanceof Aa?(c.i=d,UN(c.i,c.h)):(h||(d=Sa(d,VN)),c.i=new Aa(d,c.h))}function Me(c,d,h){c.i.set(d,h)}function Lu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ca(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,ON),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ON(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zE=/[#\/\?@]/g,FN=/[#\?:]/g,LN=/[#\?]/g,VN=/[#\?@]/g,jN=/#/g;function Aa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ar(c){c.g||(c.g=new Map,c.h=0,c.i&&kN(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Aa.prototype,n.add=function(c,d){Ar(this),this.i=null,c=Ro(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function qE(c,d){Ar(c),d=Ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function GE(c,d){return Ar(c),d=Ro(c,d),c.g.has(d)}n.forEach=function(c,d){Ar(this),this.g.forEach(function(h,p){h.forEach(function(D){c.call(d,D,p,this)},this)},this)},n.na=function(){Ar(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let D=c[p];for(let A=0;A<D.length;A++)h.push(d[p])}return h},n.V=function(c){Ar(this);let d=[];if(typeof c=="string")GE(this,c)&&(d=d.concat(this.g.get(Ro(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},n.set=function(c,d){return Ar(this),this.i=null,c=Ro(this,c),GE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function WE(c,d,h){qE(c,d),0<h.length&&(c.i=null,c.g.set(Ro(c,d),N(h)),c.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let A=encodeURIComponent(String(p)),L=this.V(p);for(p=0;p<L.length;p++){var D=A;L[p]!==""&&(D+="="+encodeURIComponent(String(L[p]))),c.push(D)}}return this.i=c.join("&")};function Ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function UN(c,d){d&&!c.j&&(Ar(c),c.i=null,c.g.forEach(function(h,p){var D=p.toLowerCase();p!=D&&(qE(this,p),WE(this,D,h))},c)),c.j=d}function BN(c,d){let h=new Ta;if(a.Image){let p=new Image;p.onload=v(Rr,h,"TestLoadImage: loaded",!0,d,p),p.onerror=v(Rr,h,"TestLoadImage: error",!1,d,p),p.onabort=v(Rr,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=v(Rr,h,"TestLoadImage: timeout",!1,d,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=c}else d(!1)}function $N(c,d){let h=new Ta,p=new AbortController,D=setTimeout(()=>{p.abort(),Rr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:p.signal}).then(A=>{clearTimeout(D),A.ok?Rr(h,"TestPingServer: ok",!0,d):Rr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Rr(h,"TestPingServer: error",!1,d)})}function Rr(c,d,h,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(h)}catch{}}function HN(){this.g=new DN}function zN(c,d,h){let p=h||"";try{BE(c,function(D,A){let L=D;l(D)&&(L=rp(D)),d.push(p+A+"="+encodeURIComponent(L))})}catch(D){throw d.push(p+"type="+encodeURIComponent("_badmap")),D}}function Ra(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ra,ip),Ra.prototype.g=function(){return new Vu(this.l,this.j)},Ra.prototype.i=function(c){return function(){return c}}({});function Vu(c,d){gt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Vu,gt),n=Vu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Na(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function KE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ma(this):Na(this),this.readyState==3&&KE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ma(this))},n.Qa=function(c){this.g&&(this.response=c,Ma(this))},n.ga=function(){this.g&&Ma(this)};function Ma(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Na(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Na(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function QE(c){let d="";return je(c,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function pp(c,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=QE(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Me(c,d,h))}function Pe(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Pe,gt);var qN=/^https?$/i,GN=["POST","PUT"];n=Pe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ap.g(),this.v=this.o?TE(this.o):TE(ap),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){YE(this,A);return}if(c=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)h.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GN,d,void 0))||p||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of h)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XE(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){YE(this,A)}};function YE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ZE(c),ju(c)}function ZE(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),ju(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ju(this,!0)),Pe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?JE(this):this.bb())},n.bb=function(){JE(this)};function JE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)wE(c.Ea,0,c);else if(Et(c,"readystatechange"),er(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=L===0){var D=String(c.D).match($E)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),p=!qN.test(D?D.toLowerCase():"")}h=p}if(h)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var A=2<er(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ZE(c)}}finally{ju(c)}}}}function ju(c,d){if(c.g){XE(c);let h=c.g,p=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Et(c,"ready");try{h.onreadystatechange=p}catch{}}}function XE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),TN(d)}};function eI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function WN(c){let d={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<c.length;p++){if(se(c[p]))continue;var h=b(c[p]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[D]||[];d[D]=A,A.push(h)}T(d,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function tI(c){this.Aa=0,this.i=[],this.j=new Ta,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,c),this.cb=xa("retryDelaySeedMs",1e4,c),this.Wa=xa("forwardChannelMaxRetries",2,c),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new FE(c&&c.concurrentRequestLimit),this.Da=new HN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tI.prototype,n.la=8,n.G=1,n.connect=function(c,d,h,p){It(0),this.W=c,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=lI(this,null,this.W),Bu(this)};function gp(c){if(nI(c),c.G==3){var d=c.U++,h=Xn(c.I);if(Me(h,"SID",c.K),Me(h,"RID",d),Me(h,"TYPE","terminate"),Pa(c,h),d=new Sr(c,c.j,d),d.L=2,d.v=Lu(Xn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=dI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ku(d)}uI(c)}function Uu(c){c.g&&(vp(c),c.g.cancel(),c.g=null)}function nI(c){Uu(c),c.u&&(a.clearTimeout(c.u),c.u=null),$u(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Bu(c){if(!LE(c.h)&&!c.s){c.s=!0;var d=c.Ga;ma||pE(),va||(ma(),va=!0),Kf.add(d,c),c.B=0}}function KN(c,d){return VE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ba(m(c.Ga,c,d),cI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Sr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=iI(this,D,d),h=Xn(this.I),Me(h,"RID",c),Me(h,"CVER",22),this.D&&Me(h,"X-HTTP-Session-Id",this.D),Pa(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(QE(A)))+"&"+d:this.m&&pp(h,this.m,A)),fp(this.h,D),this.Ua&&Me(h,"TYPE","init"),this.P?(Me(h,"$req",d),Me(h,"SID","null"),D.T=!0,up(D,h,null)):up(D,h,d),this.G=2}}else this.G==3&&(c?rI(this,c):this.i.length==0||LE(this.h)||rI(this))};function rI(c,d){var h;d?h=d.l:h=c.U++;let p=Xn(c.I);Me(p,"SID",c.K),Me(p,"RID",h),Me(p,"AID",c.T),Pa(c,p),c.m&&c.o&&pp(p,c.m,c.o),h=new Sr(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=iI(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fp(c.h,h),up(h,p,d)}function Pa(c,d){c.H&&je(c.H,function(h,p){Me(d,p,h)}),c.l&&BE({},function(h,p){Me(d,p,h)})}function iI(c,d,h){h=Math.min(c.i.length,h);var p=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let L=["count="+h];A==-1?0<h?(A=D[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Ce=!0;for(let lt=0;lt<h;lt++){let ve=D[lt].g,mt=D[lt].map;if(ve-=A,0>ve)A=Math.max(0,D[lt].g-100),Ce=!1;else try{zN(mt,L,"req"+ve+"_")}catch{p&&p(mt)}}if(Ce){p=L.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,p}function oI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ma||pE(),va||(ma(),va=!0),Kf.add(d,c),c.v=0}}function mp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ba(m(c.Fa,c),cI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,sI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ba(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Uu(this),sI(this))};function vp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function sI(c){c.g=new Sr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Xn(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),Pa(c,d),c.m&&c.o&&pp(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Lu(Xn(d)),h.m=null,h.P=!0,PE(h,c)}n.Za=function(){this.C!=null&&(this.C=null,Uu(this),mp(this),It(19))};function $u(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function aI(c,d){var h=null;if(c.g==d){$u(c),vp(c),c.g=null;var p=2}else if(hp(c.h,d))h=d.D,jE(c.h,d),p=1;else return;if(c.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;p=Nu(),Et(p,new RE(p,h)),Bu(c)}else oI(c);else if(D=d.s,D==3||D==0&&0<d.X||!(p==1&&KN(c,d)||p==2&&mp(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),D){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function cI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function vi(c,d){if(c.j.info("Error code "+d),d==2){var h=m(c.fb,c),p=c.Xa;let D=!p;p=new mi(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ou(p,"https"),Lu(p),D?BN(p.toString(),h):$N(p.toString(),h)}else It(2);c.G=0,c.l&&c.l.sa(d),uI(c),nI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function uI(c){if(c.G=0,c.ka=[],c.l){let d=UE(c.h);(d.length!=0||c.i.length!=0)&&(P(c.ka,d),P(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function lI(c,d,h){var p=h instanceof mi?Xn(h):new mi(h);if(p.g!="")d&&(p.g=d+"."+p.g),Fu(p,p.s);else{var D=a.location;p=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new mi(null);p&&Ou(A,p),d&&(A.g=d),D&&Fu(A,D),h&&(A.l=h),p=A}return h=c.D,d=c.ya,h&&d&&Me(p,h,d),Me(p,"VER",c.la),Pa(c,p),p}function dI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new Ra({eb:h})):new Pe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hI(){}n=hI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Hu(){}Hu.prototype.g=function(c,d){return new $t(c,d)};function $t(c,d){gt.call(this),this.g=new tI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!se(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!se(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Mo(this)}C($t,gt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){gp(this.g)},$t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=rp(c),c=h);d.i.push(new NN(d.Ya++,c)),d.G==3&&Bu(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,gp(this.g),delete this.g,$t.aa.N.call(this)};function fI(c){op.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(fI,op);function pI(){sp.call(this),this.status=1}C(pI,sp);function Mo(c){this.g=c}C(Mo,hI),Mo.prototype.ua=function(){Et(this.g,"a")},Mo.prototype.ta=function(c){Et(this.g,new fI(c))},Mo.prototype.sa=function(c){Et(this.g,new pI)},Mo.prototype.ra=function(){Et(this.g,"b")},Hu.prototype.createWebChannel=Hu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,c_=Er.createWebChannelTransport=function(){return new Hu},a_=Er.getStatEventTarget=function(){return Nu()},s_=Er.Event=pi,zh=Er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xu.NO_ERROR=0,xu.TIMEOUT=8,xu.HTTP_ERROR=6,tu=Er.ErrorCode=xu,ME.COMPLETE="complete",o_=Er.EventType=ME,DE.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",gt.prototype.listen=gt.prototype.K,js=Er.WebChannel=DE,H$=Er.FetchXmlHttpFactory=Ra,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,i_=Er.XhrIo=Pe}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});var VA="@firebase/firestore",jA="4.8.0";var ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");var oa="11.10.0";var go=new $n("@firebase/firestore");function Us(){return go.logLevel}function q(n,...e){if(go.logLevel<=le.DEBUG){let t=e.map(Fw);go.debug(`Firestore (${oa}): ${n}`,...t)}}function mo(n,...e){if(go.logLevel<=le.ERROR){let t=e.map(Fw);go.error(`Firestore (${oa}): ${n}`,...t)}}function Ws(n,...e){if(go.logLevel<=le.WARN){let t=e.map(Fw);go.warn(`Firestore (${oa}): ${n}`,...t)}}function Fw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_R(n,r,t)}function _R(n,e,t){let r=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mo(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||_R(e,i,r)}function Ae(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends Zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ir=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},h_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ct.UNAUTHENTICATED))}shutdown(){}},f_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},p_=class{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ir,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>y(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ir)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new Zh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new ct(e)}},g_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},m_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new g_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},v_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function z$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function q$(){return new TextEncoder}var cu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=z$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function me(n,e){return n<e?-1:n>e?1:0}function y_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return me(r,i);{let o=q$(),s=G$(o.encode(UA(n,t)),o.encode(UA(e,t)));return s!==0?s:me(r,i)}}t+=r>65535?2:1}return me(n.length,e.length)}function UA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function G$(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return me(n[t],e[t]);return me(n.length,e.length)}function Ks(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var BA="__name__",Xh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return me(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):y_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $h.fromString(e.substring(4,e.length-2))}},et=class n extends Xh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},W$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=class n extends Xh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return W$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BA}static keyField(){return new n([BA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new K(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ue=class n{constructor(e){this.path=e}static fromPath(e){return new n(et.fromString(e))}static fromName(e){return new n(et.fromString(e).popFirst(5))}static empty(){return new n(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new et(e.slice()))}};function K$(n,e,t){if(!t)throw new K(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Q$(n,e,t,r){if(e===!0&&r===!0)throw new K(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $A(n){if(!ue.isDocumentKey(n))throw new K(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Lw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function __(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Lw(n);throw new K(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Qe(n,e){let t={typeString:n};return e&&(t.value=e),t}function yu(n,e){if(!wR(n))throw new K(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new K(k.INVALID_ARGUMENT,t);return!0}var HA=-62135596800,zA=1e6,tt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*zA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HA)throw new K(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zA}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-HA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Qe("string",tt._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};var Fe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new tt(0,0))}static max(){return new n(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uu=-1,w_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};w_.UNKNOWN_ID=-1;function Y$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new vo(i,ue.empty(),e)}function Z$(n){return new vo(n.readTime,n.key,uu)}var vo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Fe.min(),ue.empty(),uu)}static max(){return new n(Fe.max(),ue.empty(),uu)}};function J$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:me(n.largestBatchId,e.largestBatchId))}var X$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",E_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Vw(n){return y(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==X$)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function e4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _u(n){return n.name==="IndexedDbTransactionError"}var ER=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),jw=-1;function Uw(n){return n==null}function lu(n){return n===0&&1/n==-1/0}function t4(n){return typeof n=="number"&&Number.isInteger(n)&&!lu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var IR="";function n4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qA(e)),e=r4(n.get(t),e);return qA(e)}function r4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case IR:t+="";break;default:t+=o}}return t}function qA(n){return n+IR+""}var i4="remoteDocuments",bR="owner";var TR="mutationQueues";var DR="mutations";var CR="documentMutations",o4="remoteDocumentsV14";var SR="remoteDocumentGlobal";var AR="targets";var RR="targetDocuments";var MR="targetGlobal",NR="collectionParents";var xR="clientMetadata";var PR="bundles";var kR="namedQueries";var s4="indexConfiguration";var a4="indexState";var c4="indexEntries";var OR="documentOverlays";var u4="globals";var l4=[TR,DR,CR,i4,AR,bR,MR,RR,xR,SR,NR,PR,kR],fJ=[...l4,OR],d4=[TR,DR,CR,o4,AR,bR,MR,RR,xR,SR,NR,PR,kR,OR],h4=d4,f4=[...h4,s4,a4,c4];var pJ=[...f4,u4];function GA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var en=class n{constructor(e,t){this.comparator=e,this.root=t||Kn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $s(this.root,e,this.comparator,!1)}getReverseIterator(){return new $s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $s(this.root,e,this.comparator,!0)}},$s=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wt=class n{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ef(this.data.getIterator())}getIteratorFrom(e){return new ef(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ef=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wn=class n{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new wt(Jt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var I_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var br=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new I_("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};br.EMPTY_BYTE_STRING=new br("");var p4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=p4.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(n.seconds),nanos:Ke(n.nanos)}}function Ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yo(n){return typeof n=="string"?br.fromBase64String(n):br.fromUint8Array(n)}var LR="server_timestamp",VR="__type__",jR="__previous_value__",UR="__local_write_time__";function Bw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[VR])===null||t===void 0?void 0:t.stringValue)===LR}function $w(n){let e=n.mapValue.fields[jR];return Bw(e)?$w(e):e}function tf(n){let e=si(n.mapValue.fields[UR].timestampValue);return new tt(e.seconds,e.nanos)}var b_=class{constructor(e,t,r,i,o,s,a,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},nf="(default)",T_=class n{constructor(e,t){this.projectId=e,this.database=t||nf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Hw="__type__",BR="__max__",qh={mapValue:{fields:{__type__:{stringValue:BR}}}},zw="__vector__",du="value";function _o(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bw(n)?4:HR(n)?9007199254740991:$R(n)?10:11:oe(28295,{value:n})}function Qn(n,e){if(n===e)return!0;let t=_o(n);if(t!==_o(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tf(n).isEqual(tf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=si(i.timestampValue),a=si(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return yo(i.bytesValue).isEqual(yo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ke(i.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ke(i.integerValue)===Ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ke(i.doubleValue),a=Ke(o.doubleValue);return s===a?lu(s)===lu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ks(n.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(GA(s)!==GA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Qn(s[u],a[u])))return!1;return!0}(n,e);default:return oe(52216,{left:n})}}function hu(n,e){return(n.values||[]).find(t=>Qn(t,e))!==void 0}function Qs(n,e){if(n===e)return 0;let t=_o(n),r=_o(e);if(t!==r)return me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return me(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ke(o.integerValue||o.doubleValue),u=Ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return WA(n.timestampValue,e.timestampValue);case 4:return WA(tf(n),tf(e));case 5:return y_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=yo(o),u=yo(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=me(a[l],u[l]);if(f!==0)return f}return me(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=me(Ke(o.latitude),Ke(s.latitude));return a!==0?a:me(Ke(o.longitude),Ke(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return KA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,f;let g=o.fields||{},m=s.fields||{},v=(a=g[du])===null||a===void 0?void 0:a.arrayValue,C=(u=m[du])===null||u===void 0?void 0:u.arrayValue,N=me(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=C?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:KA(v,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===qh.mapValue&&s===qh.mapValue)return 0;if(o===qh.mapValue)return 1;if(s===qh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let m=y_(u[g],f[g]);if(m!==0)return m;let v=Qs(a[u[g]],l[f[g]]);if(v!==0)return v}return me(u.length,f.length)}(n.mapValue,e.mapValue);default:throw oe(23264,{le:t})}}function WA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return me(n,e);let t=si(n),r=si(e),i=me(t.seconds,r.seconds);return i!==0?i:me(t.nanos,r.nanos)}function KA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Qs(t[i],r[i]);if(o)return o}return me(t.length,r.length)}function Ys(n){return D_(n)}function D_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=si(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=D_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${D_(t.fields[s])}`;return i+"}"}(n.mapValue):oe(61005,{value:n})}function Kh(n){switch(_o(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=$w(n);return e?16+Kh(e):16;case 5:return 2*n.stringValue.length;case 6:return yo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Kh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return sa(r.fields,(o,s)=>{i+=o.length+Kh(s)}),i}(n.mapValue);default:throw oe(13486,{value:n})}}function C_(n){return!!n&&"integerValue"in n}function qw(n){return!!n&&"arrayValue"in n}function Qh(n){return!!n&&"mapValue"in n}function $R(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hw])===null||t===void 0?void 0:t.stringValue)===zw}function ru(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return sa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ru(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BR}var mJ={mapValue:{fields:{[Hw]:{stringValue:zw},[du]:{arrayValue:{}}}}};var Gn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=Jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ru(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){sa(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ru(this.value))}};function zR(n){let e=[];return sa(n.fields,(t,r)=>{let i=new Jt([t]);if(Qh(r)){let o=zR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}var Zs=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Fe.min(),Fe.min(),Fe.min(),Gn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Fe.min(),Fe.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Fe.min(),Fe.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Js=class{constructor(e,t){this.position=e,this.inclusive=t}};function QA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),t.key):r=Qs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qn(n.position[t],e.position[t]))return!1;return!0}var Xs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function g4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var rf=class{},ut=class n extends rf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new A_(e,t,r):t==="array-contains"?new N_(e,r):t==="in"?new x_(e,r):t==="not-in"?new P_(e,r):t==="array-contains-any"?new k_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new R_(e,r):new M_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qs(t,this.value)):t!==null&&_o(this.value)===_o(t)&&this.matchesComparison(Qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ai=class n extends rf{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return qR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function qR(n){return n.op==="and"}function GR(n){return m4(n)&&qR(n)}function m4(n){for(let e of n.filters)if(e instanceof ai)return!1;return!0}function S_(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+Ys(n.value);if(GR(n))return n.filters.map(e=>S_(e)).join(",");{let e=n.filters.map(t=>S_(t)).join(",");return`${n.op}(${e})`}}function WR(n,e){return n instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(n,e):n instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&WR(s,i.filters[a]),!0):!1}(n,e):void oe(19439)}function KR(n){return n instanceof ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Ys(t.value)}`}(n):n instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(KR).join(" ,")+"}"}(n):"Filter"}var A_=class extends ut{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){let t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}},R_=class extends ut{constructor(e,t){super(e,"in",t),this.keys=QR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},M_=class extends ut{constructor(e,t){super(e,"not-in",t),this.keys=QR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function QR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}var N_=class extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return qw(t)&&hu(t.arrayValue,this.value)}},x_=class extends ut{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&hu(this.value.arrayValue,t)}},P_=class extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hu(this.value.arrayValue,t)}},k_=class extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!qw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hu(this.value.arrayValue,r))}};var O_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function ZA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new O_(n,e,t,r,i,o,s)}function Gw(n){let e=Ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>S_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Uw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ys(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ys(r)).join(",")),e.Pe=t}return e.Pe}function Ww(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!g4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YA(n.startAt,e.startAt)&&YA(n.endAt,e.endAt)}var ea=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function v4(n,e,t,r,i,o,s,a){return new ea(n,e,t,r,i,o,s,a)}function y4(n){return new ea(n)}function JA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _4(n){return n.collectionGroup!==null}function iu(n){let e=Ae(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wt(Jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Xs(o,r))}),t.has(Jt.keyField().canonicalString())||e.Te.push(new Xs(Jt.keyField(),r))}return e.Te}function uo(n){let e=Ae(n);return e.Ie||(e.Ie=w4(e,iu(n))),e.Ie}function w4(n,e){if(n.limitType==="F")return ZA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Xs(i.field,o)});let t=n.endAt?new Js(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Js(n.startAt.position,n.startAt.inclusive):null;return ZA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function F_(n,e,t){return new ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function YR(n,e){return Ww(uo(n),uo(e))&&n.limitType===e.limitType}function ZR(n){return`${Gw(uo(n))}|lt:${n.limitType}`}function nu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>KR(i)).join(", ")}]`),Uw(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ys(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ys(i)).join(",")),`Target(${r})`}(uo(n))}; limitType=${n.limitType})`}function Kw(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of iu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=QA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,iu(r),i)||r.endAt&&!function(s,a,u){let l=QA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,iu(r),i))}(n,e)}function E4(n){return(e,t)=>{let r=!1;for(let i of iu(n)){let o=I4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function I4(n,e,t){let r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Qs(u,l):oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var Tr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return FR(this.inner)}size(){return this.innerSize}};var b4=new en(ue.comparator);function of(){return b4}var JR=new en(ue.comparator);function Gh(...n){let e=JR;for(let t of n)e=e.insert(t.key,t);return e}function XR(n){let e=JR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function co(){return ou()}function eM(){return ou()}function ou(){return new Tr(n=>n.toString(),(n,e)=>n.isEqual(e))}var T4=new en(ue.comparator),D4=new wt(ue.comparator);function _t(...n){let e=D4;for(let t of n)e=e.add(t);return e}var C4=new wt(me);function S4(){return C4}function Qw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(e)?"-0":e}}function tM(n){return{integerValue:""+n}}function A4(n,e){return t4(e)?tM(e):Qw(n,e)}var ta=class{constructor(){this._=void 0}};function R4(n,e,t){return n instanceof na?function(i,o){let s={fields:{[VR]:{stringValue:LR},[UR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bw(o)&&(o=$w(o)),o&&(s.fields[jR]=o),{mapValue:s}}(t,e):n instanceof wo?rM(n,e):n instanceof Eo?iM(n,e):function(i,o){let s=nM(i,o),a=XA(s)+XA(i.Ee);return C_(s)&&C_(i.Ee)?tM(a):Qw(i.serializer,a)}(n,e)}function M4(n,e,t){return n instanceof wo?rM(n,e):n instanceof Eo?iM(n,e):t}function nM(n,e){return n instanceof ra?function(r){return C_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var na=class extends ta{},wo=class extends ta{constructor(e){super(),this.elements=e}};function rM(n,e){let t=oM(e);for(let r of n.elements)t.some(i=>Qn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Eo=class extends ta{constructor(e){super(),this.elements=e}};function iM(n,e){let t=oM(e);for(let r of n.elements)t=t.filter(i=>!Qn(i,r));return{arrayValue:{values:t}}}var ra=class extends ta{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function XA(n){return Ke(n.integerValue||n.doubleValue)}function oM(n){return qw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function N4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof wo&&i instanceof wo||r instanceof Eo&&i instanceof Eo?Ks(r.elements,i.elements,Qn):r instanceof ra&&i instanceof ra?Qn(r.Ee,i.Ee):r instanceof na&&i instanceof na}(n.transform,e.transform)}var L_=class{constructor(e,t){this.version=e,this.transformResults=t}},lo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ia=class{};function sM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sf(n.key,lo.none()):new Io(n.key,n.data,lo.none());{let t=n.data,r=Gn.empty(),i=new wt(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Dr(n.key,r,new Wn(i.toArray()),lo.none())}}function x4(n,e,t){n instanceof Io?function(i,o,s){let a=i.value.clone(),u=tR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Dr?function(i,o,s){if(!Yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=tR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(aM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function su(n,e,t,r){return n instanceof Io?function(o,s,a,u){if(!Yh(o.precondition,s))return a;let l=o.value.clone(),f=nR(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Dr?function(o,s,a,u){if(!Yh(o.precondition,s))return a;let l=nR(o.fieldTransforms,u,s),f=s.data;return f.setAll(aM(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,a){return Yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function P4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=nM(r.transform,i||null);o!=null&&(t===null&&(t=Gn.empty()),t.set(r.field,o))}return t||null}function eR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ks(r,i,(o,s)=>N4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Io=class extends ia{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dr=class extends ia{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function aM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function tR(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,M4(s,a,t[i]))}return r}function nR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,R4(o,s,e))}return r}var sf=class extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},V_=class extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var j_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&x4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=eM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=sM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_t())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(t,r)=>eR(t,r))&&Ks(this.baseMutations,e.baseMutations,(t,r)=>eR(t,r))}},U_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return T4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var B_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ge,ge;function k4(n){switch(n){case k.OK:return oe(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return oe(15467,{code:n})}}function O4(n){if(n===void 0)return mo("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ge.OK:return k.OK;case Ge.CANCELLED:return k.CANCELLED;case Ge.UNKNOWN:return k.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return k.INTERNAL;case Ge.UNAVAILABLE:return k.UNAVAILABLE;case Ge.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ge.NOT_FOUND:return k.NOT_FOUND;case Ge.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ge.ABORTED:return k.ABORTED;case Ge.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ge.DATA_LOSS:return k.DATA_LOSS;default:return oe(39323,{code:n})}}(ge=Ge||(Ge={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var vJ=new $h([4294967295,4294967295],0);var $_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function H_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function L4(n,e){return H_(n,e.toTimestamp())}function zs(n){return Le(!!n,49232),Fe.fromTimestamp(function(t){let r=si(t);return new tt(r.seconds,r.nanos)}(n))}function cM(n,e){return z_(n,e).canonicalString()}function z_(n,e){let t=function(i){return new et(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function V4(n){let e=et.fromString(n);return Le(G4(e),10190,{key:e.toString()}),e}function q_(n,e){return cM(n.databaseId,e.path)}function j4(n){let e=V4(n);return e.length===4?et.emptyPath():B4(e)}function U4(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B4(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rR(n,e,t){return{name:q_(n,e),fields:t.value.mapValue.fields}}function $4(n,e){let t;if(e instanceof Io)t={update:rR(n,e.key,e.value)};else if(e instanceof sf)t={delete:q_(n,e.key)};else if(e instanceof Dr)t={update:rR(n,e.key,e.data),updateMask:q4(e.fieldMask)};else{if(!(e instanceof V_))return oe(16599,{Rt:e.type});t={verify:q_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof na)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ra)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:L4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(n,e.precondition)),t}function H4(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?zs(i.updateTime):zs(o);return s.isEqual(Fe.min())&&(s=zs(o)),new L_(s,i.transformResults||[])}(t,e))):[]}function z4(n){let e=j4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(g){let m=uM(g);return m instanceof ai&&GR(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(m=>function(C){return new Xs(Bs(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(g){let m;return m=typeof g=="object"?g.value:g,Uw(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(g){let m=!!g.before,v=g.values||[];return new Js(v,m)}(t.startAt));let l=null;return t.endAt&&(l=function(g){let m=!g.before,v=g.values||[];return new Js(v,m)}(t.endAt)),v4(e,i,s,o,a,"F",u,l)}function uM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Bs(t.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bs(t.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bs(t.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bs(t.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return ut.create(Bs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(r=>uM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(t.compositeFilter.op))}(n):oe(30097,{filter:n})}function Bs(n){return Jt.fromServerFormat(n.fieldPath)}function q4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function G4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var G_=class{constructor(e){this.gt=e}};function W4(n){let e=z4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?F_(e,e.limit,"L"):e}var af=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ke(e.integerValue));else if("doubleValue"in e){let r=Ke(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),lu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=si(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(yo(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?HR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):$R(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):oe(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=du,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ke(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ue.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};af.Ut=new af;var W_=class{constructor(){this.Dn=new K_}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(vo.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},K_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wt(et.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(et.comparator)).toArray()}};var yJ=new Uint8Array(0);var iR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lM=41943040,ln=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(lM,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var fu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var oR="LruGarbageCollector",K4=1048576;function sR([n,e],[t,r]){let i=me(n,t);return i===0?me(e,r):i}var Q_=class{constructor(e){this.Tr=e,this.buffer=new wt(sR),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();sR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Y_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){q(oR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>y(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){_u(t)?q(oR,"Ignoring IndexedDB error during garbage collection: ",t):yield Vw(t)}yield this.Rr(3e5)}))}},Z_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(ER.ue);let r=new Q_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(iR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iR):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),Us()<=le.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${g} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function Q4(n,e){return new Z_(n,e)}var J_=class{constructor(){this.changes=new Tr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var X_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ew=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&su(r.mutation,i,Wn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_t()){let i=co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Gh();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_t()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=of(),s=ou(),a=function(){return ou()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Dr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),su(f.mutation,l,f.mutation.getFieldMask(),tt.now())):s.set(l.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var g;return a.set(l,new X_(f,(g=s.get(l))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ou(),i=new en((s,a)=>s-a),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Wn.empty();f=a.applyToLocalView(l,f),r.set(u,f);let g=(i.get(a.batchId)||_t()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,g=eM();f.forEach(m=>{if(!o.has(m)){let v=sM(t.get(m),r.get(m));v!==null&&g.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(co()),a=uu,u=o;return s.next(l=>O.forEach(l,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(f)?O.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_t())).next(f=>({batchId:a,changes:XR(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=Gh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Gh();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(g,m){return new ea(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Zs.newInvalidDocument(f)))});let a=Gh();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&su(f.mutation,l,Wn.empty(),tt.now()),Kw(t,l)&&(a=a.insert(u,l))}),a})}};var tw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zs(i.createTime)}}(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:W4(i.bundledQuery),readTime:zs(i.readTime)}}(t)),O.resolve()}};var nw=class{constructor(){this.overlays=new en(ue.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=co();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=co(),o=t.length+1,s=new ue(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new en((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=co(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=co(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new B_(t,r));let o=this.kr.get(t);o===void 0&&(o=_t(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var rw=class{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var pu=class{constructor(){this.qr=new wt(We.Qr),this.$r=new wt(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new We(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new We(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ue(new et([])),r=new We(t,e),i=new We(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ue(new et([])),r=new We(t,e),i=new We(t,e+1),o=_t();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new We(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ue.comparator(e.key,t.key)||me(e.Hr,t.Hr)}static Ur(e,t){return me(e.Hr,t.Hr)||ue.comparator(e.key,t.key)}};var iw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new wt(We.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new j_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?jw:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new We(t,0),i=new We(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(me);return t.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new We(new ue(o),0),a=new wt(me);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new We(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new We(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ow=class{constructor(e){this.ni=e,this.docs=function(){return new en(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():Zs.newInvalidDocument(t))}getEntries(e,t){let r=of();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zs.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=of(),s=t.path,a=new ue(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||J$(Z$(f),r)<=0||(i.has(f.key)||Kw(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sw(this)}getSize(e){return O.resolve(this.size)}},sw=class extends J_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var aw=class{constructor(e){this.persistence=e,this.ii=new Tr(t=>Gw(t),Ww),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.si=0,this.oi=new pu,this.targetCount=0,this._i=fu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var cf=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new ER(0),this.ci=!1,this.ci=!0,this.li=new rw,this.referenceDelegate=e(this),this.hi=new aw(this),this.indexManager=new W_,this.remoteDocumentCache=function(i){return new ow(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new G_(t),this.Ti=new tw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new iw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new cw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},cw=class extends E_{constructor(e){super(),this.currentSequenceNumber=e}},uw=class n{constructor(e){this.persistence=e,this.Ai=new pu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=ue.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Fe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},uf=class n{constructor(e,t){this.persistence=e,this.gi=new Tr(r=>n4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Q4(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kh(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var lw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=_t(),i=_t();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var dw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var hw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return nS()?8:e4(at())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new dw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Us()<=le.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",nu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(Us()<=le.DEBUG&&q("QueryEngine","Query:",nu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Us()<=le.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",nu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(t))):O.resolve())}ps(e,t){if(JA(t))return O.resolve(null);let r=uo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=F_(t,null,"F"),r=uo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_t(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,F_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return JA(t)||i.isEqual(Fe.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(Us()<=le.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nu(t)),this.vs(e,s,t,Y$(i,uu)).next(a=>a))})}bs(e,t){let r=new wt(E4(e));return t.forEach((i,o)=>{Kw(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Us()<=le.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",nu(t)),this.gs.getDocumentsMatchingQuery(e,t,vo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Y4="LocalStore";var fw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new en(me),this.Ms=new Tr(o=>Gw(o),Ww),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ew(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Z4(n,e,t,r){return new fw(n,e,t,r)}function dM(n,e){return y(this,null,function*(){let t=Ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_t();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function J4(n,e){let t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let g=l.batch,m=g.keys(),v=O.resolve();return m.forEach(C=>{v=v.next(()=>f.getEntry(u,C)).next(N=>{let P=l.docVersions.get(C);Le(P!==null,48541),N.version.compareTo(P)<0&&(g.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_t();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function X4(n){let e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function eH(n,e){let t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var lf=class{constructor(){this.activeTargetIds=S4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var pw=class{constructor(){this.Fo=new lf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new lf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var gw=class{xo(e){}shutdown(){}};var aR="ConnectivityMonitor",df=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){q(aR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){q(aR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wh=null;function mw(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}var u_="RestConnection",tH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===nf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=mw(),a=this.Go(e,t.toUriEncodedString());q(u_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),f=Yr(l);return this.jo(e,a,u,r,f).then(g=>(q(u_,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Ws(u_,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=tH[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var yw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var yt="WebChannelConnection",_w=class extends vw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=mw();return new Promise((a,u)=>{let l=new i_;l.setWithCredentials(!0),l.listenOnce(o_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tu.NO_ERROR:let g=l.getResponseJson();q(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case tu.TIMEOUT:q(yt,`RPC '${e}' ${s} timed out`),u(new K(k.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:let m=l.getStatus();if(q(yt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let C=v?.error;if(C&&C.status&&C.message){let N=function(G){let se=G.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(se)>=0?se:k.UNKNOWN}(C.status);u(new K(N,C.message))}else u(new K(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new K(k.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{q(yt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);q(yt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=mw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=c_(),a=a_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");q(yt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u);this.T_(g);let m=!1,v=!1,C=new yw({Ho:P=>{v?q(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(q(yt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),q(yt,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},Yo:()=>g.close()}),N=(P,G,se)=>{P.listen(G,Q=>{try{se(Q)}catch(Re){setTimeout(()=>{throw Re},0)}})};return N(g,js.EventType.OPEN,()=>{v||(q(yt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),N(g,js.EventType.CLOSE,()=>{v||(v=!0,q(yt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(g))}),N(g,js.EventType.ERROR,P=>{v||(v=!0,Ws(yt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),C.__(new K(k.UNAVAILABLE,"The operation could not be completed")))}),N(g,js.EventType.MESSAGE,P=>{var G;if(!v){let se=P.data[0];Le(!!se,16349);let Q=se,Re=Q?.error||((G=Q[0])===null||G===void 0?void 0:G.error);if(Re){q(yt,`RPC '${e}' stream ${i} received error:`,Re);let tn=Re.status,je=function(E){let I=Ge[E];if(I!==void 0)return O4(I)}(tn),T=Re.message;je===void 0&&(je=k.INTERNAL,T="Unknown error status: "+tn+" with message "+Re.message),v=!0,C.__(new K(je,T)),g.close()}else q(yt,`RPC '${e}' stream ${i} received:`,se),C.a_(se)}}),N(a,s_.STAT_EVENT,P=>{P.stat===zh.PROXY?q(yt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===zh.NOPROXY&&q(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function l_(){return typeof document<"u"?document:null}function _f(n){return new $_(n,!0)}var hf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var cR="PersistentStream",ww=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return y(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return y(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return y(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(mo(t.toString()),mo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new K(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>y(this,null,function*(){this.state=0,this.start()}))}G_(e){return q(cR,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(q(cR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Ew=class extends ww{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=H4(e.writeResults,e.commitTime),r=zs(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=U4(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>$4(this.serializer,r))};this.k_(t)}};var Iw=class{},bw=class extends Iw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,z_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,z_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Tw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(mo(t),this._a=!1):q("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var wu="RemoteStore",Dw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>y(this,null,function*(){Iu(this)&&(q(wu,"Restarting streams for network reachability change."),yield function(u){return y(this,null,function*(){let l=Ae(u);l.Ia.add(4),yield Eu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield wf(l)})}(this))}))}),this.Aa=new Tw(r,i)}};function wf(n){return y(this,null,function*(){if(Iu(n))for(let e of n.da)yield e(!0)})}function Eu(n){return y(this,null,function*(){for(let e of n.da)yield e(!1)})}function Iu(n){return Ae(n).Ia.size===0}function hM(n,e,t){return y(this,null,function*(){if(!_u(e))throw e;n.Ia.add(1),yield Eu(n),n.Aa.set("Offline"),t||(t=()=>X4(n.localStore)),n.asyncQueue.enqueueRetryable(()=>y(null,null,function*(){q(wu,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield wf(n)}))})}function fM(n,e){return e().catch(t=>hM(n,t,e))}function Ef(n){return y(this,null,function*(){let e=Ae(n),t=ci(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:jw;for(;nH(e);)try{let i=yield eH(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,rH(e,i)}catch(i){yield hM(e,i)}pM(e)&&gM(e)})}function nH(n){return Iu(n)&&n.Pa.length<10}function rH(n,e){n.Pa.push(e);let t=ci(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function pM(n){return Iu(n)&&!ci(n).M_()&&n.Pa.length>0}function gM(n){ci(n).start()}function iH(n){return y(this,null,function*(){ci(n).na()})}function oH(n){return y(this,null,function*(){let e=ci(n);for(let t of n.Pa)e.X_(t.mutations)})}function sH(n,e,t){return y(this,null,function*(){let r=n.Pa.shift(),i=U_.from(r,e,t);yield fM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ef(n)})}function aH(n,e){return y(this,null,function*(){e&&ci(n).Z_&&(yield function(r,i){return y(this,null,function*(){if(function(s){return k4(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();ci(r).N_(),yield fM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ef(r)}})}(n,e)),pM(n)&&gM(n)})}function uR(n,e){return y(this,null,function*(){let t=Ae(n);t.asyncQueue.verifyOperationInProgress(),q(wu,"RemoteStore received new credentials");let r=Iu(t);t.Ia.add(3),yield Eu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield wf(t)})}function cH(n,e){return y(this,null,function*(){let t=Ae(n);e?(t.Ia.delete(2),yield wf(t)):e||(t.Ia.add(2),yield Eu(t),t.Aa.set("Unknown"))})}function ci(n){return n.ma||(n.ma=function(t,r,i){let o=Ae(t);return o.ia(),new Ew(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:iH.bind(null,n),n_:aH.bind(null,n),ea:oH.bind(null,n),ta:sH.bind(null,n)}),n.da.push(e=>y(null,null,function*(){e?(n.ma.N_(),yield Ef(n)):(yield n.ma.stop(),n.Pa.length>0&&(q(wu,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Cw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mM(n,e){if(mo("AsyncQueue",`${e}: ${n}`),_u(n))return new K(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Sw=class{constructor(){this.queries=lR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Ae(t),o=i.queries;i.queries=lR(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new K(k.ABORTED,"Firestore shutting down"))}};function lR(){return new Tr(n=>ZR(n),YR)}function uH(n){n.Da.forEach(e=>{e.next()})}var dR,hR;(hR=dR||(dR={})).Fa="default",hR.Cache="cache";var lH="SyncEngine";var Aw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Tr(a=>ZR(a),YR),this.Tu=new Map,this.Iu=new Set,this.du=new en(ue.comparator),this.Eu=new Map,this.Au=new pu,this.Ru={},this.Vu=new Map,this.mu=fu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function dH(n,e,t){return y(this,null,function*(){let r=gH(n);try{let i=yield function(s,a){let u=Ae(s),l=tt.now(),f=a.reduce((v,C)=>v.add(C.key),_t()),g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=of(),N=_t();return u.Os.getEntries(v,f).next(P=>{C=P,C.forEach((G,se)=>{se.isValidDocument()||(N=N.add(G))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(P=>{g=P;let G=[];for(let se of a){let Q=P4(se,g.get(se.key).overlayedDocument);Q!=null&&G.push(new Dr(se.key,Q,zR(Q.value.mapValue),lo.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,G,a)}).next(P=>{m=P;let G=P.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(v,P.batchId,G)})}).then(()=>({batchId:m.batchId,changes:XR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new en(me)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),yield If(r,i.changes),yield Ef(r.remoteStore)}catch(i){let o=mM(i,"Failed to persist write");t.reject(o)}})}function fR(n,e,t){let r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Ae(s);u.onlineState=a;let l=!1;u.queries.forEach((f,g)=>{for(let m of g.wa)m.va(a)&&(l=!0)}),l&&uH(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hH(n,e){return y(this,null,function*(){let t=Ae(n),r=e.batch.batchId;try{let i=yield J4(t.localStore,e);yM(t,r,null),vM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield If(t,i)}catch(i){yield Vw(i)}})}function fH(n,e,t){return y(this,null,function*(){let r=Ae(n);try{let i=yield function(s,a){let u=Ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(g=>(Le(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);yM(r,e,t),vM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield If(r,i)}catch(i){yield Vw(i)}})}function vM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function yM(n,e,t){let r=Ae(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function If(n,e,t){return y(this,null,function*(){let r=Ae(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=lw.Es(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return y(this,null,function*(){let f=Ae(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>O.forEach(l,m=>O.forEach(m.Is,v=>f.persistence.referenceDelegate.addReference(g,m.targetId,v)).next(()=>O.forEach(m.ds,v=>f.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))}catch(g){if(!_u(g))throw g;q(Y4,"Failed to update sequence numbers: "+g)}for(let g of l){let m=g.targetId;if(!g.fromCache){let v=f.Fs.get(m),C=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(C);f.Fs=f.Fs.insert(m,N)}}})}(r.localStore,o))})}function pH(n,e){return y(this,null,function*(){let t=Ae(n);if(!t.currentUser.isEqual(e)){q(lH,"User change. New user:",e.toKey());let r=yield dM(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new K(k.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield If(t,r.Bs)}})}function gH(n){let e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fH.bind(null,e),e}var _M=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return y(this,null,function*(){this.serializer=_f(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Z4(this.persistence,new hw,t.initialUser,this.serializer)}Du(t){return new cf(uw.Vi,this.serializer)}bu(t){return new pw}terminate(){return y(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Rw=class extends _M{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof uf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Y_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new cf(r=>uf.Vi(r,t),this.serializer)}};var mH=(()=>{class n{initialize(t,r){return y(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pH.bind(null,this.syncEngine),yield cH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Sw}()}createDatastore(t){let r=_f(t.databaseInfo.databaseId),i=function(s){return new _w(s)}(t.databaseInfo);return function(s,a,u,l){return new bw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new Dw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>fR(this.syncEngine,r,0),function(){return df.C()?new df:new gw}())}createSyncEngine(t,r){return function(o,s,a,u,l,f,g){let m=new Aw(o,s,a,u,l,f);return g&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return y(this,null,function*(){var t,r;yield function(o){return y(this,null,function*(){let s=Ae(o);q(wu,"RemoteStore shutting down."),s.Ia.add(5),yield Eu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ui="FirestoreClient",Mw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=cu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>y(this,null,function*(){q(ui,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q(ui,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=mM(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function d_(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q(ui,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>y(null,null,function*(){r.isEqual(i)||(yield dM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Ws("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{q("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ws("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function pR(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield vH(n);q(ui,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>uR(e.remoteStore,i)),n._onlineComponents=e})}function vH(n){return y(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q(ui,"Using user provided OfflineComponentProvider");try{yield d_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ws("Error using user provided cache. Falling back to memory cache: "+t),yield d_(n,new _M)}}else q(ui,"Using default OfflineComponentProvider"),yield d_(n,new Rw(void 0));return n._offlineComponents})}function yH(n){return y(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q(ui,"Using user provided OnlineComponentProvider"),yield pR(n,n._uninitializedComponentsProvider._online)):(q(ui,"Using default OnlineComponentProvider"),yield pR(n,new mH))),n._onlineComponents})}function _H(n){return yH(n).then(e=>e.syncEngine)}function wM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var gR=new Map;var EM="firestore.googleapis.com",mR=!0,ff=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EM,this.ssl=mR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:mR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K4)throw new K(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ff({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ff(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new h_;switch(r.type){case"firstParty":return new m_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=gR.get(t);r&&(q("ComponentProvider","Removing Datastore"),gR.delete(t),r.terminate())}(this),Promise.resolve()}};function IM(n,e,t,r={}){var i;n=__(n,gu);let o=Yr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(mh(`https://${u}`),vh("Firestore",!0)),s.host!==EM&&s.host!==u&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Bn(l,a)&&(n._setSettings(l),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=ct.MOCK_USER;else{f=YC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new K(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ct(m)}n._authCredentials=new f_(new Zh(f,g))}}var Nw=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Xt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(yu(t,n._jsonSchema))return new n(e,r||null,new ue(et.fromString(t.referencePath)))}};Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Qe("string",Xt._jsonSchemaVersion),referencePath:Qe("string")};var mu=class n extends Nw{constructor(e,t,r){super(e,t,y4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ue(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function bM(n,e,...t){if(n=ft(n),arguments.length===1&&(e=cu.newId()),K$("doc","path",e),n instanceof gu){let r=et.fromString(e,...t);return $A(r),new Xt(n,null,new ue(r))}{if(!(n instanceof Xt||n instanceof mu))throw new K(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(et.fromString(e,...t));return $A(r),new Xt(n.firestore,n instanceof mu?n.converter:null,new ue(r))}}var vR="AsyncQueue",pf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hf(this,"async_queue_retry"),this.oc=()=>{let r=l_();r&&q(vR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=l_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=l_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Ir;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return y(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!_u(e))throw e;q(vR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,mo("INTERNAL UNHANDLED ERROR: ",yR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Cw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:yR(this.tc)})}verifyOperationInProgress(){}Pc(){return y(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function yR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var gf=class extends gu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return y(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new pf(e),this._firestoreClient=void 0,yield e}})}};function TM(n,e){let t=typeof n=="object"?n:to(),r=typeof n=="string"?n:e||nf,i=Ps(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=QC("firestore");o&&IM(i,...o)}return i}function wH(n){if(n._terminated)throw new K(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||EH(n),n._firestoreClient}function EH(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,f){return new b_(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,wM(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Mw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ho=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(br.fromBase64String(e))}catch(t){throw new K(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ho._jsonSchemaVersion="firestore/bytes/1.0",ho._jsonSchema={type:Qe("string",ho._jsonSchemaVersion),bytes:Qe("string")};var vu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var mf=class{constructor(e){this._methodName=e}};var fo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(yu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};fo._jsonSchemaVersion="firestore/geoPoint/1.0",fo._jsonSchema={type:Qe("string",fo._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};var po=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new K(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};po._jsonSchemaVersion="firestore/vectorValue/1.0",po._jsonSchema={type:Qe("string",po._jsonSchemaVersion),vectorValues:Qe("object")};var IH=/^__.*__$/,xw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Io(e,this.data,t,this.fieldTransforms)}};function DM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:n})}}var Pw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return vf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(DM(this.Ec)&&IH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},kw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_f(e)}Dc(e,t,r,i=!1){return new Pw({Ec:e,methodName:t,bc:r,path:Jt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function bH(n){let e=n._freezeSettings(),t=_f(n._databaseId);return new kw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TH(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);RM("Data must be an object, but it was:",s,r);let a=SM(r,s),u,l;if(o.merge)u=new Wn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let m=DH(e,g,t);if(!s.contains(m))throw new K(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);SH(f,m)||f.push(m)}u=new Wn(f),l=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=s.fieldTransforms;return new xw(new Gn(a),u,l)}function CM(n,e){if(AM(n=ft(n)))return RM("Unsupported field value:",e,n),SM(n,e);if(n instanceof mf)return function(r,i){if(!DM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=CM(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=tt.fromDate(r);return{timestampValue:H_(i.serializer,o)}}if(r instanceof tt){let o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:H_(i.serializer,o)}}if(r instanceof fo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ho)return{bytesValue:F4(i.serializer,r._byteString)};if(r instanceof Xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cM(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof po)return function(s,a){return{mapValue:{fields:{[Hw]:{stringValue:zw},[du]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Qw(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Lw(r)}`)}(n,e)}function SM(n,e){let t={};return FR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(n,(r,i)=>{let o=CM(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function AM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof fo||n instanceof ho||n instanceof Xt||n instanceof mf||n instanceof po)}function RM(n,e,t){if(!AM(t)||!wR(t)){let r=Lw(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function DH(n,e,t){if((e=ft(e))instanceof vu)return e._internalPath;if(typeof e=="string")return MM(n,e);throw vf("Field path arguments must be of type string or ",n,!1,void 0,t)}var CH=new RegExp("[~\\*/\\[\\]]");function MM(n,e,t){if(e.search(CH)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vu(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new K(k.INVALID_ARGUMENT,a+n+u)}function SH(n,e){return n.some(t=>t.isEqual(e))}var yf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ow(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(NM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ow=class extends yf{data(){return super.data()}};function NM(n,e){return typeof e=="string"?MM(n,e):e instanceof vu?e._internalPath:e._delegate._internalPath}function AH(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Hs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},qs=class n extends yf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(NM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Qe("string",qs._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var Gs=class extends qs{data(e={}){return super.data(e)}},au=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Hs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gs(this._firestore,this._userDataWriter,r.key,r,new Hs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:RH(a.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function RH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:n})}}au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:Qe("string",au._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};function xM(n,e,t){n=__(n,Xt);let r=__(n.firestore,gf),i=AH(n.converter,e,t);return MH(r,[TH(bH(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,lo.none())])}function MH(n,e){return function(r,i){let o=new Ir;return r.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return dH(yield _H(r),i,o)})),o.promise}(wH(n),e)}(function(e,t=!0){(function(i){oa=i})(Jr),bn(new At("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new gf(new p_(r.getProvider("auth-internal")),new v_(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T_(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oe(VA,jA,e),Oe(VA,jA,"esm2017")})();var bo=class{constructor(e){return e}},PM="firestore",Yw=class{constructor(){return Os(PM)}};var Zw=new j("angularfire2.firestore-instances");function NH(n,e){let t=Hc(PM,n,e);return t&&new bo(t)}function xH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new bo(r)}}var PH={provide:Yw,deps:[[new qt,Zw]]},kH={provide:bo,useFactory:NH,deps:[[new qt,Zw],mr]};function kM(n,...e){return Oe("angularfire",Xr.full,"fst"),an([kH,PH,{provide:Zw,useFactory:xH(n),multi:!0,deps:[_e,He,ei,ro,[new qt,eu],[new qt,Fs],...e]}])}var OM=Ut(bM,!0,2);var FM=Ut(TM,!0);var LM=Ut(xM,!0,2);var li={production:!1,firebaseConfig:{apiKey:"AIzaSyBEwvAob-AF2_HNFhri2y55HkY-HVOEeDA",authDomain:"catalogo-peliculas-39628.firebaseapp.com",projectId:"catalogo-peliculas-39628",storageBucket:"catalogo-peliculas-39628.firebasestorage.app",messagingSenderId:"844106454962",appId:"1:844106454962:web:49befd1ca1c114de47b6ab",measurementId:"G-41V53JY73R"},apiUrl:"https://us-central1-catalogo-peliculas-39628.cloudfunctions.net/api"};var GM=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(W(ji),W(Vr))};static \u0275dir=ht({type:n})}return n})(),FH=(()=>{class n extends GM{static \u0275fac=(()=>{let t;return function(i){return(t||(t=nc(n)))(i||n)}})();static \u0275dir=ht({type:n,features:[fr]})}return n})(),iE=new j("");var LH={provide:iE,useExisting:Li(()=>Yn),multi:!0};function VH(){let n=cn()?cn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var jH=new j(""),Yn=(()=>{class n extends GM{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!VH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(W(ji),W(Vr),W(jH,8))};static \u0275dir=ht({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[oc([LH]),fr]})}return n})();function oE(n){return n==null||sE(n)===0}function sE(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var aE=new j(""),cE=new j(""),UH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nt=class{static min(e){return BH(e)}static max(e){return $H(e)}static required(e){return HH(e)}static requiredTrue(e){return zH(e)}static email(e){return qH(e)}static minLength(e){return GH(e)}static maxLength(e){return WH(e)}static pattern(e){return KH(e)}static nullValidator(e){return WM()}static compose(e){return XM(e)}static composeAsync(e){return tN(e)}};function BH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function $H(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function HH(n){return oE(n.value)?{required:!0}:null}function zH(n){return n.value===!0?null:{required:!0}}function qH(n){return oE(n.value)||UH.test(n.value)?null:{email:!0}}function GH(n){return e=>{let t=e.value?.length??sE(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function WH(n){return e=>{let t=e.value?.length??sE(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function KH(n){if(!n)return WM;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(oE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function WM(n){return null}function KM(n){return n!=null}function QM(n){return Ui(n)?ye(n):n}function YM(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function ZM(n,e){return e.map(t=>t(n))}function QH(n){return!n.validate}function JM(n){return n.map(e=>QH(e)?e:t=>e.validate(t))}function XM(n){if(!n)return null;let e=n.filter(KM);return e.length==0?null:function(t){return YM(ZM(t,e))}}function eN(n){return n!=null?XM(JM(n)):null}function tN(n){if(!n)return null;let e=n.filter(KM);return e.length==0?null:function(t){let r=ZM(t,e).map(QM);return Zp(r).pipe(ie(YM))}}function nN(n){return n!=null?tN(JM(n)):null}function VM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rN(n){return n._rawValidators}function iN(n){return n._rawAsyncValidators}function Jw(n){return n?Array.isArray(n)?n:[n]:[]}function Tf(n,e){return Array.isArray(n)?n.includes(e):n===e}function jM(n,e){let t=Jw(e);return Jw(n).forEach(i=>{Tf(t,i)||t.push(i)}),t}function UM(n,e){return Jw(e).filter(t=>!Tf(n,t))}var Df=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},To=class extends Df{name;get formDirective(){return null}get path(){return null}},Do=class extends Df{_parent=null;name=null;valueAccessor=null},Cf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},YH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},KX=J(F({},YH),{"[class.ng-submitted]":"isSubmitted"}),hi=(()=>{class n extends Cf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(Do,2))};static \u0275dir=ht({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[fr]})}return n})(),la=(()=>{class n extends Cf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(To,10))};static \u0275dir=ht({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&wd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[fr]})}return n})();var bu="VALID",bf="INVALID",aa="PENDING",Tu="DISABLED",di=class{},Sf=class extends di{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Du=class extends di{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Cu=class extends di{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ca=class extends di{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Xw=class extends di{source;constructor(e){super(),this.source=e}},eE=class extends di{source;constructor(e){super(),this.source=e}};function uE(n){return(Nf(n)?n.validators:n)||null}function ZH(n){return Array.isArray(n)?eN(n):n||null}function lE(n,e){return(Nf(e)?e.asyncValidators:n)||null}function JH(n){return Array.isArray(n)?nN(n):n||null}function Nf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function oN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function sN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var ua=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return On(this.statusReactive)}set status(e){On(()=>this.statusReactive.set(e))}_status=gs(()=>this.statusReactive());statusReactive=us(void 0);get valid(){return this.status===bu}get invalid(){return this.status===bf}get pending(){return this.status==aa}get disabled(){return this.status===Tu}get enabled(){return this.status!==Tu}errors;get pristine(){return On(this.pristineReactive)}set pristine(e){On(()=>this.pristineReactive.set(e))}_pristine=gs(()=>this.pristineReactive());pristineReactive=us(!0);get dirty(){return!this.pristine}get touched(){return On(this.touchedReactive)}set touched(e){On(()=>this.touchedReactive.set(e))}_touched=gs(()=>this.touchedReactive());touchedReactive=us(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UM(e,this._rawAsyncValidators))}hasValidator(e){return Tf(this._rawValidators,e)}hasAsyncValidator(e){return Tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(J(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Cu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Cu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(J(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Du(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Du(!0,r))}markAsPending(e={}){this.status=aa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ca(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(J(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this.errors=null,this._forEachChild(i=>{i.disable(J(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,r)),this._events.next(new ca(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=bu,this._forEachChild(r=>{r.enable(J(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(J(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bu||this.status===aa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,t)),this._events.next(new ca(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(J(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tu:bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=aa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=QM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ca(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?Tu:this.errors?bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(aa)?aa:this._anyControlsHaveStatus(bf)?bf:bu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Du(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Cu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ZH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=JH(this._rawAsyncValidators)}},Af=class extends ua{constructor(e,t,r){super(uE(t),lE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sN(this,!0,e),Object.keys(e).forEach(r=>{oN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tE=class extends Af{};var xf=new j("",{providedIn:"root",factory:()=>Pf}),Pf="always";function aN(n,e){return[...e.path,n]}function nE(n,e,t=Pf){dE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),e3(n,e),n3(n,e),t3(n,e),XH(n,e)}function BM(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function dE(n,e){let t=rN(n);e.validator!==null?n.setValidators(VM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=iN(n);e.asyncValidator!==null?n.setAsyncValidators(VM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Rf(e._rawValidators,i),Rf(e._rawAsyncValidators,i)}function Mf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=rN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=iN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Rf(e._rawValidators,r),Rf(e._rawAsyncValidators,r),t}function e3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cN(n,e)})}function t3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function n3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function r3(n,e){n==null,dE(n,e)}function i3(n,e){return Mf(n,e)}function uN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function o3(n){return Object.getPrototypeOf(n.constructor)===FH}function s3(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lN(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Yn?t=o:o3(o)?r=o:i=o}),i||r||t||null}function a3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $M(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Su=class extends ua{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(uE(t),lE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(HM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$M(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$M(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){HM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var c3=n=>n instanceof Su;var u3={provide:Do,useExisting:Li(()=>hE)},zM=Promise.resolve(),hE=(()=>{class n extends Do{_changeDetectorRef;callSetDisabledState;control=new Su;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new De;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&$i(r);zM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aN(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(W(To,9),W(aE,10),W(cE,10),W(iE,10),W(Bi,8),W(xf,8))};static \u0275dir=ht({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[oc([u3]),fr,yn]})}return n})();var da=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ht({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var dN=new j("");var l3={provide:To,useExisting:Li(()=>Co)},Co=(()=>{class n extends To{callSetDisabledState;get submitted(){return On(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=gs(()=>this._submittedReactive());_submittedReactive=us(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new De;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return nE(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){BM(t.control||null,t,!1),a3(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),s3(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Xw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new eE(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(BM(r||null,t),c3(i)&&(nE(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);r3(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&i3(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dE(this.form,this),this._oldForm&&Mf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(W(aE,10),W(cE,10),W(xf,8))};static \u0275dir=ht({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[oc([l3]),fr,yn]})}return n})();var d3={provide:Do,useExisting:Li(()=>So)},So=(()=>{class n extends Do{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new De;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lN(this,o)}ngOnChanges(t){this._added||this._setUpControl(),uN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return aN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(W(To,13),W(aE,10),W(cE,10),W(iE,10),W(dN,8))};static \u0275dir=ht({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[oc([d3]),fr,yn]})}return n})();var hN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=zt({})}return n})(),rE=class extends ua{constructor(e,t,r){super(uE(t),lE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sN(this,!1,e),e.forEach((r,i)=>{oN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ha=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return qM(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Af(i,o)}record(t,r=null){let i=this._reduceControls(t);return new tE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(qM(r)?o=r:(o.validators=r,o.asyncValidators=i),new Su(t,J(F({},o),{nonNullable:!0}))):new Su(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new rE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Su)return t;if(t instanceof ua)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kf=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xf,useValue:t.callSetDisabledState??Pf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=zt({imports:[hN]})}return n})(),fa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xf,useValue:t.callSetDisabledState??Pf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=zt({imports:[hN]})}return n})();var Bt=class n{constructor(e,t){this.afAuth=e;this.firestore=t;this.initializeAuth()}currentUserSubject=new Ze(null);currentUser$=this.currentUserSubject.asObservable();authInitialized=!1;initializeAuth(){return y(this,null,function*(){return new Promise(e=>{let t=NA(this.afAuth,r=>{this.currentUserSubject.next(r),this.authInitialized||(this.authInitialized=!0,e())})})})}login(e,t){return y(this,null,function*(){return yield xA(this.afAuth,e,t)})}getToken(){return y(this,null,function*(){yield this.waitForAuth();let e=this.afAuth.currentUser;if(e)try{return yield e.getIdToken()}catch(t){return console.error("Error al obtener token:",t),yield this.logout(),null}return null})}logout(){return y(this,null,function*(){yield PA(this.afAuth),this.currentUserSubject.next(null)})}register(e,t,r){return ye(RA(this.afAuth,e,t).then(i=>y(this,null,function*(){if(i.user){yield kA(i.user,{displayName:r});let o=OM(this.firestore,`users/${i.user.uid}`);yield LM(o,{uid:i.user.uid,name:r,email:e,createdAt:new Date})}return i})))}getCurrentUser(){return y(this,null,function*(){return yield this.waitForAuth(),this.afAuth.currentUser})}isAuthenticated(){return y(this,null,function*(){return yield this.waitForAuth(),this.afAuth.currentUser!==null})}waitForAuth(){return y(this,null,function*(){return this.authInitialized||(yield this.initializeAuth()),this.afAuth.currentUser})}isTokenValid(){return y(this,null,function*(){try{return(yield this.getToken())!==null}catch{return!1}})}refreshToken(){return y(this,null,function*(){let e=this.afAuth.currentUser;if(e)try{return yield e.getIdToken(!0)}catch(t){return console.error("Error al renovar token:",t),null}return null})}static \u0275fac=function(t){return new(t||n)(H(Dn),H(bo))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ff=class n{constructor(e,t){this.http=e;this.auth=t}createMovie(e){throw new Error("Method not implemented.")}baseUrl=`${li.apiUrl}/movies`;search(e){return this.http.get(`${this.baseUrl}/search?title=${e}`)}getFavorites(){return ye(this.auth.getToken()).pipe(Je(e=>this.http.get(`${this.baseUrl}/favorites`,{headers:new Lt().set("Authorization",`Bearer ${e}`)})))}addMovie(e){return ye(this.auth.getToken()).pipe(Je(t=>this.http.post(`${this.baseUrl}`,e,{headers:new Lt().set("Authorization",`Bearer ${t}`)})))}getPublicMovies(){return this.http.get(`${this.baseUrl}/public`)}getMovies(){return ye(this.auth.getToken()).pipe(Je(e=>this.http.get(`${this.baseUrl}`,{headers:new Lt().set("Authorization",`Bearer ${e}`)})))}static \u0275fac=function(t){return new(t||n)(H(_s),H(Bt))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function f3(n,e){if(n&1&&re(0,"img",16),n&2){let t=Ne().$implicit;Bm("alt",t.Title),z("src",t.Poster==="N/A"?"https://via.placeholder.com/300x450?text=No+Poster":t.Poster,Ur)}}function p3(n,e){if(n&1&&(M(0,"div",7)(1,"div",8),we(2,f3,1,2,"img",9),re(3,"div",10),R(),M(4,"div",11)(5,"h3",12),B(6),R(),M(7,"div",13)(8,"span",14),B(9),R(),M(10,"span",15),B(11),R()()()()),n&2){let t=e.$implicit;V(2),z("ngIf",t.Poster),V(4),Wt(t.Title),V(3),Wt(t.Year),V(2),Wt(t.Type)}}function g3(n,e){n&1&&(M(0,"div",17)(1,"p",18),B(2,"No movies found. Try searching for something!"),R()())}var Lf=class n{constructor(e){this.movieService=e}searchTitle="";movies=[];ngOnInit(){this.movieService.getPublicMovies().subscribe(e=>{this.movies=Array.isArray(e)?e:[e]})}searchMovie(){this.searchTitle.trim()&&this.movieService.search(this.searchTitle).subscribe(e=>{this.movies=Array.isArray(e)?e:[e]})}static \u0275fac=function(t){return new(t||n)(W(Ff))};static \u0275cmp=ze({type:n,selectors:[["app-home"]],decls:8,vars:2,consts:[[1,"min-h-screen","flex","items-center","justify-center","p-4","bg-gradient-to-br","from-slate-800","via-slate-700","to-slate-600"],[1,"max-w-7xl","mx-auto"],[1,"glass-container","mb-10","p-4","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-6"],["class","glass-container group relative overflow-hidden rounded-2xl backdrop-blur-lg bg-white/10 border border-white/20 shadow-xl hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-500 hover:-translate-y-2",4,"ngFor","ngForOf"],["class","glass-container p-8 rounded-2xl backdrop-blur-lg bg-white/10 border border-white/20 text-center",4,"ngIf"],[1,"glass-container","group","relative","overflow-hidden","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl","hover:shadow-2xl","hover:shadow-purple-500/20","transition-all","duration-500","hover:-translate-y-2"],[1,"relative"],["class","w-full h-80 object-cover transition-all duration-500 group-hover:scale-105",3,"src","alt",4,"ngIf"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/70","via-transparent","to-transparent"],[1,"p-4"],[1,"text-xl","font-bold","text-white","truncate"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-sm","text-white/80"],[1,"text-xs","px-2","py-1","rounded-full","bg-pink-600/90","text-white"],[1,"w-full","h-80","object-cover","transition-all","duration-500","group-hover:scale-105",3,"src","alt"],[1,"glass-container","p-8","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","text-center"],[1,"text-white/80"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),B(4,"Encuentra tus pel\xEDculas favoritas "),R()(),M(5,"div",4),we(6,p3,12,4,"div",5),R(),we(7,g3,3,0,"div",6),R()()),t&2&&(V(6),z("ngForOf",r.movies),V(),z("ngIf",r.movies.length===0))},dependencies:[Ft,Hr,Kt,kf],encapsulation:2})};var m3=()=>["/register"];function v3(n,e){n&1&&(M(0,"span"),B(1,"El correo es obligatorio."),R())}function y3(n,e){n&1&&(M(0,"span"),B(1,"Correo inv\xE1lido."),R())}function _3(n,e){if(n&1&&(M(0,"div",12),we(1,v3,2,0,"span",13)(2,y3,2,0,"span",13),R()),n&2){let t=Ne();V(),z("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),V(),z("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function w3(n,e){n&1&&(M(0,"span"),B(1,"La contrase\xF1a es obligatoria."),R())}function E3(n,e){n&1&&(M(0,"span"),B(1,"Debe tener al menos 6 caracteres."),R())}function I3(n,e){if(n&1&&(M(0,"div",12),we(1,w3,2,0,"span",13)(2,E3,2,0,"span",13),R()),n&2){let t=Ne();V(),z("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),V(),z("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength)}}var Vf=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.loginForm=this.fb.group({email:["",[nt.required,nt.email]],password:["",[nt.required,nt.minLength(6)]]})}loginForm;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}login(){if(this.loginForm.invalid)return;let{email:e,password:t}=this.loginForm.value;this.auth.login(e,t).then(r=>y(this,null,function*(){let i=yield r.user?.getIdToken();i&&localStorage.setItem("token",i),alert("Bienvenido"),this.router.navigate(["/dashboard"])})).catch(r=>{alert("Error al iniciar sesi\xF3n: "+r.message)})}static \u0275fac=function(t){return new(t||n)(W(ha),W(Bt),W(st))};static \u0275cmp=ze({type:n,selectors:[["app-login"]],decls:20,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","p-4","bg-gradient-to-br","from-slate-800","via-slate-700","to-slate-600"],[1,"glass-container","w-full","max-w-md","p-8","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-white","mb-2"],[1,"text-white/80"],[1,"space-y-5",3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","Correo electr\xF3nico",1,"glass-input","w-full","px-4","py-3","rounded-xl","bg-white/20","backdrop-blur-sm","border","border-white/30","text-white","placeholder-white/70","focus:outline-none","focus:ring-2","focus:ring-pink-400"],["class","text-pink-300 text-sm mt-1 ml-1",4,"ngIf"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"glass-input","w-full","px-4","py-3","rounded-xl","bg-white/20","backdrop-blur-sm","border","border-white/30","text-white","placeholder-white/70","focus:outline-none","focus:ring-2","focus:ring-pink-400"],["type","submit",1,"glass-button","w-full","px-6","py-3","rounded-xl","bg-pink-600/90","hover:bg-pink-700/90","text-white","font-medium","transition-all","duration-300","hover:shadow-lg","hover:shadow-pink-500/30","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-sm","text-white/80","text-center","mt-6"],[1,"text-pink-300","hover:text-pink-400","transition-colors","duration-200","font-medium",3,"routerLink"],[1,"text-pink-300","text-sm","mt-1","ml-1"],[4,"ngIf"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),B(4,"Iniciar Sesi\xF3n"),R(),M(5,"p",4),B(6,"Accede a tu cuenta para continuar"),R()(),M(7,"form",5),Ie("ngSubmit",function(){return r.login()}),M(8,"div"),re(9,"input",6),we(10,_3,3,2,"div",7),R(),M(11,"div"),re(12,"input",8),we(13,I3,3,2,"div",7),R(),M(14,"button",9),B(15," Iniciar sesi\xF3n "),R(),M(16,"p",10),B(17," \xBFNo tienes cuenta? "),M(18,"a",11),B(19," Reg\xEDstrate "),R()()()()()),t&2&&(V(7),z("formGroup",r.loginForm),V(3),z("ngIf",(r.email==null?null:r.email.touched)&&(r.email==null?null:r.email.invalid)),V(3),z("ngIf",(r.password==null?null:r.password.touched)&&(r.password==null?null:r.password.invalid)),V(),z("disabled",r.loginForm.invalid),V(4),z("routerLink",Br(5,m3)))},dependencies:[Ft,Kt,fa,da,Yn,hi,la,Co,So,Qr],encapsulation:2})};var b3=()=>["/login"];function T3(n,e){n&1&&(M(0,"span"),B(1,"El nombre es obligatorio."),R())}function D3(n,e){if(n&1&&(M(0,"div",16),we(1,T3,2,0,"span",12),R()),n&2){let t=Ne();V(),z("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.required)}}function C3(n,e){n&1&&(M(0,"span"),B(1,"El correo es obligatorio."),R())}function S3(n,e){n&1&&(M(0,"span"),B(1,"Correo inv\xE1lido."),R())}function A3(n,e){if(n&1&&(M(0,"div",16),we(1,C3,2,0,"span",12)(2,S3,2,0,"span",12),R()),n&2){let t=Ne();V(),z("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),V(),z("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function R3(n,e){n&1&&(M(0,"span"),B(1,"La contrase\xF1a es obligatoria."),R())}function M3(n,e){n&1&&(M(0,"span"),B(1,"Debe tener al menos 6 caracteres."),R())}function N3(n,e){if(n&1&&(M(0,"div",16),we(1,R3,2,0,"span",12)(2,M3,2,0,"span",12),R()),n&2){let t=Ne();V(),z("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),V(),z("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength)}}function x3(n,e){if(n&1&&(M(0,"div",17),B(1),R()),n&2){let t=Ne();V(),St(" ",t.errorMessage," ")}}function P3(n,e){n&1&&(M(0,"span"),B(1,"Registrarse"),R())}function k3(n,e){n&1&&re(0,"span",18)}var jf=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.registerForm=this.fb.group({name:["",nt.required],email:["",[nt.required,nt.email]],password:["",[nt.required,nt.minLength(6)]]})}registerForm;loading=!1;errorMessage="";get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}register(){if(this.registerForm.invalid)return;this.loading=!0,this.errorMessage="";let{name:e,email:t,password:r}=this.registerForm.value;this.auth.register(t,r,e).subscribe({next:()=>{this.loading=!1,alert("\xA1Registro exitoso! Bienvenido a la plataforma."),this.router.navigate(["/dashboard"])},error:i=>{this.loading=!1,console.error("Error al registrar:",i);let o="";i.code==="auth/email-already-in-use"?o="Este email ya est\xE1 registrado. Intenta con otro email o inicia sesi\xF3n.":i.code==="auth/weak-password"?o="La contrase\xF1a debe tener al menos 6 caracteres.":i.code==="auth/invalid-email"?o="El formato del email no es v\xE1lido.":i.code==="auth/operation-not-allowed"?o="El registro con email y contrase\xF1a no est\xE1 habilitado.":i.code==="auth/too-many-requests"?o="Demasiados intentos fallidos. Intenta m\xE1s tarde.":o="Ocurri\xF3 un error inesperado. Intenta nuevamente.",this.errorMessage=o}})}clearError(){this.errorMessage=""}static \u0275fac=function(t){return new(t||n)(W(ha),W(Bt),W(st))};static \u0275cmp=ze({type:n,selectors:[["app-register"]],decls:25,vars:10,consts:[[1,"min-h-screen","flex","items-center","justify-center","p-4","bg-gradient-to-br","from-slate-800","via-slate-700","to-slate-600"],[1,"glass-container","w-full","max-w-md","p-8","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-white","mb-2"],[1,"text-white/80"],[1,"space-y-5",3,"ngSubmit","formGroup"],["type","text","formControlName","name","placeholder","Nombre completo",1,"glass-input","w-full","px-4","py-3","rounded-xl","bg-white/20","backdrop-blur-sm","border","border-white/30","text-white","placeholder-white/70","focus:outline-none","focus:ring-2","focus:ring-pink-400",3,"focus"],["class","text-pink-300 text-sm mt-1 ml-1",4,"ngIf"],["type","email","formControlName","email","placeholder","Correo electr\xF3nico",1,"glass-input","w-full","px-4","py-3","rounded-xl","bg-white/20","backdrop-blur-sm","border","border-white/30","text-white","placeholder-white/70","focus:outline-none","focus:ring-2","focus:ring-pink-400",3,"focus"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"glass-input","w-full","px-4","py-3","rounded-xl","bg-white/20","backdrop-blur-sm","border","border-white/30","text-white","placeholder-white/70","focus:outline-none","focus:ring-2","focus:ring-pink-400",3,"focus"],["class","text-pink-300 text-sm text-center p-3 rounded-lg bg-pink-900/30",4,"ngIf"],["type","submit",1,"glass-button","w-full","px-6","py-3","rounded-xl","bg-pink-600/90","hover:bg-pink-700/90","text-white","font-medium","transition-all","duration-300","hover:shadow-lg","hover:shadow-pink-500/30","disabled:opacity-50","disabled:cursor-not-allowed","flex","justify-center","items-center",3,"disabled"],[4,"ngIf"],["class","loading loading-spinner loading-sm",4,"ngIf"],[1,"text-sm","text-white/80","text-center","mt-6"],[1,"text-pink-300","hover:text-pink-400","transition-colors","duration-200","font-medium",3,"routerLink"],[1,"text-pink-300","text-sm","mt-1","ml-1"],[1,"text-pink-300","text-sm","text-center","p-3","rounded-lg","bg-pink-900/30"],[1,"loading","loading-spinner","loading-sm"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),B(4,"Crear Cuenta"),R(),M(5,"p",4),B(6,"\xDAnete a nuestra plataforma"),R()(),M(7,"form",5),Ie("ngSubmit",function(){return r.register()}),M(8,"div")(9,"input",6),Ie("focus",function(){return r.clearError()}),R(),we(10,D3,2,1,"div",7),R(),M(11,"div")(12,"input",8),Ie("focus",function(){return r.clearError()}),R(),we(13,A3,3,2,"div",7),R(),M(14,"div")(15,"input",9),Ie("focus",function(){return r.clearError()}),R(),we(16,N3,3,2,"div",7),R(),we(17,x3,2,1,"div",10),M(18,"button",11),we(19,P3,2,0,"span",12)(20,k3,1,0,"span",13),R(),M(21,"p",14),B(22," \xBFYa tienes cuenta? "),M(23,"a",15),B(24," Inicia sesi\xF3n "),R()()()()()),t&2&&(V(7),z("formGroup",r.registerForm),V(3),z("ngIf",(r.name==null?null:r.name.touched)&&(r.name==null?null:r.name.invalid)),V(3),z("ngIf",(r.email==null?null:r.email.touched)&&(r.email==null?null:r.email.invalid)),V(3),z("ngIf",(r.password==null?null:r.password.touched)&&(r.password==null?null:r.password.invalid)),V(),z("ngIf",r.errorMessage),V(),z("disabled",r.registerForm.invalid||r.loading),V(),z("ngIf",!r.loading),V(),z("ngIf",r.loading),V(3),z("routerLink",Br(9,b3)))},dependencies:[Ft,Kt,fa,da,Yn,hi,la,Co,So,Qr],encapsulation:2})};var Uf=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return y(this,null,function*(){try{return yield this.authService.waitForAuth(),(yield this.authService.isAuthenticated())?(yield this.authService.isTokenValid())?!0:(console.log("Token inv\xE1lido, intentando renovar..."),(yield this.authService.refreshToken())?!0:(console.log("No se pudo renovar el token, redirigiendo al login"),this.router.navigate(["/login"]),!1)):(console.log("Usuario no autenticado, redirigiendo al login"),this.router.navigate(["/login"]),!1)}catch(e){return console.error("Error en AuthGuard:",e),this.router.navigate(["/login"]),!1}})}static \u0275fac=function(t){return new(t||n)(H(Bt),H(st))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var Zn=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl=`${li.apiUrl}/movies`;getAuthHeaders(){return y(this,null,function*(){let e=yield this.authService.getToken();return new Lt().set("Authorization",`Bearer ${e}`)})}createMovie(e){return y(this,null,function*(){let t=yield this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let r=yield this.getAuthHeaders(),i=J(F({},e),{userId:t.uid});yield Ii(this.http.post(`${this.baseUrl}`,i,{headers:r}))})}getMovies(){return y(this,null,function*(){let e=yield this.getAuthHeaders();return yield Ii(this.http.get(this.baseUrl,{headers:e}))})}getMoviesByUser(){return y(this,null,function*(){return this.getMovies()})}getPublicMovies(){return this.http.get(`${this.baseUrl}/public`)}updateMovie(e){return y(this,null,function*(){let t=yield this.getAuthHeaders();yield Ii(this.http.put(`${this.baseUrl}/${e.id}`,e,{headers:t}))})}deleteMovie(e){return y(this,null,function*(){let t=yield this.getAuthHeaders();yield Ii(this.http.delete(`${this.baseUrl}/${e}`,{headers:t}))})}searchMovies(e,t=1){return y(this,null,function*(){let r=yield this.getAuthHeaders();return yield Ii(this.http.get(`${this.baseUrl}/search`,{headers:r,params:{query:e,page:t.toString()}}))})}static \u0275fac=function(t){return new(t||n)(H(_s),H(Bt))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function O3(n,e){n&1&&(M(0,"div",16),B(1," T\xEDtulo requerido "),R())}function F3(n,e){if(n&1&&(M(0,"div",16),B(1),R()),n&2){let t,r=Ne();V(),St(" ",!((t=r.movieForm.get("year"))==null||t.errors==null)&&t.errors.required?"A\xF1o requerido":"Formato inv\xE1lido (ej: 2023)"," ")}}function L3(n,e){n&1&&(M(0,"div",16),B(1," Director requerido "),R())}function V3(n,e){n&1&&(M(0,"div",16),B(1," G\xE9nero requerido "),R())}function j3(n,e){n&1&&(ot(),M(0,"svg",17),re(1,"path",18),R())}var $f=class n{constructor(e,t,r){this.fb=e;this.movieService=t;this.auth=r}movieToEdit=null;onSave=new De;refreshList=new De;onCancel=new De;movieForm;loading=!1;ngOnInit(){this.movieForm=this.fb.group({title:[this.movieToEdit?.title||"",nt.required],year:[this.movieToEdit?.year||"",[nt.required,nt.pattern(/^\d{4}$/)]],director:[this.movieToEdit?.director||"",nt.required],genre:[this.movieToEdit?.genre||"",nt.required]})}submit(){return y(this,null,function*(){if(this.movieForm.invalid)return;this.loading=!0;let e=this.movieForm.value,t=this.auth.currentUser;if(!t)return;let r=J(F({},e),{userId:t.uid});try{this.movieToEdit?yield this.movieService.updateMovie(J(F({},r),{id:this.movieToEdit.id})):yield this.movieService.createMovie(r),this.movieForm.reset(),this.onSave.emit(),this.refreshList.emit()}catch(i){console.error("Error al guardar pel\xEDcula:",i)}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(W(ha),W(Zn),W(Dn))};static \u0275cmp=ze({type:n,selectors:[["app-movie-form"]],inputs:{movieToEdit:"movieToEdit"},outputs:{onSave:"onSave",refreshList:"refreshList",onCancel:"onCancel"},decls:32,vars:9,consts:[[1,"glass-container","max-w-md","mx-auto","p-8","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl","relative"],["aria-label","Cerrar formulario",1,"absolute","top-4","right-4","text-white/70","hover:text-white","transition-colors","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-white"],[1,"w-16","h-1","bg-blue-500","mx-auto","mt-3","rounded-full"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-white/80","mb-2"],["formControlName","title","placeholder","Ej: El Padrino",1,"glass-input","w-full","px-4","py-3","rounded-lg","bg-white/10","backdrop-blur-sm","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["class","text-rose-400 text-sm mt-1",4,"ngIf"],["formControlName","year","placeholder","Ej: 1972",1,"glass-input","w-full","px-4","py-3","rounded-lg","bg-white/10","backdrop-blur-sm","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","director","placeholder","Ej: Francis Ford Coppola",1,"glass-input","w-full","px-4","py-3","rounded-lg","bg-white/10","backdrop-blur-sm","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","genre","placeholder","Ej: Drama, Crimen",1,"glass-input","w-full","px-4","py-3","rounded-lg","bg-white/10","backdrop-blur-sm","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","submit",1,"glass-button","w-full","px-6","py-3","rounded-lg","bg-blue-600/90","hover:bg-blue-700/90","text-white","font-medium","transition-all","duration-300","hover:shadow-lg","hover:shadow-blue-500/30","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","justify-center",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","class","h-5 w-5 animate-spin mr-2","viewBox","0 0 20 20","fill","currentColor",4,"ngIf"],[1,"text-rose-400","text-sm","mt-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","animate-spin","mr-2"],["fill-rule","evenodd","d","M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule","evenodd"]],template:function(t,r){if(t&1&&(M(0,"div",0)(1,"button",1),Ie("click",function(){return r.onCancel.emit()}),ot(),M(2,"svg",2),re(3,"path",3),R()(),Ot(),M(4,"div",4)(5,"h3",5),B(6),R(),re(7,"div",6),R(),M(8,"form",7),Ie("ngSubmit",function(){return r.submit()}),M(9,"div")(10,"label",8),B(11,"T\xEDtulo"),R(),re(12,"input",9),we(13,O3,2,0,"div",10),R(),M(14,"div")(15,"label",8),B(16,"A\xF1o"),R(),re(17,"input",11),we(18,F3,2,1,"div",10),R(),M(19,"div")(20,"label",8),B(21,"Director"),R(),re(22,"input",12),we(23,L3,2,0,"div",10),R(),M(24,"div")(25,"label",8),B(26,"G\xE9nero"),R(),re(27,"input",13),we(28,V3,2,0,"div",10),R(),M(29,"button",14),we(30,j3,2,0,"svg",15),B(31),R()()()),t&2){let i,o,s,a;V(6),St(" ",r.movieToEdit?"Editar Pel\xEDcula":"Agregar Pel\xEDcula"," "),V(2),z("formGroup",r.movieForm),V(5),z("ngIf",((i=r.movieForm.get("title"))==null?null:i.touched)&&((i=r.movieForm.get("title"))==null?null:i.invalid)),V(5),z("ngIf",((o=r.movieForm.get("year"))==null?null:o.touched)&&((o=r.movieForm.get("year"))==null?null:o.invalid)),V(5),z("ngIf",((s=r.movieForm.get("director"))==null?null:s.touched)&&((s=r.movieForm.get("director"))==null?null:s.invalid)),V(5),z("ngIf",((a=r.movieForm.get("genre"))==null?null:a.touched)&&((a=r.movieForm.get("genre"))==null?null:a.invalid)),V(),z("disabled",r.movieForm.invalid||r.loading),V(),z("ngIf",r.loading),V(),St(" ",r.loading?"Guardando...":r.movieToEdit?"Actualizar Pel\xEDcula":"Agregar Pel\xEDcula"," ")}},dependencies:[Ft,Kt,fa,da,Yn,hi,la,Co,So],encapsulation:2})};function U3(n,e){n&1&&(M(0,"div",9)(1,"div",10),re(2,"span",11),R()())}function B3(n,e){n&1&&(M(0,"div",12)(1,"div",13),ot(),M(2,"svg",14),re(3,"path",15),R(),Ot(),M(4,"h3",16),B(5,"No tienes pel\xEDculas favoritas"),R(),M(6,"p",17),B(7,"Agrega algunas pel\xEDculas para comenzar tu colecci\xF3n"),R()()())}function $3(n,e){if(n&1){let t=ps();M(0,"div",18)(1,"div",19),re(2,"img",20)(3,"div",21),M(4,"div",22)(5,"span",23),B(6,"Favorita"),R()()(),M(7,"div",24)(8,"h3",25),B(9),R(),M(10,"div",26)(11,"p",27),ot(),M(12,"svg",28),re(13,"path",29),R(),B(14),R(),Ot(),M(15,"p",27),ot(),M(16,"svg",28),re(17,"path",30),R(),B(18),R(),Ot(),M(19,"p",27),ot(),M(20,"svg",28),re(21,"path",31),R(),B(22),R()(),Ot(),M(23,"div",32)(24,"button",33),Ie("click",function(){let i=ur(t).$implicit,o=Ne();return lr(o.edit.emit(i))}),ot(),M(25,"svg",34),re(26,"path",35),R(),B(27," Editar "),R(),Ot(),M(28,"button",36),Ie("click",function(){let i=ur(t).$implicit,o=Ne();return lr(o.eliminar(i.id))}),ot(),M(29,"svg",34),re(30,"path",37),R(),B(31," Eliminar "),R()()()()}if(n&2){let t=e.$implicit;V(2),z("src",t.poster||"assets/default-movie.png",Ur)("alt",t.title),V(7),Wt(t.title),V(5),St(" ",t.year," "),V(4),St(" ",t.director||"Desconocido"," "),V(4),St(" ",t.genre||"Desconocido"," ")}}var Hf=class n{constructor(e,t){this.movieService=e;this.auth=t}refreshTrigger=!1;movies=[];loading=!0;edit=new De;ngOnInit(){this.loadMovies()}ngOnChanges(e){e.refreshTrigger&&this.loadMovies()}loadMovies(){return y(this,null,function*(){this.loading=!0;try{this.movies=yield this.movieService.getMovies()}catch(e){console.error("Error al obtener pel\xEDculas",e)}finally{this.loading=!1}})}eliminar(e){return y(this,null,function*(){confirm("\xBFEst\xE1s seguro de eliminar esta pel\xEDcula?")&&(yield this.movieService.deleteMovie(e),this.loadMovies())})}static \u0275fac=function(t){return new(t||n)(W(Zn),W(Dn))};static \u0275cmp=ze({type:n,selectors:[["app-movie-list"]],inputs:{refreshTrigger:"refreshTrigger"},outputs:{edit:"edit"},features:[yn],decls:10,vars:3,consts:[[1,"max-w-7xl","mx-auto","px-4","py-8"],[1,"glass-container","p-8","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl","mb-10"],[1,"text-3xl","font-bold","text-white","text-center","mb-8","pb-4","border-b","border-white/10"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-8","w-8","inline-block","mr-2"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],["class","flex justify-center my-12",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],["class","group relative overflow-hidden rounded-xl backdrop-blur-lg bg-white/5 border border-white/10 shadow-lg hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-500 hover:-translate-y-2",4,"ngFor","ngForOf"],[1,"flex","justify-center","my-12"],[1,"glass-container","p-6","rounded-full","backdrop-blur-lg","bg-white/10","border","border-white/20"],[1,"loading","loading-spinner","loading-lg","text-white"],[1,"text-center","py-12"],[1,"glass-container","inline-block","p-6","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","text-white/50","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xl","text-white","mb-2"],[1,"text-white/70"],[1,"group","relative","overflow-hidden","rounded-xl","backdrop-blur-lg","bg-white/5","border","border-white/10","shadow-lg","hover:shadow-2xl","hover:shadow-blue-500/20","transition-all","duration-500","hover:-translate-y-2"],[1,"relative","h-64","overflow-hidden"],[1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-105",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/70","via-transparent","to-transparent"],[1,"absolute","top-3","right-3"],[1,"text-xs","px-2","py-1","rounded-full","bg-blue-600/90","text-white","shadow"],[1,"p-4"],[1,"text-xl","font-bold","text-white","truncate"],[1,"mt-3","space-y-2","text-sm","text-white/80"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"],[1,"mt-6","flex","justify-between"],[1,"glass-button","px-4","py-2","rounded-lg","bg-amber-600/90","hover:bg-amber-700/90","text-white","text-sm","font-medium","transition-all","duration-200","flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"glass-button","px-4","py-2","rounded-lg","bg-rose-600/90","hover:bg-rose-700/90","text-white","text-sm","font-medium","transition-all","duration-200","flex","items-center",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"h2",2),ot(),M(3,"svg",3),re(4,"path",4),R(),B(5," Tus Pel\xEDculas Favoritas "),R(),we(6,U3,3,0,"div",5)(7,B3,8,0,"div",6),Ot(),M(8,"div",7),we(9,$3,32,6,"div",8),R()()()),t&2&&(V(6),z("ngIf",r.loading),V(),z("ngIf",!r.loading&&r.movies.length===0),V(2),z("ngForOf",r.movies))},dependencies:[Ft,Hr,Kt],encapsulation:2})};var zf=class n{constructor(e){this.movieService=e}searchQuery="";searchResults=new De;onSearch(){return y(this,null,function*(){if(this.searchQuery.trim())try{let e=yield this.movieService.searchMovies(this.searchQuery);this.searchResults.emit(e)}catch(e){console.error("Error en b\xFAsqueda:",e),this.searchResults.emit({error:!0,message:"Error en la b\xFAsqueda"})}})}static \u0275fac=function(t){return new(t||n)(W(Zn))};static \u0275cmp=ze({type:n,selectors:[["app-movie-search"]],outputs:{searchResults:"searchResults"},decls:6,vars:2,consts:[[1,"flex","items-center","justify-center","mb-8"],[1,"glass-container","flex","items-center","bg-white/10","backdrop-blur-md","rounded-full","border","border-white/20","shadow-lg","hover:shadow-xl","transition-shadow","duration-300","p-1"],["type","text","placeholder","Buscar pel\xEDculas...",1,"glass-input","bg-transparent","border-none","focus:outline-none","px-5","py-3","w-64","sm:w-80","text-white","placeholder-white/70",3,"ngModelChange","keyup.enter","ngModel"],[1,"glass-button","h-12","w-12","rounded-full","bg-blue-600","hover:bg-blue-700","transition-all","duration-200","flex","items-center","justify-center","shadow","hover:shadow-md",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"input",2),Hm("ngModelChange",function(o){return iD(r.searchQuery,o)||(r.searchQuery=o),o}),Ie("keyup.enter",function(){return r.onSearch()}),R(),M(3,"button",3),Ie("click",function(){return r.onSearch()}),ot(),M(4,"svg",4),re(5,"path",5),R()()()()),t&2&&(V(2),$m("ngModel",r.searchQuery),V(),z("disabled",!r.searchQuery.trim()))},dependencies:[kf,Yn,hi,hE],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};function H3(n,e){if(n&1&&(M(0,"div",21),B(1),R()),n&2){let t=Ne();V(),St(" ",t.errorMessage," ")}}function z3(n,e){n&1&&(M(0,"div",22)(1,"div",23),re(2,"span",24),R()())}function q3(n,e){if(n&1){let t=ps();M(0,"div",29)(1,"div",30),re(2,"img",31)(3,"div",32),R(),M(4,"div",33)(5,"h3",34),B(6),R(),M(7,"div",35)(8,"span",36),B(9),R()(),M(10,"button",37),Ie("click",function(){let i=ur(t).$implicit,o=Ne(2);return lr(o.addToFavorites(i))}),B(11," Agregar a favoritos "),R()()()}if(n&2){let t=e.$implicit;V(2),z("src",t.Poster!=="N/A"?t.Poster:"assets/default-movie.png",Ur)("alt",t.Title),V(4),Wt(t.Title),V(3),Wt(t.Year)}}function G3(n,e){if(n&1&&(M(0,"div",25)(1,"h2",26),B(2,"Pel\xEDculas P\xFAblicas"),R(),M(3,"div",27),we(4,q3,12,4,"div",28),R()()),n&2){let t=Ne();V(4),z("ngForOf",t.publicMovies)}}function W3(n,e){if(n&1){let t=ps();M(0,"div",25)(1,"app-movie-form",38),Ie("onSave",function(){ur(t);let i=Ne();return lr(i.onFormSaved())})("refreshList",function(){ur(t);let i=Ne();return lr(i.refreshList=!i.refreshList)})("onCancel",function(){ur(t);let i=Ne();return lr(i.showForm=!1)}),R()()}if(n&2){let t=Ne();V(),z("movieToEdit",t.movieToEdit)}}function K3(n,e){if(n&1){let t=ps();M(0,"div",29)(1,"div",30),re(2,"img",31)(3,"div",32),R(),M(4,"div",33)(5,"h3",34),B(6),R(),M(7,"div",35)(8,"span",36),B(9),R(),M(10,"span",39),B(11),R()(),M(12,"button",37),Ie("click",function(){let i=ur(t).$implicit,o=Ne(2);return lr(o.addToFavorites(i))}),B(13," Agregar a favoritos "),R()()()}if(n&2){let t=e.$implicit;V(2),z("src",t.Poster!=="N/A"?t.Poster:"assets/default-movie.png",Ur)("alt",t.Title),V(4),Wt(t.Title),V(3),Wt(t.Year),V(2),Wt(t.Type)}}function Q3(n,e){if(n&1&&(M(0,"div",25)(1,"h2",26),B(2,"Resultados de B\xFAsqueda"),R(),M(3,"div",27),we(4,K3,14,5,"div",28),R()()),n&2){let t=Ne();V(4),z("ngForOf",t.searchResults)}}var qf=class n{constructor(e,t,r){this.movieService=e;this.authService=t;this.router=r}showForm=!1;movieToEdit=null;searchResults=null;isLoading=!1;errorMessage=null;publicMovies=[];refreshList=!1;userName="";currentUser=null;openAddForm(){this.movieToEdit=null,this.showForm=!0}openEditForm(e){this.movieToEdit=e,this.showForm=!0}onFormSaved(){this.showForm=!1,this.movieToEdit=null}handleSearchResults(e){this.searchResults=e.Search||e,console.log("Resultados de b\xFAsqueda:",e)}addToFavorites(e){return y(this,null,function*(){this.isLoading=!0;try{let t=yield this.authService.getCurrentUser();if(!t)throw new Error("Usuario no autenticado");let r={title:e.Title,year:e.Year,director:e.Director||"Desconocido",genre:e.Genre||"Desconocido",poster:e.Poster,userId:t.uid};yield this.movieService.createMovie(r),this.errorMessage=null,this.refreshList=!this.refreshList,this.showSuccessNotification("Pel\xEDcula agregada a favoritos correctamente")}catch(t){console.error("Error al agregar favorito:",t),this.errorMessage=t.message||"Error al agregar pel\xEDcula a favoritos"}finally{this.isLoading=!1}})}showSuccessNotification(e){let t=document.createElement("div");t.className="fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}logout(){return y(this,null,function*(){try{yield this.authService.logout(),this.router.navigate(["/login"])}catch(e){console.error("Error al cerrar sesi\xF3n:",e)}})}ngOnInit(){return y(this,null,function*(){this.currentUser=yield this.authService.getCurrentUser(),this.userName=this.currentUser?.displayName||"Usuario"})}static \u0275fac=function(t){return new(t||n)(W(Zn),W(Bt),W(st))};static \u0275cmp=ze({type:n,selectors:[["app-dashboard"]],decls:30,vars:9,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-900","to-slate-800","p-6"],[1,"max-w-7xl","mx-auto"],[1,"glass-container","flex","justify-between","items-center","mb-8","p-6","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl"],[1,"text-3xl","font-bold","text-white"],[1,"glass-button","flex","items-center","gap-2","px-4","py-2","rounded-lg","bg-rose-600/90","hover:bg-rose-700/90","text-white","text-sm","font-medium","transition-all","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"glass-container","flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mb-8","p-6","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl"],[1,"mb-4","sm:mb-0"],[1,"text-4xl","font-bold","text-white","mb-2"],[1,"text-white/80"],[1,"flex","flex-col","sm:flex-row","gap-3","w-full","sm:w-auto"],[1,"glass-button","px-5","py-3","rounded-xl","bg-emerald-600/90","hover:bg-emerald-700/90","text-white","font-medium","transition-all","duration-300","hover:shadow-lg","hover:shadow-emerald-500/30","flex","items-center","justify-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"glass-container","mb-8","p-6","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl"],[3,"edit","refreshTrigger"],[3,"searchResults"],["class","glass-container mb-8 p-4 rounded-xl backdrop-blur-lg bg-red-600/20 border border-red-400/30 text-red-100 text-center",4,"ngIf"],["class","flex justify-center my-8",4,"ngIf"],["class","glass-container mb-10 p-6 rounded-2xl backdrop-blur-lg bg-white/10 border border-white/20 shadow-xl",4,"ngIf"],[1,"glass-container","mb-8","p-4","rounded-xl","backdrop-blur-lg","bg-red-600/20","border","border-red-400/30","text-red-100","text-center"],[1,"flex","justify-center","my-8"],[1,"glass-container","p-6","rounded-full","backdrop-blur-lg","bg-white/10","border","border-white/20"],[1,"loading","loading-spinner","loading-lg","text-white"],[1,"glass-container","mb-10","p-6","rounded-2xl","backdrop-blur-lg","bg-white/10","border","border-white/20","shadow-xl"],[1,"text-2xl","font-bold","text-white","mb-6","pb-2","border-b","border-white/10"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],["class","group relative overflow-hidden rounded-xl backdrop-blur-lg bg-white/5 border border-white/10 shadow-lg hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-500 hover:-translate-y-1",4,"ngFor","ngForOf"],[1,"group","relative","overflow-hidden","rounded-xl","backdrop-blur-lg","bg-white/5","border","border-white/10","shadow-lg","hover:shadow-2xl","hover:shadow-blue-500/20","transition-all","duration-500","hover:-translate-y-1"],[1,"relative","h-64","overflow-hidden"],[1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-105",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/70","via-transparent","to-transparent"],[1,"p-4"],[1,"text-xl","font-bold","text-white","truncate"],[1,"flex","justify-between","items-center","mt-3"],[1,"text-sm","text-white/80"],[1,"glass-button","mt-4","w-full","py-2","rounded-lg","bg-emerald-600/90","hover:bg-emerald-700/90","text-white","text-sm","font-medium","transition-all","duration-200",3,"click"],[3,"onSave","refreshList","onCancel","movieToEdit"],[1,"text-xs","px-2","py-1","rounded-full","bg-blue-600/90","text-white"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),B(4),sD(5,"titlecase"),R(),M(6,"button",4),Ie("click",function(){return r.logout()}),ot(),M(7,"svg",5),re(8,"path",6),R(),B(9," Cerrar sesi\xF3n "),R()(),Ot(),M(10,"div",7)(11,"div",8)(12,"h1",9),B(13,"Mi Cat\xE1logo"),R(),M(14,"p",10),B(15,"Administra tus pel\xEDculas favoritas"),R()(),M(16,"div",11)(17,"button",12),Ie("click",function(){return r.openAddForm()}),ot(),M(18,"svg",13),re(19,"path",14),R(),B(20," Nueva Pel\xEDcula "),R()()(),Ot(),M(21,"div",15)(22,"app-movie-list",16),Ie("edit",function(o){return r.openEditForm(o)}),R()(),M(23,"div",15)(24,"app-movie-search",17),Ie("searchResults",function(o){return r.handleSearchResults(o)}),R()(),we(25,H3,2,1,"div",18)(26,z3,3,0,"div",19)(27,G3,5,1,"div",20)(28,W3,2,1,"div",20)(29,Q3,5,1,"div",20),R()()),t&2&&(V(4),St("Hola, ",aD(5,7,r.userName),""),V(18),z("refreshTrigger",r.refreshList),V(3),z("ngIf",r.errorMessage),V(),z("ngIf",r.isLoading),V(),z("ngIf",r.publicMovies.length>0),V(),z("ngIf",r.showForm),V(),z("ngIf",r.searchResults))},dependencies:[Ft,Hr,Kt,Ym,Hf,zf,$f],encapsulation:2})};var fE=[{path:"",component:Lf},{path:"login",component:Vf},{path:"register",component:jf},{path:"dashboard",component:qf,canActivate:[Uf]},{path:"**",redirectTo:""}],fN=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Gt({type:n});static \u0275inj=zt({imports:[dh.forRoot(fE),dh]})};var pN={providers:[dD({eventCoalescing:!0}),Lv(fE),uv(),IS(()=>bS(li.firebaseConfig)),AA(()=>MA()),kM(()=>FM())]};var Y3=()=>["/dashboard"],Z3=()=>["/login"],J3=()=>["/register"],Gf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-navbar"]],decls:14,vars:6,consts:[[1,"navbar","bg-gradient-to-br","from-slate-800","via-slate-700","to-slate-600","shadow-lg","backdrop-blur-sm","bg-opacity-90","border-b","border-slate-600/30"],[1,"container","mx-auto","px-4"],[1,"flex-1"],["routerLink","/",1,"btn","btn-ghost","text-xl","text-white","hover:text-slate-200","transition-colors","duration-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M7 20h10"],[1,"flex-none","space-x-2"],[1,"glass-nav-btn","px-4","py-2","rounded-lg","text-sm","font-medium","transition-all","duration-200","hover:bg-slate-700/50","hover:shadow",3,"routerLink"],[1,"glass-primary-btn","px-4","py-2","rounded-lg","text-sm","font-medium","bg-blue-600","hover:bg-blue-700","transition-all","duration-200","shadow","hover:shadow-md",3,"routerLink"]],template:function(t,r){t&1&&(M(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),ot(),M(4,"svg",4),re(5,"path",5),R(),B(6," Cat\xE1logo de Pel\xEDculas "),R()(),Ot(),M(7,"div",6)(8,"a",7),B(9," Dashboard "),R(),M(10,"a",7),B(11," Login "),R(),M(12,"a",8),B(13," Registro "),R()()()()),t&2&&(V(8),z("routerLink",Br(3,Y3)),V(2),z("routerLink",Br(4,Z3)),V(2),z("routerLink",Br(5,J3)))},dependencies:[Qr],styles:[".glass-nav-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:1px solid rgba(255,255,255,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.glass-primary-btn[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.navbar[_ngcontent-%COMP%]{padding:.8rem 0}"],changeDetection:0})};var Wf=class n{title="catalogo-peliculas";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&re(0,"app-navbar")(1,"router-outlet")},dependencies:[Nc,Gf],encapsulation:2})};$c(li.firebaseConfig);sv(Wf,pN).catch(n=>console.error(n));
